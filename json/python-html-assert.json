{
  "info": {
    "author": "Robert Cox",
    "author_email": "robjohncox@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Operating System :: MacOS :: MacOS X",
      "Operating System :: POSIX :: Linux",
      "Programming Language :: Python :: 2.7",
      "Topic :: Software Development :: Testing",
      "Topic :: Utilities"
    ],
    "description": "python-html-assert\n==================\n\nUtility for asserting the structure and content of HTML in python.\n\n*Important Note:* This is very much in alpha, there will be bugs for now.\n\n### Installation\n\n```\npip install git+git://github.com/robjohncox/python-html-assert.git\n```\n\n### Philosophy\n\nTest that assert HTML are often fragile, with minor changes breaking tests.\nFurthermore, they are often difficult to maintain because they require\nnon-trivial x-path style queries to navigate through the HTML. More often than\nnot, the changes that break tests are caused by changes you don't even care\nabout from the perspective of your test assertions.\n\nTherefore, the goal of this utility is to provide a way to assert just the\nparts of an HTML document that you care about, in a way that helps make your\ntest less fragile. The basis of this is the specification (from here onwards\nspec) which describes what you want to assert. This is a tree structure that\nmimics HTML, where you only include the pieces of the document you want to\nassert. This is then matched against the HTML document to verify that the items\nyou specify appear in the HTML, and that they follow the structure you specify,\nwhilst ignoring all the other parts of the HTML that you do not care about.\n\n### Example\n\nLets say we have the following HTML document (either static, or generated from\na web framework like Django):\n\n```html\n<html>\n  <head>\n    <title>My Document</title>\n  </head>\n  <body>\n    <h1>My Document</h1>\n    <div class=\"main-content\">\n      <p>This is some text.</p>\n      <table id=\"important-table\">\n        <tr><td>A</td><td>One</td></tr>\n        <tr><td>B</td><td>Two</td></tr>\n      </table>\n    </div>\n  </body>\n</html>\n```\n\nWe assert the items that we care about:\n\n```python\ndef test_my_html(self):\n    html_src = \"...\"\n\n    spec = html(\n        heading('My Document'),\n        div(\n            text('This is some text.'),\n            elem('table', id='important-table)))\n\n    self.assertTrue(html_match(spec, html_src))\n```\n\nNow, even if there are changes to the HTML that we don't care about, our test\nmay not break. For example, lets say that the following happens:\n\n- New attributes are added to some elements.\n- Elements we care about get nested inside additional div elements.\n- A change in the underlying test data adds more rows to the table.\n\nEven though these impact the structure of the document, when we match the spec\nto the document it will be reported as OK, because the items that we care about\nstill appear correctly and in the right place. However, if changes happen to\nthe HTML document such that:\n\n- The content of the paragraph or the heading changes.\n- The table gets moved out of the main content div.\n- The HTML element wrapping the document goes missing.\n\nThen the assertion will fail.\n\n### Running the Test Suite\n\nThe test suite can be run with the following command, in an environment where\nthe requirements have been installed.\n\n```bash\npy.test\n```\n\n### Further Thoughts\n\nSome additional notes that may be of interest:\n\n- This works very well when running tests with Selenium, as you can take the\n  page source that gets loaded from the web driver.\n- This is not intended to solve the world's HTML assertion problems, it will\n  prove useful in some contexts, but in others this style of assertion will\n  prove to be too weak and you should therefore use a different tool.\n- As we develop the framework further and understand its strengths and\n  limitations, we will strive to make these very clear so people can make\n  conscious choices on whether this approach makes sense for them or not.\n\n### In the Pipeline\n\nThe important enhancements we will focus on first are:\n\n- Better error reporting, this is the single major weakness of the current\n  implementation, debugging test failures can be a real pain.\n- Finish an improved matcher algorithm that deals better with repeated\n  elements.\n- Write assertion methods using this logic for simpler integration into test\n  cases.\n\nThe `todo.txt` file contains a more detailed list of upcoming tasks.\n",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/robjohncox/python-html-assert",
    "keywords": "",
    "license": "MIT License",
    "maintainer": "",
    "maintainer_email": "",
    "name": "python-html-assert",
    "platform": "UNKNOWN",
    "project_url": "https://pypi.org/project/python-html-assert/",
    "release_url": "https://pypi.org/project/python-html-assert/0.1.3/",
    "requires_python": "",
    "summary": "partial matching of html using a tree-based specification",
    "version": "0.1.3"
  },
  "releases": {
    "0.1": [],
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "29555e3853df7ebd311eb7e5f9353014",
          "sha256": "77309a4fa6175b15eb51a811b488bcf2e8c41cd5d3a3c729d96dbbbaf1ba867e"
        },
        "downloads": 579,
        "filename": "python_html_assert-0.1.1-py27-none-any.whl",
        "has_sig": false,
        "md5_digest": "29555e3853df7ebd311eb7e5f9353014",
        "packagetype": "bdist_wheel",
        "python_version": "2.7",
        "size": 10619,
        "upload_time": "2015-09-24T15:10:19",
        "url": "https://files.pythonhosted.org/packages/2a/d0/dfbe20b5740e4d9913dedfe700374af7179647cbdc3a0bb1ab1d38532efb/python_html_assert-0.1.1-py27-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "4b952fb59758826e2ac2c3515e9d1452",
          "sha256": "bfbf9cbf72bf50083414a1a2b814b89951856951ac9bb7788c88e371a5fa7195"
        },
        "downloads": 1024,
        "filename": "python-html-assert-0.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "4b952fb59758826e2ac2c3515e9d1452",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 10683,
        "upload_time": "2015-09-24T15:13:24",
        "url": "https://files.pythonhosted.org/packages/a2/53/56249a3284935fc0f7be3ed162da798756c61091d159a503b8e55e744b5b/python-html-assert-0.1.1.tar.gz"
      }
    ],
    "0.1.2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "6e0b71b7301a5bdb1963f79b939882f3",
          "sha256": "b4d4d28666c337f805d4ca5d6c36bdc6467f6bbad9b6eaf0ed6326ff7bc94638"
        },
        "downloads": 1017,
        "filename": "python_html_assert-0.1.2-py27-none-any.whl",
        "has_sig": false,
        "md5_digest": "6e0b71b7301a5bdb1963f79b939882f3",
        "packagetype": "bdist_wheel",
        "python_version": "2.7",
        "size": 10620,
        "upload_time": "2015-09-24T15:16:54",
        "url": "https://files.pythonhosted.org/packages/4a/f1/f21bef30305defb56794a76d8e4d2759b92695a11d19eb0cd2a31793b806/python_html_assert-0.1.2-py27-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "0eeeebfb77af5d13accb087e2b49ce43",
          "sha256": "a87f0bcd6d6628e4d340ab22822137fa6b0045743e9bbec46d6476360f424485"
        },
        "downloads": 634,
        "filename": "python-html-assert-0.1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "0eeeebfb77af5d13accb087e2b49ce43",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 10699,
        "upload_time": "2015-09-24T15:16:36",
        "url": "https://files.pythonhosted.org/packages/38/9c/0eafb573d07517a33ebb2789563f231c67e52c564c3c7ba239c5245520a8/python-html-assert-0.1.2.tar.gz"
      }
    ],
    "0.1.3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "7cb7415ca20786ac10662c38884f0fbb",
          "sha256": "f49b4d6d1794eaed77e61d86313c51f3d8d0c95df214366faff8e042a538e22d"
        },
        "downloads": 18,
        "filename": "python-html-assert-0.1.3.tar.gz",
        "has_sig": false,
        "md5_digest": "7cb7415ca20786ac10662c38884f0fbb",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 10401,
        "upload_time": "2017-02-07T13:32:35",
        "url": "https://files.pythonhosted.org/packages/cf/0e/47acddf3417a2d83426a76558ad4b06c82b90e095681de0bb83be9e2fbff/python-html-assert-0.1.3.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "7cb7415ca20786ac10662c38884f0fbb",
        "sha256": "f49b4d6d1794eaed77e61d86313c51f3d8d0c95df214366faff8e042a538e22d"
      },
      "downloads": 18,
      "filename": "python-html-assert-0.1.3.tar.gz",
      "has_sig": false,
      "md5_digest": "7cb7415ca20786ac10662c38884f0fbb",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 10401,
      "upload_time": "2017-02-07T13:32:35",
      "url": "https://files.pythonhosted.org/packages/cf/0e/47acddf3417a2d83426a76558ad4b06c82b90e095681de0bb83be9e2fbff/python-html-assert-0.1.3.tar.gz"
    }
  ]
}
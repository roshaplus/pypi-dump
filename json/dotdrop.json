{
  "info": {
    "author": "deadc0de6",
    "author_email": "deadc0de6@foo.bar",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "License :: OSI Approved :: GNU General Public License v3 (GPLv3)",
      "Programming Language :: Python :: 3.3",
      "Programming Language :: Python :: 3.4",
      "Programming Language :: Python :: 3.5",
      "Programming Language :: Python :: 3.6"
    ],
    "description": "DOTDROP\n=======\n\n|Build Status| |License: GPL v3| |Coverage Status|\n\n*Save your dotfiles once, deploy them everywhere*\n\nDotdrop makes the management of dotfiles between different hosts easy.\nIt allows to store your dotfiles on git and automagically deploy\ndifferent versions on different setups.\n\nFor example you can have a set of dotfiles for your home laptop and a\ndifferent set for your office desktop. Those sets may overlap and\ndifferent versions of the same dotfile can be deployed on different\npredefined *profiles*. Another use case is when you have a main set of\ndotfiles for your everyday\u2019s host and a sub-set you only need to deploy\nto temporary hosts (cloud VM, etc) that may be using a slightly\ndifferent version of some of the dotfiles.\n\nFeatures:\n\n-  Sync once every dotfile on git for different usages\n-  Allow dotfiles templating by leveraging\n   `jinja2 <http://jinja.pocoo.org/>`__\n-  Comparison between local and stored dotfiles\n-  Handling multiple profiles with different sets of dotfiles\n-  Easy import dotfiles\n-  Handle files and directories\n-  Associate an action to the deployment of specific dotfiles\n\nCheck the `blog post <https://deadc0de.re/articles/dotfiles.html>`__ and\nand the `example <#example>`__ for more.\n\nQuick start:\n\n.. code:: bash\n\n    mkdir dotfiles && cd dotfiles\n    git init\n    git submodule add https://github.com/deadc0de6/dotdrop.git\n    ./dotdrop/bootstrap.sh\n    ./dotdrop.sh --help\n\nWhy dotdrop ?\n-------------\n\nThere exist many tools to manage dotfiles however not many allow to\ndeploy different versions of the same dotfile on different hosts.\nMoreover dotdrop allows to specify the set of dotfiles that need to be\ndeployed on a specific profile.\n\nSee the `example <#example>`__ for a concrete example on why dotdrop\nrocks.\n\n--------------\n\n**Table of Contents**\n\n-  `Installation <#installation>`__\n-  `Usage <#usage>`__\n\n   -  `Installing dotfiles <#installing-dotfiles>`__\n   -  `Diffing your local dotfiles with\n      dotdrop <#diffing-your-local-dotfiles-with-dotdrop>`__\n   -  `Import new dotfiles <#import-new-dotfiles>`__\n   -  `List the available profiles <#list-the-available-profiles>`__\n   -  `List configured dotfiles <#list-configured-dotfiles>`__\n   -  `Execute an action when deploying a\n      dotfile <#execute-an-action-when-deploying-a-dotfile>`__\n   -  `All dotfiles for a profile <#all-dotfiles-for-a-profile>`__\n   -  `Include dotfiles from another\n      profile <#include-dotfiles-from-another-profile>`__\n   -  `Update dotdrop <#update-dotdrop>`__\n\n-  `Template <#template>`__\n-  `Example <#example>`__\n-  `People using dotdrop <#people-using-dotdrop>`__\n\nInstallation\n============\n\nThe following will create a repository for your dotfiles and keep\ndotdrop as a submodules:\n\n.. code:: bash\n\n    $ mkdir dotfiles; cd dotfiles\n    $ git init\n    $ git submodule add https://github.com/deadc0de6/dotdrop.git\n    $ ./dotdrop/bootstrap.sh\n\nThen install the requirements:\n\n.. code:: bash\n\n    $ sudo pip3 install -r dotdrop/requirements.txt\n\nFinally import your dotfiles as described `below <#usage>`__.\n\nFor MacOS users, make sure to install ``realpath`` through homebrew\n(part of *coreutils*).\n\nUsage\n=====\n\nIf starting fresh, the ``import`` command of dotdrop allows to easily\nand quickly get a running setup.\n\nInstall dotdrop on one of your host and then import any dotfiles you\nwant dotdrop to manage (be it a file or a folder):\n\n.. code:: bash\n\n    $ ./dotdrop.sh import ~/.vimrc ~/.xinitrc\n\nDotdrop does two things:\n\n-  Copy the dotfiles in the *dotfiles* folder\n-  Create the entries in the *config.yaml* file\n\nCommit and push your changes.\n\nThen go to another host where your dotfiles need to be managed as well,\nclone the previously setup git tree and compare local dotfiles with the\nones stored by dotdrop:\n\n.. code:: bash\n\n    $ ./dotdrop.sh list\n    $ ./dotdrop.sh compare --profile=<other-host-profile>\n\nThen adapt any dotfile using the `template <#template>`__ feature and\nset a new profile for the current host by simply adding lines in the\nconfig files, for example:\n\n.. code:: yaml\n\n    ...\n    profiles:\n      host1:\n        dotfiles:\n        - f_vimrc\n        - f_xinitrc\n      host2:\n        dotfiles:\n        - f_vimrc\n    ...\n\nWhen done, you can install your dotfiles using\n\n.. code:: bash\n\n    $ ./dotdrop.sh install\n\nThat\u2019s it, a single repository with all your dotfiles for your different\nhosts.\n\nFor additional usage see the help:\n\n::\n\n    $ ./dotdrop.sh --help\n\n         _       _      _\n      __| | ___ | |_ __| |_ __ ___  _ __\n     / _` |/ _ \\| __/ _` | '__/ _ \\| '_ |\n     \\__,_|\\___/ \\__\\__,_|_|  \\___/| .__/\n                                   |_|\n\n    Usage:\n      dotdrop.py install [-fndVc <path>] [--profile=<profile>]\n      dotdrop.py compare [-Vc <path>] [--profile=<profile>] [--files=<files>]\n      dotdrop.py import [-ldVc <path>] [--profile=<profile>] <paths>...\n      dotdrop.py listfiles [-Vc <path>] [--profile=<profile>]\n      dotdrop.py list [-Vc <path>]\n      dotdrop.py --help\n      dotdrop.py --version\n\n    Options:\n      --profile=<profile>     Specify the profile to use [default: thor].\n      -c --cfg=<path>         Path to the config [default: /home/drits/gits/github/dotdrop/config.yaml].\n      --files=<files>         Comma separated list of files to compare.\n      -n --nodiff             Do not diff when installing.\n      -l --link               Import and link.\n      -f --force              Do not warn if exists.\n      -V --verbose            Be verbose.\n      -d --dry                Dry run.\n      -v --version            Show version.\n      -h --help               Show this screen.\n\nFor easy deployment the default profile used by dotdrop reflects the\nhostname of the host on which it runs.\n\nConfig file details\n-------------------\n\nThe config file (defaults to *config.yaml*) is a yaml file containing\nthe following entries:\n\n-  **config** entry: contains settings for the deployment\n\n   -  ``backup``: create a backup of the dotfile in case it differs from\n      the one that will be installed by dotdrop\n   -  ``create``: create folder hierarchy when installing dotfiles if it\n      doesn\u2019t exist\n   -  ``dotpath``: path to the folder containing the dotfiles to be\n      managed by dotdrop (absolute path or relative to the config file\n      location)\n\n-  **dotfiles** entry: a list of dotfiles\n\n   -  When ``link`` is true, dotdrop will create a symlink instead of\n      copying. Template generation (as in `template <#template>`__) is\n      not supported when ``link`` is true.\n   -  ``actions`` contains a list of action keys that need to be defined\n      in the **actions** entry below.\n\n   ::\n\n       <dotfile-key-name>:\n         dst: <where-this-file-is-deployed>\n         src: <filename-within-the-dotpath>\n         # Optional\n         link: <true|false>\n         actions:\n           - <action-key>\n\n-  **profiles** entry: a list of profiles with the different dotfiles\n   that need to be managed\n\n   -  ``dotfiles``: the dotfiles associated to this profile\n   -  ``include``: include all dotfiles from another profile (optional)\n\n::\n\n      <some-name-usually-the-hostname>:\n        dotfiles:\n        - <some-dotfile-key-name-defined-above>\n        - <some-other-dotfile-key-name>\n        - ...\n        # Optional\n        include:\n        - <some-other-profile>\n        - ...\n\n-  **actions** entry: a list of action\n\n::\n\n      <action-key>: <command-to-execute>\n\nInstalling dotfiles\n-------------------\n\nSimply run\n\n.. code:: bash\n\n    ./dotdrop.sh install\n\nUse the ``--profile`` switch to specify a profile if not using the\nhost\u2019s hostname.\n\nDiffing your local dotfiles with dotdrop\n----------------------------------------\n\nCompare local dotfiles with dotdrop\u2019s defined ones:\n\n.. code:: bash\n\n    ./dotdrop.sh compare\n\nImport new dotfiles\n-------------------\n\nDotdrop allows to import dotfiles directly from the filesystem. It will\ncopy the dotfile and update the config file automatically.\n\nFor example to import ``~/.xinitrc``\n\n.. code:: bash\n\n    $ ./dotdrop.sh import ~/.xinitrc\n\nList the available profiles\n---------------------------\n\n.. code:: bash\n\n    $ ./dotdrop.sh list\n\nDotdrop allows to choose which profile to use with the *\u2013profile* switch\nif you use something else than the default (the hostname).\n\nList configured dotfiles\n------------------------\n\nThe following command lists the different dotfiles configured for a\nspecific profile:\n\n.. code:: bash\n\n    $ ./dotdrop.sh listfiles --profile=<some-profile>\n\nFor example:\n\n::\n\n    Dotfile(s) for profile \"some-profile\":\n\n    f_vimrc (file: \"vimrc\", link: False)\n        -> ~/.vimrc\n    f_dunstrc (file: \"config/dunst/dunstrc\", link: False)\n        -> ~/.config/dunst/dunstrc\n\nExecute an action when deploying a dotfile\n------------------------------------------\n\nIt is sometimes useful to execute some kind of action when deploying a\ndotfile. For example let\u2019s consider\n`Vundle <https://github.com/VundleVim/Vundle.vim>`__ is used to manage\nvim\u2019s plugins, the following action could be set to update and install\nthe plugins when ``vimrc`` is deployed:\n\n.. code:: yaml\n\n    actions:\n      vundle: vim +VundleClean! +VundleInstall +VundleInstall! +qall\n    config:\n      backup: true\n      create: true\n      dotpath: dotfiles\n    dotfiles:\n      f_vimrc:\n        dst: ~/.vimrc\n        src: vimrc\n        actions:\n          - vundle\n    profiles:\n      home:\n        dotfiles:\n        - f_vimrc\n\nThus when ``f_vimrc`` is installed, the command\n``vim +VundleClean! +VundleInstall +VundleInstall! +qall`` will be\nexecuted.\n\nUpdate dotdrop\n--------------\n\nIf installed through the ``bootstrap.sh`` script, dotdrop is installed\nas a submodule within your git tree. You can thus simply run the\nfollowing command to update the submodule:\n\n.. code:: bash\n\n    $ git submodule update --recursive --remote\n\nAll dotfiles for a profile\n--------------------------\n\nTo use all defined dotfiles for a profile, simply use the keyword\n``ALL``.\n\nFor example:\n\n.. code:: yaml\n\n    dotfiles:\n      f_xinitrc:\n        dst: ~/.xinitrc\n        src: xinitrc\n      f_vimrc:\n        dst: ~/.vimrc\n        src: vimrc\n    profiles:\n      host1:\n        dotfiles:\n        - ALL\n      host2:\n        dotfiles:\n        - f_vimrc\n\nInclude dotfiles from another profile\n-------------------------------------\n\nIf one profile is using the entire set of another profile, one can use\nthe ``include`` entry to avoid redundancy.\n\nFor example:\n\n.. code:: yaml\n\n    profiles:\n      host1:\n          dotfiles:\n            - f_xinitrc\n          include:\n            - host2\n      host2:\n          dotfiles:\n            - f_vimrc\n\nHere profile *host1* contains all the dotfiles defined for *host2* plus\n``f_xinitrc``.\n\nTemplate\n========\n\nDotdrop leverage the power of `jinja2 <http://jinja.pocoo.org/>`__ to\nhandle the templating of dotfiles. See `jinja2 template\ndoc <http://jinja.pocoo.org/docs/2.9/templates/>`__ or the `example\nsection <#example>`__ for more information on how to template your\ndotfiles.\n\nNote that dotdrop uses different delimiters than\n`jinja2 <http://jinja.pocoo.org/>`__\\ \u2019s defaults:\n\n-  block start = ``{%@@``\n-  block end = ``@@%}``\n-  variable start = ``{{@@``\n-  variable end = ``@@}}``\n-  comment start = ``{#@@``\n-  comment end = ``@@#}``\n\nAvailable variables\n-------------------\n\nProfile\n~~~~~~~\n\n``{{@@ profile @@}}`` contains the profile provided to dotdrop. Below\nexample shows how it is used.\n\nEnvironment variables\n~~~~~~~~~~~~~~~~~~~~~\n\nIt\u2019s possible to access environment variables inside the templates. This\nfeature can be used like this:\n\n::\n\n    {{@@ env['MY_VAR'] @@}}\n\nThis allows for storing host-specific properties and/or secrets in\nenvironment variables.\n\nYou can have an ``.env`` file in the directory where your\n``config.yaml`` lies:\n\n::\n\n    # My variables for this host\n    var1=\"some value\"\n    var2=\"some other value\"\n\n    # Some secrets\n    pass=\"verysecurepassword\"\n\nOf course, this file should not be tracked by git (put it in your\n``.gitignore``).\n\nThen you can invoke dotdrop with the help of an alias like that:\n\n::\n\n    alias dotdrop='eval $(grep -v \"^#\" ~/dotfiles/.env) ~/dotfiles/dotdrop.sh'\n\nThis loads all the variables from ``.env`` (while omitting lines\nstarting with ``#``) before calling ``~/dotfiles/dotdrop.sh``.\n\nExample\n=======\n\nLet\u2019s consider two hosts:\n\n-  **home**: home computer with hostname *home*\n-  **office**: office computer with hostname *office*\n\nThe home computer is running `awesomeWM <https://awesomewm.org/>`__ and\nthe office computer `bspwm <https://github.com/baskerville/bspwm>`__.\nThe *.xinitrc* file will therefore be different while still sharing some\nlines. Dotdrop allows to store only one single *.xinitrc* but to deploy\ndifferent versions depending on where it is run from.\n\nThe following file is the dotfile stored in dotdrop containing jinja2\ndirectives for the deployment based on the profile used.\n\nDotfile ``<dotpath>/xinitrc``:\n\n.. code:: bash\n\n    #!/bin/bash\n\n    # load Xresources\n    userresources=$HOME/.Xresources\n    if [ -f \"$userresources\" ]; then\n          xrdb -merge \"$userresources\" &\n    fi\n\n    # launch the wm\n    {%@@ if profile == \"home\" @@%}\n    exec awesome\n    {%@@ elif profile == \"office\" @@%}\n    exec bspwm\n    {%@@ endif @@%}\n\nThe *if branch* will define which part is deployed based on the hostname\nof the host on which dotdrop is run from.\n\nAnd here\u2019s how the config file looks like with this setup. Of course any\ncombination of the dotfiles (different sets) can be done if more\ndotfiles have to be deployed.\n\n``config.yaml`` file:\n\n.. code:: yaml\n\n    config:\n      backup: true\n      create: true\n      dotpath: dotfiles\n    dotfiles:\n      f_xinitrc:\n        dst: ~/.xinitrc\n        src: xinitrc\n    profiles:\n      home:\n        dotfiles:\n        - f_xinitrc\n      office:\n        dotfiles:\n        - f_xinitrc\n\nInstalling the dotfiles (the ``--profile`` switch is not needed if the\nhostname matches the entry in the config file):\n\n.. code:: bash\n\n    # on home computer\n    $ ./dotdrop.sh install --profile=home\n    # on office computer\n    $ ./dotdrop.sh install --profile=office\n\nComparing the dotfiles:\n\n.. code:: bash\n\n    # on home computer\n    $ ./dotdrop.sh compare\n    # on office computer\n    $ ./dotdrop.sh compare\n\nPeople using dotdrop\n====================\n\nFor more examples, see how people are using dotdrop:\n\n-  https://github.com/open-dynaMIX/dotfiles\n-  https://github.com/moyiz/dotfiles\n-  https://github.com/japorized/dotfiles\n\nRelated projects\n================\n\nThese are some dotfiles related projects that have inspired me for\ndotdrop:\n\n-  https://github.com/EvanPurkhiser/dots\n-  https://github.com/jaagr/dots\n-  https://github.com/anishathalye/dotbot\n-  https://github.com/tomjnixon/Dotfiles\n\nSee also `github does dotfiles <https://dotfiles.github.io/>`__\n\nContribution\n============\n\nIf you are having trouble installing or using dotdrop, open an issue.\n\nIf you want to contribute, feel free to do a PR (please follow PEP8).\n\nLicense\n=======\n\nThis project is licensed under the terms of the GPLv3 license.\n\n.. |Build Status| image:: https://travis-ci.org/deadc0de6/dotdrop.svg?branch=master\n   :target: https://travis-ci.org/deadc0de6/dotdrop\n.. |License: GPL v3| image:: https://img.shields.io/badge/License-GPL%20v3-blue.svg\n   :target: http://www.gnu.org/licenses/gpl-3.0\n.. |Coverage Status| image:: https://coveralls.io/repos/github/deadc0de6/dotdrop/badge.svg?branch=master\n   :target: https://coveralls.io/github/deadc0de6/dotdrop?branch=master\n\n\n",
    "docs_url": null,
    "download_url": "https://github.com/deadc0de6/dotdrop/archive/v0.7.tar.gz",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/deadc0de6/dotdrop",
    "keywords": "dotfiles jinja2",
    "license": "GPLv3",
    "maintainer": "",
    "maintainer_email": "",
    "name": "dotdrop",
    "platform": "",
    "project_url": "https://pypi.org/project/dotdrop/",
    "release_url": "https://pypi.org/project/dotdrop/0.7/",
    "requires_dist": [
      "pytest-cov; extra == 'test'",
      "pytest; extra == 'test'",
      "coverage; extra == 'test'",
      "check-manifest; extra == 'dev'",
      "PyYAML",
      "Jinja2",
      "docopt"
    ],
    "requires_python": "",
    "summary": "Save your dotfiles once, deploy them everywhere",
    "version": "0.7"
  },
  "releases": {
    "0.7": [
      {
        "comment_text": "",
        "digests": {
          "md5": "b64d24d2549742a6255ff48abbf515ae",
          "sha256": "c7701822be4d0835b7dccbe08fba00a5c600a72577d662e1814d8eef9692a667"
        },
        "downloads": -1,
        "filename": "dotdrop-0.7-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "b64d24d2549742a6255ff48abbf515ae",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 35656,
        "upload_time": "2017-12-23T18:39:55",
        "url": "https://files.pythonhosted.org/packages/86/6f/a7c69188022f316389a2cb18be291dca241233a0602484e5cfcd06f4579b/dotdrop-0.7-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "4fef3af29c3d976e1392014de2fe164d",
          "sha256": "a66f5c15b57fe2de3fdee964826a8cdc89d52ef0596d98b380a34eca7b20f390"
        },
        "downloads": -1,
        "filename": "dotdrop-0.7.tar.gz",
        "has_sig": false,
        "md5_digest": "4fef3af29c3d976e1392014de2fe164d",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 33567,
        "upload_time": "2017-12-23T18:39:59",
        "url": "https://files.pythonhosted.org/packages/1f/ce/1a72798c52ff6da74f3bb3824990847bf4b2b3b268788d206688f5b42c51/dotdrop-0.7.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "b64d24d2549742a6255ff48abbf515ae",
        "sha256": "c7701822be4d0835b7dccbe08fba00a5c600a72577d662e1814d8eef9692a667"
      },
      "downloads": -1,
      "filename": "dotdrop-0.7-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "b64d24d2549742a6255ff48abbf515ae",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "size": 35656,
      "upload_time": "2017-12-23T18:39:55",
      "url": "https://files.pythonhosted.org/packages/86/6f/a7c69188022f316389a2cb18be291dca241233a0602484e5cfcd06f4579b/dotdrop-0.7-py3-none-any.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "4fef3af29c3d976e1392014de2fe164d",
        "sha256": "a66f5c15b57fe2de3fdee964826a8cdc89d52ef0596d98b380a34eca7b20f390"
      },
      "downloads": -1,
      "filename": "dotdrop-0.7.tar.gz",
      "has_sig": false,
      "md5_digest": "4fef3af29c3d976e1392014de2fe164d",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 33567,
      "upload_time": "2017-12-23T18:39:59",
      "url": "https://files.pythonhosted.org/packages/1f/ce/1a72798c52ff6da74f3bb3824990847bf4b2b3b268788d206688f5b42c51/dotdrop-0.7.tar.gz"
    }
  ]
}
{
  "info": {
    "author": "",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "|Build Status| |Coverage Status|\n\n======================\ndjango-generic-counter\n======================\n\nThis small Django app provides a simple ``Counter`` model which consists\nof a ``name`` and an integer ``count``. It can be used any time you need\nto keep a tally of something, or store an arbitrary number in the\ndatabase.\n\nFor example, when using a `CouchDB change listener`_ it may be useful to\nkeep a track of the ``seq`` number you\u2019ve reached in the database in\norder to continue from the point at which you left off.\n\nUsage\n-----\n\nInclude ``django_generic_counter`` in your ``INSTALLED_APPS``, then use\nthe ``Counter`` like so:\n\n.. code:: python\n\n    from django_generic_counter import Counter\n\n    c = Counter(name=\"Green bottles hanging on the wall\", count=10)\n    assert int(c) == 10, \"Ten green bottles hanging on the wall\"\n    assert c.count == 10, \"Ten green bottles hanging on the wall\"\n    c -= 1  # And if one green bottle should accidentally fall\n    assert int(c) == 9, \"There'll be nine green bottles hanging on the wall\"\n\nThe following are features of the Counter object: \n\n- Assignment addition ``c += 10``\n- Assignment subtraction ``c -= 10``\n- Cast to int ``int(c)``\n- Set count to absolute value immediately locally and in database ``c.set_count(1337)``\n\nUsage with South\n----------------\n\nThe migrations for this project in the ``migrations`` directory have\nbeen made using Django 1.8. This means that if you\u2019re using South you\nmust tell it to look in the ``south_migrations`` directory for its\nmigrations by putting the following in your settings file:\n\n.. code:: python\n\n    SOUTH_MIGRATION_MODULES = {\n        'django_generic_counter': 'django_generic_counter.south_migrations'\n    }\n\nExample\n-------\n\nThe following is a concrete example of the usage of a ``Counter`` when\napplied to keep track of the ``seq`` number of a CouchDB change\nlistener.\n\n.. code:: python\n\n    class ChangeListener:\n\n        def __init__(self, db_name, seq_counter_name, change_handler):\n            self.db_name = db_name\n            self.seq_counter_name = seq_counter_name\n            self.change_handler = change_handler\n\n        @property\n        def seq(self):\n            \"\"\"\n            Gets the seq counter for this change listener and returns its count. If no counter is\n            found, returns 0.\n            \"\"\"\n            try:\n                return int(Counter.objects.get(name=self.seq_counter_name))\n            except Counter.DoesNotExist:\n                return 0\n\n        @seq.setter\n        def seq(self, seq):\n            \"\"\"\n            Gets or creates the seq counter for this change listener and sets its count to 'seq'.\n            \"\"\"\n            counter, _ = Counter.objects.get_or_create(name=self.seq_counter_name)\n            counter.set_count(seq)\n\n        def run(self):\n            \"\"\"\n            Wait for changes and pass them to `self.change_handler` as they occur.\n            \"\"\"\n            db = get_db(self.db_name)\n            changes_stream = ChangesStream(db, feed=\"continuous\", heartbeat=True, since=self.seq)\n            for change in changes_stream:\n                if self.change_handler(db, change):\n                    self.seq = change[\"seq\"]\n\n.. _CouchDB change listener: http://guide.couchdb.org/draft/notifications.html\n\n.. |Build Status| image:: https://travis-ci.org/0x07Ltd/django-generic-counter.svg?branch=master\n   :target: https://travis-ci.org/0x07Ltd/django-generic-counter\n.. |Coverage Status| image:: https://coveralls.io/repos/0x07Ltd/django-generic-counter/badge.svg?branch=master&service=github\n   :target: https://coveralls.io/github/0x07Ltd/django-generic-counter?branch=master",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "django-generic-counter",
    "platform": null,
    "project_url": "https://pypi.org/project/django-generic-counter/",
    "release_url": "https://pypi.org/project/django-generic-counter/0.0.7/",
    "requires_python": "",
    "summary": "|Build Status| |Coverage Status|",
    "version": "0.0.7"
  },
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "2157fe8e180e0e2839e4dc1cdd0702c4",
          "sha256": "a4ba8823f31ffa41d989632c0a8ea6760c94c132b28985660fc802cd8c09e9bc"
        },
        "downloads": 769,
        "filename": "django-generic-counter-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "2157fe8e180e0e2839e4dc1cdd0702c4",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 1946,
        "upload_time": "2015-09-10T10:20:59",
        "url": "https://files.pythonhosted.org/packages/11/8d/d3b6f54c39347685ff5e5075b1aa4f78dd79439ef93bd857bec934ba3356/django-generic-counter-0.0.1.tar.gz"
      }
    ],
    "0.0.2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "51029243f2798dc6f2104bfa5afa096f",
          "sha256": "3e09456a21c1402de1534f2b9c2c617ffdcedec0ab78bc65b3e8b1ec86487248"
        },
        "downloads": 690,
        "filename": "django-generic-counter-0.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "51029243f2798dc6f2104bfa5afa096f",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 2244,
        "upload_time": "2015-09-10T10:45:03",
        "url": "https://files.pythonhosted.org/packages/b0/8a/e0a403d0bd1e8b5ae13d7b14e6fab1644998a0670088f2817287fab56baa/django-generic-counter-0.0.2.tar.gz"
      }
    ],
    "0.0.3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "3bb50c1a721812d3652717e8a146e1c4",
          "sha256": "ae9dad1c65c435de86a04d69c10ac1e09f4475df61008083696b2d70a52c5809"
        },
        "downloads": 713,
        "filename": "django-generic-counter-0.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "3bb50c1a721812d3652717e8a146e1c4",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 2909,
        "upload_time": "2015-09-10T11:04:53",
        "url": "https://files.pythonhosted.org/packages/e5/a8/e4311c82341b1a87362f3c27f872c25e82084563522fd30576134fc8fcc7/django-generic-counter-0.0.3.tar.gz"
      }
    ],
    "0.0.4": [
      {
        "comment_text": "",
        "digests": {
          "md5": "973db810191ad6cc478a02a85b5593a0",
          "sha256": "44dbab3ea920275b27644972946b3ab873e6e50fbc9aa53b28b16c7ba66e8ecb"
        },
        "downloads": 552,
        "filename": "django-generic-counter-0.0.4.tar.gz",
        "has_sig": false,
        "md5_digest": "973db810191ad6cc478a02a85b5593a0",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 3256,
        "upload_time": "2015-11-10T19:35:48",
        "url": "https://files.pythonhosted.org/packages/95/32/c70eaf7f79856ebe7bd71db0415ebcf8e62decd6f8be018a4955d844ed30/django-generic-counter-0.0.4.tar.gz"
      }
    ],
    "0.0.5": [
      {
        "comment_text": "",
        "digests": {
          "md5": "7d8373cdf7b47146c939de5cb2ffaf59",
          "sha256": "1270fd9bbcf524c2141d940c656548dff1a62a55e77bf33c35e2b8e608e9a14a"
        },
        "downloads": 861,
        "filename": "django-generic-counter-0.0.5.tar.gz",
        "has_sig": false,
        "md5_digest": "7d8373cdf7b47146c939de5cb2ffaf59",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 3257,
        "upload_time": "2015-11-11T09:44:48",
        "url": "https://files.pythonhosted.org/packages/68/dd/0446a3bd7cfef56fc239d4290f9b0aae3aa6bdf01206cfabd8d2312678a9/django-generic-counter-0.0.5.tar.gz"
      }
    ],
    "0.0.6": [
      {
        "comment_text": "",
        "digests": {
          "md5": "7cf3b925f6a8a885fbc841d7f3a50633",
          "sha256": "bbbd92d7bb230a3eab0d215d9a256a3ae735d8f7e1ef81fee1f84982be1d37d7"
        },
        "downloads": 543,
        "filename": "django-generic-counter-0.0.6.tar.gz",
        "has_sig": false,
        "md5_digest": "7cf3b925f6a8a885fbc841d7f3a50633",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5259,
        "upload_time": "2015-11-11T10:34:23",
        "url": "https://files.pythonhosted.org/packages/8d/d4/dc01b50bf746a9b2bcc465fbca0280533714c481e6a58b9472791c3e3637/django-generic-counter-0.0.6.tar.gz"
      }
    ],
    "0.0.7": [
      {
        "comment_text": "",
        "digests": {
          "md5": "dfbb99829cff56165efdbd3cd164ad72",
          "sha256": "505955eb8e9b5f94437b4a055880f7c8e794a945a64a30610c9c1d9a2d10c758"
        },
        "downloads": 626,
        "filename": "django-generic-counter-0.0.7.tar.gz",
        "has_sig": false,
        "md5_digest": "dfbb99829cff56165efdbd3cd164ad72",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5340,
        "upload_time": "2015-11-11T10:56:12",
        "url": "https://files.pythonhosted.org/packages/88/e4/fc57b90361bb99487ae4df4a5fdb6f12edfb24e1be9b3df3f8352985ac6c/django-generic-counter-0.0.7.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "dfbb99829cff56165efdbd3cd164ad72",
        "sha256": "505955eb8e9b5f94437b4a055880f7c8e794a945a64a30610c9c1d9a2d10c758"
      },
      "downloads": 626,
      "filename": "django-generic-counter-0.0.7.tar.gz",
      "has_sig": false,
      "md5_digest": "dfbb99829cff56165efdbd3cd164ad72",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 5340,
      "upload_time": "2015-11-11T10:56:12",
      "url": "https://files.pythonhosted.org/packages/88/e4/fc57b90361bb99487ae4df4a5fdb6f12edfb24e1be9b3df3f8352985ac6c/django-generic-counter-0.0.7.tar.gz"
    }
  ]
}
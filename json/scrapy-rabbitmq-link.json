{
  "info": {
    "author": "Mantas Briliauskas",
    "author_email": "m.briliauskas@gmail.com",
    "bugtrack_url": "",
    "classifiers": [],
    "description": "## A RabbitMQ Scheduler for Scrapy Framework.\n\nScrapy-rabbitmq-link is a tool that lets you feed URLs from RabbitMQ to Scrapy spiders, using the [Scrapy framework](http://doc.scrapy.org/en/latest/index.html).\n\nThis is a modified version of scrapy-rabbitmq published by Royce Haynes in [GitHub](https://github.com/roycehaynes/scrapy-rabbitmq).\n\n## Installation\n\nUsing pip, type in your command-line prompt\n\n```\npip install scrapy-rabbitmq-link\n```\n \nOr clone the repo and inside the scrapy-rabbitmq-link directory, type\n\n```\npython setup.py install\n```\n\n## Usage\n\n### Step 1: In your scrapy settings, add the following config values:\n\n```\n# Enables scheduling storing requests queue in rabbitmq.\nSCHEDULER = \"scrapy_rabbitmq_link.scheduler.Scheduler\"\n\n# Don't cleanup rabbitmq queues, allows to pause/resume crawls.\nSCHEDULER_PERSIST = True\n\n# Schedule requests using a priority queue. (default)\nSCHEDULER_QUEUE_CLASS = 'scrapy_rabbitmq_link.queue.SpiderQueue'\n\n# Set expression for RabbitMQ URLs queue key\nSCHEDULER_QUEUE_KEY = '%(spider)s'\n\n# Provide host and port to RabbitMQ daemon\nRABBITMQ_CONNECTION_PARAMETERS = 'amqp://user:pass@host:port/vhost'\n\n# Response status to mark message as acknowledged and remove from queue\nRABBITMQ_ACKNOWLEDGE_ON_RESPONSE_STATUS = [200, 404]\n\n# Set middleware to status a successful remote procedure call\nDOWNLOADER_MIDDLEWARES = {\n    'scrapy_rabbitmq_link.middleware.RabbitMQMiddleware': 999\n}\n\n```\n\n### Step 2: Add request building methods to Spider : _modify_request and _callback\n\n#### Example: custom_spider.py\n\n```\nfrom time import time\nfrom scrapy.spiders import Spider\n\nclass CustomSpider(Spider):\n    \"\"\" Make requests using urls from RabbitMQ queue named same as spider\n    \"\"\"\n    \n    name = 'custom_spider'\n\n    # modify a request before firing. request already contains url received from RabbitMQ\n    def _modify_request(self, request):\n        request.meta['time'] = time()\n        return request\n\n    # callback to the response received\n    def _callback(self, response):\n        return self.parse(response)\n\n    def parse(self, response):\n        # extract stuff from response\n        return\n```\n\n### Step 3: Push URLs to RabbitMQ\n\n#### Example: push_urls_to_queue.py\n\n```\n#!/usr/bin/env python\nimport pika\nimport settings\n\nconnection = pika.BlockingConnection(pika.URLParameters(settings.RABBITMQ_CONNECTION_PARAMETERS))\nchannel = connection.channel()\n\n# set queue name\nqueue = '%(spider)s' % {'spider':'custom'}\n\n# publish links to queue\nfor url in open('urls.txt'):\n    url = url.strip(' \\n\\r')\n    channel.basic_publish(exchange='',\n                    routing_key=queue,\n                    body=url,\n                    pika.BasicProperties(\n                        content_type='text/plain',\n                        delivery_mode=1\n                    ))\n\nconnection.close()\n\n```\n\n\n### Step 4: Run spider using [scrapy client](http://doc.scrapy.org/en/1.0/topics/shell.html)\n\n```\nscrapy crawl custom_spider\n```\n\n## Contributing and Forking\n\nSee [Contributing Guidlines](CONTRIBUTING.MD)\n\n## Releases\n\nSee the [changelog](CHANGELOG.md) for release details.\n\n| Version | Release Date |\n| :-----: | :----------: |\n|  0.1.0  | 2016-08-23 |\n\n## Copyright & License\n\nCopyright for portions of project \"scrapy-rabbitmq\" are held by Royce Haynes (c) 2014 as part of project \"scrapy-rabbitmq-link\". All other copyright for project \"scrapy-rabbitmq-link\" are held by Mantas Briliauskas (c) 2016.\n",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/mbriliauskas/scrapy-rabbitmq-link",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "scrapy-rabbitmq-link",
    "platform": "UNKNOWN",
    "project_url": "https://pypi.org/project/scrapy-rabbitmq-link/",
    "release_url": "https://pypi.org/project/scrapy-rabbitmq-link/0.2.0/",
    "requires_python": "",
    "summary": "RabbitMQ Plug-in for Scrapy",
    "version": "0.2.0"
  },
  "releases": {
    "0.0.0": [],
    "0.0.3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "a49e6762d4b874659918682d8cd53253",
          "sha256": "bf33f5d46ac68a6e8330977ac705381819c91dceb1dced1ac3c39c16942b2486"
        },
        "downloads": 330,
        "filename": "scrapy-rabbitmq-link-0.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "a49e6762d4b874659918682d8cd53253",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 4752,
        "upload_time": "2016-08-25T22:28:26",
        "url": "https://files.pythonhosted.org/packages/4b/76/53580e00b7e01192758a870b57feca733c3eccee10db02463c293b8301cb/scrapy-rabbitmq-link-0.0.3.tar.gz"
      }
    ],
    "0.0.4": [
      {
        "comment_text": "",
        "digests": {
          "md5": "f7a5eee2fb3343def8658f35223fe1c9",
          "sha256": "229777506be48ee02d70ab9a47abc733ca3874bdc44c5cef3e657a6c00e212d2"
        },
        "downloads": 362,
        "filename": "scrapy-rabbitmq-link-0.0.4.tar.gz",
        "has_sig": false,
        "md5_digest": "f7a5eee2fb3343def8658f35223fe1c9",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 4893,
        "upload_time": "2016-08-26T18:09:05",
        "url": "https://files.pythonhosted.org/packages/3f/5a/e458a361bc7ab177ca18c2dceaf9284e61e9ff3de2561912e1d38f578383/scrapy-rabbitmq-link-0.0.4.tar.gz"
      }
    ],
    "0.0.5": [
      {
        "comment_text": "",
        "digests": {
          "md5": "3ed9c652ea5c18b53d0d596270855bd9",
          "sha256": "55418e932b73bc9b8f032cdc1d191e949af8a7bf50ce23917eb40ad479843acd"
        },
        "downloads": 345,
        "filename": "scrapy-rabbitmq-link-0.0.5.tar.gz",
        "has_sig": false,
        "md5_digest": "3ed9c652ea5c18b53d0d596270855bd9",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 4922,
        "upload_time": "2016-09-01T15:35:28",
        "url": "https://files.pythonhosted.org/packages/71/39/df9ccd4445b9eef0677347b2f23cd1f128fc13b1acfe0939c4dc71dd36cc/scrapy-rabbitmq-link-0.0.5.tar.gz"
      }
    ],
    "0.0.6": [
      {
        "comment_text": "",
        "digests": {
          "md5": "bd422a8ddb7f503ac21500f5daa65299",
          "sha256": "d0ca8079a991ac4581e8553731eff6845cd101dd8038ea1ffdbfe444599f3ffa"
        },
        "downloads": 83,
        "filename": "scrapy-rabbitmq-link-0.0.6.tar.gz",
        "has_sig": false,
        "md5_digest": "bd422a8ddb7f503ac21500f5daa65299",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 4923,
        "upload_time": "2016-09-05T05:01:00",
        "url": "https://files.pythonhosted.org/packages/55/02/dbe540330e4cd7ea782758475ab545411a97bab501db1dc8a14abda3f733/scrapy-rabbitmq-link-0.0.6.tar.gz"
      }
    ],
    "0.0.7": [
      {
        "comment_text": "",
        "digests": {
          "md5": "411b4af88a7210a4b9612ddaf29c38d0",
          "sha256": "615845739c06e835ee58f59eec6da678d4cfa85c33136c308aaf8ba43df0c321"
        },
        "downloads": 67,
        "filename": "scrapy-rabbitmq-link-0.0.7.tar.gz",
        "has_sig": false,
        "md5_digest": "411b4af88a7210a4b9612ddaf29c38d0",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5233,
        "upload_time": "2016-10-12T15:15:16",
        "url": "https://files.pythonhosted.org/packages/5b/cb/8aa0b7a27bf57cdd8a0abe859c19d62ee0d89a85fc0812a7338abf4d7b73/scrapy-rabbitmq-link-0.0.7.tar.gz"
      }
    ],
    "0.0.8": [
      {
        "comment_text": "",
        "digests": {
          "md5": "cca3ae4ca9e5fb4a71b0d2a50a7d6d4d",
          "sha256": "52d89a4de0d9d1f4b23bdaed147fe5481cb804bf6500bb3428e333221634b3b0"
        },
        "downloads": 78,
        "filename": "scrapy-rabbitmq-link-0.0.8.tar.gz",
        "has_sig": false,
        "md5_digest": "cca3ae4ca9e5fb4a71b0d2a50a7d6d4d",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5233,
        "upload_time": "2016-10-14T17:48:35",
        "url": "https://files.pythonhosted.org/packages/66/76/c1349b46c5ab586db40f07d80602064804fff05a9febc77271186aa945dc/scrapy-rabbitmq-link-0.0.8.tar.gz"
      }
    ],
    "0.1.0": [],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "fc7a0ac9a2311474a14337829effc102",
          "sha256": "a391f94a9774fc165b1de4c00000acb22696d06e528f3e7c1848a2eb488115dd"
        },
        "downloads": 149,
        "filename": "scrapy-rabbitmq-link-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "fc7a0ac9a2311474a14337829effc102",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5948,
        "upload_time": "2016-10-28T10:04:40",
        "url": "https://files.pythonhosted.org/packages/7b/56/879df2bd7610187b28444d796f53fc5f6ea2a5b21b20b966b2ca826770c0/scrapy-rabbitmq-link-0.2.0.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "fc7a0ac9a2311474a14337829effc102",
        "sha256": "a391f94a9774fc165b1de4c00000acb22696d06e528f3e7c1848a2eb488115dd"
      },
      "downloads": 149,
      "filename": "scrapy-rabbitmq-link-0.2.0.tar.gz",
      "has_sig": false,
      "md5_digest": "fc7a0ac9a2311474a14337829effc102",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 5948,
      "upload_time": "2016-10-28T10:04:40",
      "url": "https://files.pythonhosted.org/packages/7b/56/879df2bd7610187b28444d796f53fc5f6ea2a5b21b20b966b2ca826770c0/scrapy-rabbitmq-link-0.2.0.tar.gz"
    }
  ]
}
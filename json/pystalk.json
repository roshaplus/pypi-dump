{
  "info": {
    "author": "EasyPost",
    "author_email": "oss@easypost.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Environment :: Console",
      "Intended Audience :: System Administrators",
      "License :: OSI Approved :: ISC License (ISCL)",
      "Operating System :: OS Independent",
      "Programming Language :: Python",
      "Programming Language :: Python :: 2.7",
      "Programming Language :: Python :: 3.3",
      "Programming Language :: Python :: 3.4",
      "Programming Language :: Python :: 3.5",
      "Topic :: Database"
    ],
    "description": "**`pystalk`** is an extremely simple client for [beanstalkd](http://kr.github.io/beanstalkd/). It is\ncompatible with both Python 2 and Python 3.\n\nThis project was initially created for [beancmd](https://github.com/EasyPost/beancmd). You may also be interested in that tool!\n\n[![CircleCI](https://circleci.com/gh/EasyPost/pystalk.svg?style=svg&circle-token=6541f20728b477392b8e30e80b5f4cc573ba8833)](https://circleci.com/gh/EasyPost/pystalk)\n[![ReadTheDocs](https://readthedocs.org/projects/pip/badge/?version=latest)](http://pystalk.readthedocs.io/en/latest/)\n\n## Requirements / Installing\n\nThis software works with Python 2.7, 3.3, 3.4, and 3.5. It'll probably work with Python 3.6 as well.\n\nIt does not support any asynchronous event loops and has not been tested with gevent. It's designed for simple,\nsynchronous use.\n\nYou should be able to install it from [PyPI](https://pypi.python.org) with `pip install pystalk`.\n\n## Example Usage\n\n### Creating Jobs\n\n```lang=python\n#!/usr/bin/python\n\nimport json\n\nfrom pystalk import BeanstalkClient\n\nclient = BeanstalkClient('10.0.0.1', 11300)\nclient.put_job(json.dumps({\"foo\": \"bar\"}), delay=30)\n```\n\nThis will create a job with a 30-second delay on it. Note that the data for a job must be UTF-8 encodable.\n\n### Consuming All Available Jobs\n\nThe following script will walk through all currently-READY jobs and then exit:\n\n```lang=python\n#!/usr/bin/python\n\nfrom pystalk import BeanstalkClient\n\nclient = BeanstalkClient('10.0.0.1', 11300)\nfor job in client.reserve_iter():\n    try:\n        execute_job(job)\n    except Exception:\n        client.release_job(job.job_id)\n        raise\n    client.delete_job(job.job_id)\n```\n\nNote that, even though we require that job data be UTF-8 encodeable in the `put_job` method, we do not decode for you -- the job data that comes out is a byte-string in Python 3.5. You should call `.decode(\"utf-8\")` on it if you want to get the input data back out. If you would like that behavior, pass `auto_decode=True` to the `BeanstalkClient` constructor; note that this might make it difficult for you to consume data injected by other systems which don't assume UTF-8.\n\n### Multiple Job Servers\n\nThe following will reserve jobs from a group of Beanstalk servers, fairly rotating between them.\n\n```lang=python\n#!/usr/bin/python\n\nfrom myapp import execute_job\nfrom pystalk import BeanstalkClient, BeanstalkTimedOutError\n\nhosts = ('10.0.0.1', '10.0.0.2')\nclients = dict((h, BeanstalkClient(h, 11300)) for h in hosts)\n\ni = 0\nwhile True:\n    i += 1\n    client = clients[hosts[i % len(hosts)]]\n    try:\n        job = client.reserve_job(1)\n    except BeanstalkError as e:\n        if e.message == 'TIMED_OUT':\n            continue\n        else:\n            raise\n    execute_job(job)\n    client.delete_job(job.job_id)\n```\n\n## Development\n\nPretty straightforward. Develop in branches, send PRs, land on master. All tests must pass before landing.\n\n### Releasing a new version\n\n   1. Land all requisite changes\n   1. Bump the version in `setup.py` and `pystalk/__init__.py` to the stable version (e.g., `0.2`)\n   1. Update [`CHANGES.rst`](docs/source/CHANGES.rst) with the changes and the new version number\n   1. Update [`conf.py`](docs/source/conf.py) with the new version number\n   1. Commit\n   1. Tag the version (e.g., `git tag -s pystalk-0.2`)\n   1. Push up to Github\n   1. Upload to PyPI with `python setup.py sdist upload`\n",
    "docs_url": null,
    "download_url": "UNKNOWN",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/easypost/pystalk",
    "keywords": null,
    "license": "ISC",
    "maintainer": null,
    "maintainer_email": null,
    "name": "pystalk",
    "platform": "UNKNOWN",
    "project_url": "https://pypi.org/project/pystalk/",
    "release_url": "https://pypi.org/project/pystalk/0.2.1/",
    "requires_python": null,
    "summary": "Very simple beanstalkd client",
    "version": "0.2.1"
  },
  "releases": {
    "0.2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "4576ee68de3ab65d01c1d03706b3bd6e",
          "sha256": "96e41857d5cf30cd5bca7a32e84da0901a20209336435def39b15c5e4882e90f"
        },
        "downloads": 360,
        "filename": "pystalk-0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "4576ee68de3ab65d01c1d03706b3bd6e",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 7917,
        "upload_time": "2016-07-18T20:45:33",
        "url": "https://files.pythonhosted.org/packages/e1/ce/46a8066f795bc3ccf5ad5669d5802240d671687507860d044818448dd16f/pystalk-0.2.tar.gz"
      }
    ],
    "0.2.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "0692db50c1f3631ad982dd73d920ca05",
          "sha256": "33b161b735432c0a4c4a325d1073b07db37b269424111981d6e4c7ee4fd18c6d"
        },
        "downloads": 131,
        "filename": "pystalk-0.2.1.tar.gz",
        "has_sig": false,
        "md5_digest": "0692db50c1f3631ad982dd73d920ca05",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 9092,
        "upload_time": "2016-08-01T18:58:17",
        "url": "https://files.pythonhosted.org/packages/eb/69/fd814f71dc317488e91fa160e754944ae48cb0ff74fecc549cff2c959661/pystalk-0.2.1.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "0692db50c1f3631ad982dd73d920ca05",
        "sha256": "33b161b735432c0a4c4a325d1073b07db37b269424111981d6e4c7ee4fd18c6d"
      },
      "downloads": 131,
      "filename": "pystalk-0.2.1.tar.gz",
      "has_sig": false,
      "md5_digest": "0692db50c1f3631ad982dd73d920ca05",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 9092,
      "upload_time": "2016-08-01T18:58:17",
      "url": "https://files.pythonhosted.org/packages/eb/69/fd814f71dc317488e91fa160e754944ae48cb0ff74fecc549cff2c959661/pystalk-0.2.1.tar.gz"
    }
  ]
}
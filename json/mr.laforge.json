{
  "info": {
    "author": "Florian Schulze",
    "author_email": "florian.schulze@gmx.net",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "Introduction\n============\n\n**mr.laforge** is a utility and plugin for `supervisord`_.\n\nIt let's you easily make sure that ``supervisord`` and specific processes\ncontrolled by it are running from within shell and Python scripts.\n\nThe plugin part adds a ``kill`` command to send signals to processes.\n\n.. _`supervisord`: http://supervisord.org/\n\n\nUsage\n=====\n\nInstallation as a script\n------------------------\n\nOne way to use it, is by installing it as a script. That's also the way to use\nit in shell scripts. You can either just install it as an egg or you can\ninstall it in a buildout::\n\n    [mr.laforge]\n    recipe = zc.recipe.egg\n    eggs = mr.laforge\n\nEither way you will get a ``supervisorup``, a ``supervisordown`` and a\n``waitforports`` script.\n\nRunning ``supervisorup`` without arguments will check whether ``supervisord``\nis running and if not will start it. You can also provide process names on the\ncommand line and those will be started if they are not already running.\n\nThe ``supervisordown`` script does the same as ``supervisorup``, but makes sure\nthe process is stopped. This is useful for scripts which initialize a\ndevelopment database and similar tasks.\n\nWith ``waitforports`` you can check whether one or more processes are listening\non the specified ports. The script has some additional arguments you can list\nwith ``-h`` or ``--help``.\n\nYou can set the ``supervisor_args`` keyword argument to set supervisor arguments\nfor the ``supervisorup`` script like the config file location::\n\n    [mr.laforge]\n    recipe = zc.recipe.egg\n    eggs = mr.laforge\n    arguments = supervisor_args=['-c', 'etc/my_supervisord.conf']\n\nAlternatively, supervisor arguments can also be set via the\n``MR_LAFORGE_SUPERVISOR_ARGS`` environment variable.\n\n\nUsage from a Python script\n--------------------------\n\nYou can use the ``up`` method in ``mr.laforge`` which similar to the\n``supervisorup`` script takes process names as arguments.\n\nOne example is a `zc.recipe.testrunner`_ part in a buildout like this::\n\n    [test]\n    recipe = zc.recipe.testrunner\n    eggs =\n        ...\n        mr.laforge\n    initialization =\n        import mr.laforge\n        mr.laforge.up('solr-test')\n\nAs you can see, you have to add the egg, so it can be imported by the\ninitialization code added to the ``test`` script created by\n`zc.recipe.testrunner`_. The ``up`` call gets ``solr-test`` as an argument\nto make sure that the ``solr-test`` process is running for the tests.\n\nAnother example is an initialization snippet in a script created by\n`zc.recipe.egg`_::\n\n    [paster]\n    recipe = zc.recipe.egg\n    eggs =\n        ...\n        mr.laforge\n    dependent-scripts = true\n    scripts = paster\n    initialization =\n        import mr.laforge\n        mr.laforge.up('solr')\n\nNow everytime you run the ``paster`` script created by this, it's checked that\n``supervisord`` and the ``solr`` process controlled by it are running.\n\nThe ``down`` method can be used to make sure a process is stopped and is the\nbase of the ``supervisordown`` script. It's used like the ``up`` method above.\n\nThe equivalent for the ``waitforports`` script is ``mr.laforge.waitforports``.\nIt takes a list of ports as arguments, which can be integers or strings which\ncan also contain the host separated with a colon. You can also set the default\nhost with the ``host`` keyword argument and the timeout value with the\n``timeout`` keyword argument. Here is an example::\n\n    mr.laforge.waitforports(8080, 'db-server.example.com:5432', timeout=10)\n\n.. _`zc.recipe.testrunner`: http://pypi.python.org/pypi/zc.recipe.testrunner\n.. _`zc.recipe.egg`: http://pypi.python.org/pypi/zc.recipe.egg\n\nThere is also a ``shutdown`` function with which you can shutdown supervisord\nfrom Python code.\n\nAdd as plugin to supervisord\n----------------------------\n\nTo use the plugin part of mr.laforge, you have to add the following to your\nsupervisord config::\n\n    [rpcinterface:laforge]\n    supervisor.rpcinterface_factory = mr.laforge.rpcinterface:make_laforge_rpcinterface\n\n    [ctlplugin:laforge]\n    supervisor.ctl_factory = mr.laforge.controllerplugin:make_laforge_controllerplugin\n\nYou have to make sure that mr.laforge is importable by supervisord. In a\nbuildout you would have to add the egg to supervisor like this::\n\n    [supervisor]\n    recipe = zc.recipe.egg\n    eggs =\n        supervisor\n        mr.laforge\n\nNow you can use the ``kill`` command::\n\n    ./bin/supervisorctl kill HUP nginx\n\n\nChangelog\n=========\n\n0.6 - 2012-10-06\n----------------\n\n* Added ``supervisordown`` script and matching ``down`` method to make sure a\n  process is stopped.\n  [fschulze]\n\n\n0.5 - 2012-05-23\n----------------\n\n* Allow setting supervisor arguments via the ``MR_LAFORGE_SUPERVISOR_ARGS``\n  environment variable.\n  [witsch]\n\n* Added ``shutdown`` function to shutdown supervisord from Python code.\n  [fschulze]\n\n\n0.4 - 2012-05-09\n----------------\n\n* Added waitforports script and function to wait until a process is listening\n  on specified ports.\n  [fschulze, witsch]\n\n\n0.3 - 2012-04-03\n----------------\n\n* Don't pass command line options to supervisor code.\n  [fschulze]\n\n* Add supervisor_args keyword argument to ``up`` function.\n  [fschulze, witsch (Andreas Zeidler)]\n\n\n0.2 - 2011-04-20\n----------------\n\n* Added supervisord plugin with ``kill`` command to send signals to processes.\n  [fschulze]\n\n\n0.1 - 2011-04-20\n----------------\n\n* Initial release",
    "docs_url": null,
    "download_url": "UNKNOWN",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "http://github.com/fschulze/mr.laforge",
    "keywords": "",
    "license": "BSD",
    "maintainer": null,
    "maintainer_email": null,
    "name": "mr.laforge",
    "platform": "UNKNOWN",
    "project_url": "https://pypi.org/project/mr.laforge/",
    "release_url": "https://pypi.org/project/mr.laforge/0.6/",
    "requires_python": null,
    "summary": "Plugins and utilities for supervisor",
    "version": "0.6"
  },
  "releases": {
    "0.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "8889d35883fb51e25c6ca2abb272db88",
          "sha256": "bef9b50ec8fb4f40f299d79ef2ea4cab24b30c3f5ddb52f8641f437323de944c"
        },
        "downloads": 2941,
        "filename": "mr.laforge-0.1.zip",
        "has_sig": false,
        "md5_digest": "8889d35883fb51e25c6ca2abb272db88",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 6909,
        "upload_time": "2011-04-20T13:48:56",
        "url": "https://files.pythonhosted.org/packages/ee/09/e520d488e778ec05c39a507a78830c302f5ee474618fe97747711deeec05/mr.laforge-0.1.zip"
      }
    ],
    "0.2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "ea56bbc7e773c8242fd03347a4ebb519",
          "sha256": "893c95301a80fdb994c2dae44ea9d766d3c4fdc52e8dbffcfdea99bffb500977"
        },
        "downloads": 2590,
        "filename": "mr.laforge-0.2.zip",
        "has_sig": false,
        "md5_digest": "ea56bbc7e773c8242fd03347a4ebb519",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 10001,
        "upload_time": "2011-04-20T19:26:22",
        "url": "https://files.pythonhosted.org/packages/1a/6a/eda64932aa12027e1962721784628aa8086e83de7ace79004bbb6a98855a/mr.laforge-0.2.zip"
      }
    ],
    "0.3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "1aa7e338ada90b2a2355138bd3389c65",
          "sha256": "e60d461879ed53c1c1a05af69792355e9d146c2e3707f11c429d5d804cdf405c"
        },
        "downloads": 2427,
        "filename": "mr.laforge-0.3.zip",
        "has_sig": false,
        "md5_digest": "1aa7e338ada90b2a2355138bd3389c65",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 10487,
        "upload_time": "2012-04-03T12:59:20",
        "url": "https://files.pythonhosted.org/packages/35/e5/907dd3bbeba0a42905de75d17805a5a5e456f0c32cd06ce910565ce3b961/mr.laforge-0.3.zip"
      }
    ],
    "0.4": [
      {
        "comment_text": "",
        "digests": {
          "md5": "b38e6ffae0c2f24f272ab1b61d622461",
          "sha256": "abb54698db94df728f9bbadf7623bd9dd22a648f046d51d97cca4ec62d555175"
        },
        "downloads": 2344,
        "filename": "mr.laforge-0.4.zip",
        "has_sig": false,
        "md5_digest": "b38e6ffae0c2f24f272ab1b61d622461",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 11515,
        "upload_time": "2012-05-09T14:06:52",
        "url": "https://files.pythonhosted.org/packages/88/6d/e9ee1636f22e7064e7575118b980018cd0094f01503c39b8e316f9bd7c5d/mr.laforge-0.4.zip"
      }
    ],
    "0.5": [
      {
        "comment_text": "",
        "digests": {
          "md5": "b20c6dafdb55787a11f05aa332e5a149",
          "sha256": "19da443731b68e8083a474e4333c1951b9c4eff22164880ebadcbdb1d1ab19ae"
        },
        "downloads": 2465,
        "filename": "mr.laforge-0.5.zip",
        "has_sig": false,
        "md5_digest": "b20c6dafdb55787a11f05aa332e5a149",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 12174,
        "upload_time": "2012-05-23T19:23:09",
        "url": "https://files.pythonhosted.org/packages/95/6f/55348949648deaf87f6d4f37865a98528a890d4423fd87528957e7f874b7/mr.laforge-0.5.zip"
      }
    ],
    "0.6": [
      {
        "comment_text": "",
        "digests": {
          "md5": "a061d72a5d8334cd67ae49e2be25b131",
          "sha256": "5ccefe007e7abe86f7fd29425457fb69908423b14b8915eea8415f5c9b74d85a"
        },
        "downloads": 5837,
        "filename": "mr.laforge-0.6.zip",
        "has_sig": false,
        "md5_digest": "a061d72a5d8334cd67ae49e2be25b131",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 13233,
        "upload_time": "2012-10-06T09:15:36",
        "url": "https://files.pythonhosted.org/packages/21/9d/c3be155cc32969501dcb4f26f9c0164896d99093df75b1e3300944abe063/mr.laforge-0.6.zip"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "a061d72a5d8334cd67ae49e2be25b131",
        "sha256": "5ccefe007e7abe86f7fd29425457fb69908423b14b8915eea8415f5c9b74d85a"
      },
      "downloads": 5837,
      "filename": "mr.laforge-0.6.zip",
      "has_sig": false,
      "md5_digest": "a061d72a5d8334cd67ae49e2be25b131",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 13233,
      "upload_time": "2012-10-06T09:15:36",
      "url": "https://files.pythonhosted.org/packages/21/9d/c3be155cc32969501dcb4f26f9c0164896d99093df75b1e3300944abe063/mr.laforge-0.6.zip"
    }
  ]
}
{
  "info": {
    "author": "Huang Sizhe",
    "author_email": "hsz1273327@gmail.com",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "sanic-mongo\n====================\n\nsanic\u7684mongodb\u5f02\u6b65\u5de5\u5177,\u7075\u611f\u6765\u6e90\u81ea `\u5b98\u65b9\u4f8b\u5b50 <https://github.com/channelcat/sanic/blob/master/examples/sanic_motor.py).\u662f[motor](https://motor.readthedocs.io/en/stable/tutorial-asyncio.html>`_ \u7684\u5c01\u88c5,\n\u76ee\u7684\u53ea\u662f\u4e3a\u4e86\u7b80\u5316\u64cd\u4f5c.\n\n\u66f4\u65b0\n-----------------------\n\n* v1.7.0 \u4fee\u6b63\u4e86\u9a8c\u8bc1\u65e0\u6cd5\u901a\u8fc7\u7684\u95ee\u9898\n* v1.5.0 \u5c06\u63a5\u53e3\u8c03\u6574\u81f3\u548csanic-aioorm\u4e00\u81f4.\n\n\n\n\u7279\u70b9 Features\n-------------------------\n\n* `motor <https://motor.readthedocs.io/en/stable/tutorial-asyncio.html>`_ \u652f\u6301\u7684\u64cd\u4f5c\u90fd\u652f\u6301\n* \u652f\u63013.5\u7248\u672c\u4ee5\u4e0a\u7684\n* \u652f\u6301\u591a\u6570\u636e\u5e93\n* \u652f\u6301mongodb\u548cgridfs\n\n\n\n\u4f9d\u8d56 Requirements\n-----------------------------\n1. motor>=1.1\n2. pymongo>=3.4.0\n3. sanic>=0.4.1\n\n\n \u5b89\u88c5 Installation\n--------------------------\n\n- ``pip install sanic-mongo``\n\n\n\u7528\u6cd5\n----------------------------\n\nmongo\u9700\u8981\u7ed9`app.config`\u8bbe\u7f6e\u5173\u952e\u5b57`MONGO_URIS`,\u5b83\u662f\u4e00\u4e2a\u7531mongodb\u540d\u5b57\u548curl\u7ec4\u6210\u7684\u5b57\u5178.\n\u540c\u65f6\u4e5f\u53ef\u4ee5\u4f7f\u7528`Mongo.SetConfig(app,**kws)`\u6765\u6ce8\u518ckws\u7684\u5185\u5bb9\u5230`MONGO_URIS`.\n\u800c\u4f7f\u7528\u7684\u65f6\u5019\u53ef\u4ee5\u8bbf\u95ee`app.mongo[mongodb\u540d\u5b57]`\u8bbf\u95ee\u5bf9\u5e94\u7684db\n\ngridfs\u4e0e\u4e4b\u7c7b\u4f3c,\u53ea\u662f\u5173\u952e\u5b57\u662f`GRIDFS_SETTINGS`,\u800c\u8bbf\u95ee\u9700\u8981\u4f7f\u7528`app.GridFS[GridFS\u540d\u5b57]`\n\n\n\u4f8b\u5b50 Example\n-----------------------------------\n\n1. mongodb\n\n.. code:: python\n    from sanic import Sanic\n    from sanic.response import json\n    from sanic_mongo import Mongo\n\n    app = Sanic(__name__)\n    mongo_uri = \"mongodb://{host}:{port}/{database}\".format(\n        database='test',\n        port=27017,\n        host='localhost'\n    )\n\n    Mongo.SetConfig(app,test=mongo_uri)\n    Mongo(app)\n\n    @app.get('/objects')\n    async def get(request):\n        docs = await app.mongo['test'].test_col.find().to_list(length=100)\n        for doc in docs:\n            doc['id'] = str(doc['_id'])\n            del doc['_id']\n        return json(docs)\n\n\n    @app.post('/objects')\n    async def new(request):\n        doc = request.json\n        print(type(app.mongo['test']))\n        object_id = await app.mongo['test'][\"test_col\"].save(doc)\n        return json({'object_id': str(object_id)})\n\n\n    if __name__ == \"__main__\":\n        app.run(host='127.0.0.1', port=8000,debug=True)\n\n\n\n\n2. gridfs\n\n.. code:: python\n\n    from sanic import Sanic\n    from sanic.response import json,text\n    from sanic_mongo import GridFS\n\n    app = Sanic(__name__)\n    mongo_uri = \"mongodb://{host}:{port}/{database}\".format(\n        database='test',\n        port=27017,\n        host='localhost'\n    )\n\n    GridFS.SetConfig(app,test_fs=(mongo_uri,\"fs\"))\n    GridFS(app)\n\n    @app.get('/pics')\n    async def get(request):\n        cursor = app.GridFS[\"test_fs\"].find()\n        result = [{i._id:i.name} async for i in cursor]\n        return json({\"result\":result})\n\n\n    @app.post('/pics')\n    async def new(request):\n        doc = request.files.get('file')\n\n        async with app.GridFS[\"test_fs\"].open_upload_stream(filename=doc.name,\n            metadata={\"contentType\": doc.type}) as gridin:\n\n            object_id = gridin._id\n            await gridin.write(doc.body)\n\n        return json({'object_id': str(object_id)})\n\n\n    if __name__ == \"__main__\":\n        app.run(host='127.0.0.1', port=8000,debug=True)\n    \n",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://sanic-extensions.github.io/sanic-mongo/",
    "keywords": "",
    "license": "Apache License 2.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "sanic-mongo",
    "platform": "",
    "project_url": "https://pypi.org/project/sanic-mongo/",
    "release_url": "https://pypi.org/project/sanic-mongo/1.7.0/",
    "requires_dist": [],
    "requires_python": "",
    "summary": "a simple sanic extension for using motor",
    "version": "1.7.0"
  },
  "releases": {
    "1.0.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "5f0f5acc726b81108da94efa4aa203eb",
          "sha256": "4c23141243f8871595718299ce04593705be8b3b159ed215dd1e356284a2fc63"
        },
        "downloads": 0,
        "filename": "sanic-mongo-1.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "5f0f5acc726b81108da94efa4aa203eb",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 2487,
        "upload_time": "2017-04-09T07:01:01",
        "url": "https://files.pythonhosted.org/packages/28/b8/35097c2cc67e5491443fe9d43408913000957f6b0b969b40f04706f66946/sanic-mongo-1.0.0.tar.gz"
      }
    ],
    "1.1.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "ad5c89fb0a99cd0b6d185c49a472b8c4",
          "sha256": "8fc0c68ab5205ad9b4ae12e9cfd069db90ecda87db52e8d0b2fe2333df72283d"
        },
        "downloads": 0,
        "filename": "sanic-mongo-1.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "ad5c89fb0a99cd0b6d185c49a472b8c4",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 3889,
        "upload_time": "2017-08-09T07:42:43",
        "url": "https://files.pythonhosted.org/packages/b7/fe/3f90f23f27f645143c9117ce39f01b1d90ae0d7ad3b5a85d80a5590455a3/sanic-mongo-1.1.0.tar.gz"
      }
    ],
    "1.5.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "57665d457abb0a0b344b6ae5386f4dcb",
          "sha256": "fac6df5b95c574cabd7e99237c16ce7099034c263fcb8af68bb03fe668c2749b"
        },
        "downloads": 0,
        "filename": "sanic-mongo-1.5.0.tar.gz",
        "has_sig": false,
        "md5_digest": "57665d457abb0a0b344b6ae5386f4dcb",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 2776,
        "upload_time": "2017-08-13T16:41:44",
        "url": "https://files.pythonhosted.org/packages/85/69/5446ba0226a66cc596b6ce04a07af143ebdaeceaa0f7100bbcd1aeaa79ac/sanic-mongo-1.5.0.tar.gz"
      }
    ],
    "1.5.5": [
      {
        "comment_text": "",
        "digests": {
          "md5": "2962ed72c1fb6c9c3377beb3327e7d82",
          "sha256": "5d10cfef838d83d6e36f09b73fd87cabdc69a056f614999a17e496254dc2d194"
        },
        "downloads": 0,
        "filename": "sanic-mongo-1.5.5.tar.gz",
        "has_sig": false,
        "md5_digest": "2962ed72c1fb6c9c3377beb3327e7d82",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 2795,
        "upload_time": "2017-08-13T17:46:42",
        "url": "https://files.pythonhosted.org/packages/2f/5b/5cb501a4e17ddd2dc241740f63dc0c53f6cfd8eb85b6267d1d7fda6f87e2/sanic-mongo-1.5.5.tar.gz"
      }
    ],
    "1.6.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "cad7f5c791e71fbbc0d591dc8a08e8c6",
          "sha256": "a94c615cca384e2574629d0e5b6ff3f1c7cd63137ba525b004574121db51e817"
        },
        "downloads": 0,
        "filename": "sanic_mongo-1.6.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "cad7f5c791e71fbbc0d591dc8a08e8c6",
        "packagetype": "bdist_wheel",
        "python_version": "3.6",
        "size": 5797,
        "upload_time": "2017-08-17T03:13:40",
        "url": "https://files.pythonhosted.org/packages/10/3f/5736266dae4d1b5990f01187d6560a01a20611838eb7bfe30cbf85b6c0b8/sanic_mongo-1.6.0-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "150d5be2fb833451ac8b06957ef6dffd",
          "sha256": "f4a83718a1fd1911273b8cdf1a78f0ffac01459cb62a6ab28d428c4b0b63dcdc"
        },
        "downloads": 0,
        "filename": "sanic-mongo-1.6.0.tar.gz",
        "has_sig": false,
        "md5_digest": "150d5be2fb833451ac8b06957ef6dffd",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 4521,
        "upload_time": "2017-08-17T03:13:16",
        "url": "https://files.pythonhosted.org/packages/32/bc/0c6a558551519861262d482720cedd4f20148aed336184ef3ea48146cc6a/sanic-mongo-1.6.0.tar.gz"
      }
    ],
    "1.7.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "58a3c3d57485767124c851337729adb5",
          "sha256": "7fca286b95535bb6e3d289ebb59c94890a5fe9a34b63b36c88c3addc73519e4a"
        },
        "downloads": 0,
        "filename": "sanic_mongo-1.7.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "58a3c3d57485767124c851337729adb5",
        "packagetype": "bdist_wheel",
        "python_version": "3.6",
        "size": 8511,
        "upload_time": "2017-08-18T13:54:15",
        "url": "https://files.pythonhosted.org/packages/11/6c/ca2d7784e0a4c41aca6ba102b51f06893f7549815f7ce2503891d0c99a80/sanic_mongo-1.7.0-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "eeb1253accd4fd0e0aeb923d916859eb",
          "sha256": "0e76702ffcb7bd6bc93144306b74cd62f44b2eb3f7bfdb2ba3ff7daaaeeaa2e6"
        },
        "downloads": 0,
        "filename": "sanic-mongo-1.7.0.tar.gz",
        "has_sig": false,
        "md5_digest": "eeb1253accd4fd0e0aeb923d916859eb",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 4476,
        "upload_time": "2017-08-18T13:53:48",
        "url": "https://files.pythonhosted.org/packages/34/4c/4d4cefc1ebbb9f8e32580a4d192419526e5b50eed96449ac03244628f508/sanic-mongo-1.7.0.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "58a3c3d57485767124c851337729adb5",
        "sha256": "7fca286b95535bb6e3d289ebb59c94890a5fe9a34b63b36c88c3addc73519e4a"
      },
      "downloads": 0,
      "filename": "sanic_mongo-1.7.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "58a3c3d57485767124c851337729adb5",
      "packagetype": "bdist_wheel",
      "python_version": "3.6",
      "size": 8511,
      "upload_time": "2017-08-18T13:54:15",
      "url": "https://files.pythonhosted.org/packages/11/6c/ca2d7784e0a4c41aca6ba102b51f06893f7549815f7ce2503891d0c99a80/sanic_mongo-1.7.0-py3-none-any.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "eeb1253accd4fd0e0aeb923d916859eb",
        "sha256": "0e76702ffcb7bd6bc93144306b74cd62f44b2eb3f7bfdb2ba3ff7daaaeeaa2e6"
      },
      "downloads": 0,
      "filename": "sanic-mongo-1.7.0.tar.gz",
      "has_sig": false,
      "md5_digest": "eeb1253accd4fd0e0aeb923d916859eb",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 4476,
      "upload_time": "2017-08-18T13:53:48",
      "url": "https://files.pythonhosted.org/packages/34/4c/4d4cefc1ebbb9f8e32580a4d192419526e5b50eed96449ac03244628f508/sanic-mongo-1.7.0.tar.gz"
    }
  ]
}
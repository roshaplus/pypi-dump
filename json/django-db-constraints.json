{
  "info": {
    "author": "shangxiao",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# django-db-constraints\n\n## What is this?\n\nAdd database table-level constraints to your Django model's Meta class and have `makemigrations` add the appropriate migration.\n\n```python\nclass Foo(models.Model):\n    bar = models.IntegerField()\n    baz = models.IntegerField()\n\n    class Meta:\n        db_constraints = {\n            'bar_equal_baz': 'check (bar = baz)',\n        }\n```\n\nThis should generate a migration like so:\n\n```python\nclass Migration(migrations.Migration):\n\n    initial = True\n\n    dependencies = [\n    ]\n\n    operations = [\n        migrations.CreateModel(\n            name='Foo',\n            fields=[\n                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),\n                ('bar', models.IntegerField()),\n                ('baz', models.IntegerField()),\n            ],\n        ),\n        django_db_constraints.apps.AlterConstraints(\n            name='Foo',\n            db_constraints={'bar_equal_baz': 'check (bar = baz)'},\n        ),\n    ]\n```\n\nThe resulting SQL applied:\n\n```sql\nCREATE TABLE \"sample_foo\" (\"id\" serial NOT NULL PRIMARY KEY, \"bar\" integer NOT NULL, \"baz\" integer NOT NULL)\nALTER TABLE \"sample_foo\" ADD CONSTRAINT \"bar_equal_baz\" check (bar = baz)\n```\n\n## Composite foreign keys\n\nIt's possible to support composite foreign keys if you have a unique key on your reference model:\n\n([Why are composite foreign keys useful?](https://github.com/rapilabs/blog/blob/master/articles/same-parent-db-pattern.md))\n\n```python\nclass Bar(models.Model):\n    baz = models.IntegerField()\n\n    class Meta:\n        unique_together = ('id', 'baz')\n\n\nclass Foo(models.Model):\n    bar = models.ForeignKey(Bar)\n    baz = models.IntegerField()\n\n    class Meta:\n        db_constraints = {\n            'composite_fk': 'foreign key (bar_id, baz) references sample_bar (id, baz)',\n        }\n```\n\nResults in:\n\n```sql\nALTER TABLE \"sample_foo\" ADD CONSTRAINT \"composite_fk\" foreign key (bar_id, baz) references sample_bar (id, baz)\n```\n\n## Installation\n\n```\npip install django-db-constraints\n```\n\nin your settings.py:\n\n```python\nINSTALLED_APPS = [\n    'django_db_constraints',\n    \u2026\n]\n```\n\n\n",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/rapilabs/django-db-constraints",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "django-db-constraints",
    "platform": "",
    "project_url": "https://pypi.org/project/django-db-constraints/",
    "release_url": "https://pypi.org/project/django-db-constraints/0.2.0/",
    "requires_dist": [
      "django"
    ],
    "requires_python": "",
    "summary": "Add database table-level constraints to your Django model's Meta",
    "version": "0.2.0"
  },
  "releases": {
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "6e1e2793d8a06c2c75c43aa262129612",
          "sha256": "4c98a9fd6b2057dd89a7404510b18ade72c3f6f7c465134cd93e645a6ec76841"
        },
        "downloads": 0,
        "filename": "django_db_constraints-0.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "6e1e2793d8a06c2c75c43aa262129612",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 5846,
        "upload_time": "2017-08-09T13:04:11",
        "url": "https://files.pythonhosted.org/packages/58/a4/c4825038e7e320f7140850852c900419f3dafd133f4f780bc9e3aeba9f36/django_db_constraints-0.2.0-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "aefa6c2530eee05c938c2b4610e4c7f2",
          "sha256": "27cbdcd38118e37834600cd0b5b8ec171cdb7ad387d8400eba67d112078a144b"
        },
        "downloads": 0,
        "filename": "django-db-constraints-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "aefa6c2530eee05c938c2b4610e4c7f2",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 3976,
        "upload_time": "2017-08-09T13:04:14",
        "url": "https://files.pythonhosted.org/packages/04/75/9ec62fbb94df67ad9a4d7b428f4572739e25447e0fcfc27ef5705cc875e4/django-db-constraints-0.2.0.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "6e1e2793d8a06c2c75c43aa262129612",
        "sha256": "4c98a9fd6b2057dd89a7404510b18ade72c3f6f7c465134cd93e645a6ec76841"
      },
      "downloads": 0,
      "filename": "django_db_constraints-0.2.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "6e1e2793d8a06c2c75c43aa262129612",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "size": 5846,
      "upload_time": "2017-08-09T13:04:11",
      "url": "https://files.pythonhosted.org/packages/58/a4/c4825038e7e320f7140850852c900419f3dafd133f4f780bc9e3aeba9f36/django_db_constraints-0.2.0-py3-none-any.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "aefa6c2530eee05c938c2b4610e4c7f2",
        "sha256": "27cbdcd38118e37834600cd0b5b8ec171cdb7ad387d8400eba67d112078a144b"
      },
      "downloads": 0,
      "filename": "django-db-constraints-0.2.0.tar.gz",
      "has_sig": false,
      "md5_digest": "aefa6c2530eee05c938c2b4610e4c7f2",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 3976,
      "upload_time": "2017-08-09T13:04:14",
      "url": "https://files.pythonhosted.org/packages/04/75/9ec62fbb94df67ad9a4d7b428f4572739e25447e0fcfc27ef5705cc875e4/django-db-constraints-0.2.0.tar.gz"
    }
  ]
}
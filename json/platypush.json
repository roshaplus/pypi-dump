{
  "info": {
    "author": "Fabio Manganiello",
    "author_email": "info@fabiomanganiello.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "License :: OSI Approved :: MIT License",
      "Topic :: Utilities"
    ],
    "description": "Platypush\n=========\n\n[![Build Status](https://travis-ci.org/BlackLight/platypush.svg?branch=master)](https://travis-ci.org/BlackLight/platypush)\n\n\nExecute any command or custom complex logic on your devices, wherever they are, using your PushBullet account.\n\nInstallation\n------------\n\n```shell\npip install platypush\n```\n\n### Manual Installation\n\n```shell\ngit clone https://github.com/BlackLight/platypush\ncd platypush\npython setup.py install\n```\n\nConfiguration\n-------------\n\nCopy /etc/platypush/config.example.yaml to /etc/platypush/config.yaml (system-wise settings) or ~/.config/platypush/config.yaml (user-wise settings).\n\nEdit the file to include:\n\n### For the PushBullet backend\n\n* Your PushBullet access token (create one [here](https://www.pushbullet.com/#settings/account));\n* The name of the (virtual) PushBullet device used to listen for events (create one [here](https://www.pushbullet.com/#devices)).\n\n### For the Apache Kafka backend\n\n* The host and port of the Kafka installation\n* The topic that will be used to deliver and process messages\n\n### device_id\n\nEach target device is identified by a unique device_id in the messages sent over your account. The device_id is the hostname by default, unless changed in config.yaml.\n\nShell interface\n---------------\n\n`platypush` installs `pusher`, a command-line tool to send PushBullet messages to the connected devices in the format used by platypush.\n\nSome examples:\n\n```shell\npusher --target laptop --action shell.exec --cmd \"scp /home/user/photos/*.jpg backup_host:/mnt/hd/photos\"\npusher --target raspberrypi --action music.mpd.play\n```\n\nThe logic to execute is specified by the `--action` option, whose format is `package_name.method_name` (with method_name part of the package main class).\n\nAvailable plugins\n-----------------\n\n* `platypush.plugins.shell`: The simplest and yet most versatile plugin. Executes a remote command on the host identified by the `--target` device_id. Example:\n\n```shell\npusher --target laptop --action shell.exec --cmd \"scp /home/user/photos/*.jpg backup_host:/mnt/hd/photos\"\n```\n\n* `platypush.plugins.music.mpd`: Controls the playback on a mpd/mopidy music server. Requires the package `mpd2` on the target machine. Example:\n\n```shell\npusher --target raspberry --action music.mpd.play\n```\n\nConfigure the plugin through an entry like this in your `config.yaml`:\n\n```yaml\nmusic.mpd:\n    host: your_mpd_host\n    port: 6600\n```\n\n* `platypush.plugins.switch.wemo`: Controls a WeMo Switch smart switch device. Requires the package `ouimeaux` on the target machine. Example:\n\n```shell\npusher --target raspberry --action switch.wemo.on\n```\n\n* `platypush.plugins.light.hue`: Controls a Philips Hue smart lights system. Requires the package `phue` on the target machine. Example:\n\n```shell\npusher --target raspberry --action light.hue.scene --name \"Sunset\" --group \"Living Room\"\n```\n\nWriting your plugins\n--------------------\n\nWriting your own `platypush` plugin, that would execute your own custom logic whenever a bullet with your plugin name is received, is a very simple task.\n\n1. Create your plugin directory under `platypush/plugins` (e.g. `light/batsignal`).\n\n2. In the case above, `platypush.plugins.light.batsignal` will be your package name.\n\n3. Create an `__init__.py` under `platypush/plugins/light/batsignal`.\n\n4. If your module is `light/batsignal`, then its main class should be named `LightBatsignalPlugin`.\n\n5. The configuration for your module will be read from a section named `light.batsignal` from your `config.yaml`. Its values will passed over the plugin constructor arguments.\n\nThe `__init__.py` will look like this:\n\n```python\nimport batman\n\nfrom platypush.message.response import Response\n\nfrom .. import LightPlugin\n\nclass LightBatsignalPlugin(LightPlugin):\n    def __init__(self, intensity=100):\n        super().__init__()\n        self.batsignal = batman.Batsignal(intensity)\n\n    def on(self, urgent=False):\n        if urgent:\n            self.batsignal.notify_robin()\n\n        self.batsignal.on()\n        return Response(output='ok')\n\n    def off(self):\n        self.batsignal.off()\n        return Response(output='ok')\n\n    def toggle(self):\n        self.batsignal.toggle()\n        return Response(output='ok')\n\n```\n\n6. Rebuild and reinstall `platypush` if required and relaunch it.\n\n7. Test your new plugin by sending some bullets to it:\n\n```shell\npusher --target your_pc --action light.batsignal.on --urgent 1\n```\n\nWriting your backends\n---------------------\n\nYou can also write your own backends, where a backend is nothing but a thread that listens for messages on a certain channel and pokes the main app whenever it receives one.\n\n1. Create your backend directory under `platypush/backend` (e.g. `voicemail`)\n\n2. In the case above, `platypush.backend.voicemail` will be your package name.\n\n3. Create an `__init__.py` under `platypush/backend/voicemail`.\n\n4. If your module is `voicemail`, then its main class should be named `VoicemailBackend`.\n\n5. The configuration for your module will be read from a section named `backend.voicemail` from your `config.yaml`. Its values will be passed over the backend constructor arguments.\n\n6. Implement the `run` method. Since a backend is a thread that polls for new messages on a channel, this will be the thread main method. `send_message` should call `self.on_message` at the end to post a new message to the application.\n\n7. Implement the `send_message` method. This method will be called whenever the application needs to send a new message through `send_request` and `send_response`. You should never call `send_message` directly.\n\nThe `__init__.py` will look like this:\n\n```python\nfrom .. import Backend\n\nclass VoicemailBackend(Backend)\n    def __init__(self, phone)\n        super().__init__()\n        self.phone = phone\n        self.voicemail = Voicemail(...)\n\n    def send_message(self, msg):\n        self.voicemail.save_msg(msg)\n\n    def run(self):\n        while True:\n            msg = self.voicemail.poll()\n            self.on_message(msg)\n```\n\n",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/BlackLight/platypush",
    "keywords": "pushbullet notifications automation",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "platypush",
    "platform": "",
    "project_url": "https://pypi.org/project/platypush/",
    "release_url": "https://pypi.org/project/platypush/0.6/",
    "requires_dist": [],
    "requires_python": "",
    "summary": "Platypush service",
    "version": "0.6"
  },
  "releases": {
    "0.3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "a197b24bfcd1db7ff12e59ddff83876f",
          "sha256": "25c949742e801688274739ace8065e2a5392dd390b8f7f478f92e5072b84a545"
        },
        "downloads": -1,
        "filename": "platypush-0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "a197b24bfcd1db7ff12e59ddff83876f",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 10200,
        "upload_time": "2017-12-11T21:05:19",
        "url": "https://files.pythonhosted.org/packages/bc/d6/034145ccd0fc870e9a3774f0cdb1a37d4cf833d7c7d693013983da1001df/platypush-0.3.tar.gz"
      }
    ],
    "0.3.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "1602f1a90fa033844dd47fd4451ebcf2",
          "sha256": "a981bfffc9806bc4c2ead73fd3903e017d387b1d7e3ba6e0313269c1082453d9"
        },
        "downloads": -1,
        "filename": "platypush-0.3.1.tar.gz",
        "has_sig": false,
        "md5_digest": "1602f1a90fa033844dd47fd4451ebcf2",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 10428,
        "upload_time": "2017-12-13T00:18:35",
        "url": "https://files.pythonhosted.org/packages/d7/7a/3d7ee2cb8687c0d61ac021390eb4e9fd523dff27ec1d60c7b15564e470ee/platypush-0.3.1.tar.gz"
      }
    ],
    "0.3.3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "81036e96d8ef04731dabea8a607674b0",
          "sha256": "8a4305d5e5810c261b63984f324bf7b6087c565a5dd96ab44c10e4100d572868"
        },
        "downloads": -1,
        "filename": "platypush-0.3.3.tar.gz",
        "has_sig": false,
        "md5_digest": "81036e96d8ef04731dabea8a607674b0",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 10995,
        "upload_time": "2017-12-16T04:01:22",
        "url": "https://files.pythonhosted.org/packages/3b/bd/3442d80596cfb6f1aaec628ac66e51cabeab77b1cfe23b660e29ba25bbe3/platypush-0.3.3.tar.gz"
      }
    ],
    "0.5": [
      {
        "comment_text": "",
        "digests": {
          "md5": "92f579e45e448772984030e6f5a6683a",
          "sha256": "0cb478e12cfd1c7f93e427e423ccc9bb009b27ffdfb8c860d1e8efa3a662b690"
        },
        "downloads": -1,
        "filename": "platypush-0.5.tar.gz",
        "has_sig": false,
        "md5_digest": "92f579e45e448772984030e6f5a6683a",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 18166,
        "upload_time": "2017-12-22T01:58:34",
        "url": "https://files.pythonhosted.org/packages/bf/a6/62bd49a62ea4f2c084d86d151e9b0168dc67a2a0f23b8e8ab87bff314ec2/platypush-0.5.tar.gz"
      }
    ],
    "0.6": [
      {
        "comment_text": "",
        "digests": {
          "md5": "4f29c852afcca2a8b689fcb5baaf55d5",
          "sha256": "2255ff5071ddf4eb709bc4168a104e192a4eaf53ef4ec0bcc2d0556ca614bb02"
        },
        "downloads": -1,
        "filename": "platypush-0.6.tar.gz",
        "has_sig": false,
        "md5_digest": "4f29c852afcca2a8b689fcb5baaf55d5",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 31693,
        "upload_time": "2017-12-24T12:23:30",
        "url": "https://files.pythonhosted.org/packages/53/13/e36b21816031208fce65512beccc8e2c5af195f83a6bcd5ba477e8c42645/platypush-0.6.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "4f29c852afcca2a8b689fcb5baaf55d5",
        "sha256": "2255ff5071ddf4eb709bc4168a104e192a4eaf53ef4ec0bcc2d0556ca614bb02"
      },
      "downloads": -1,
      "filename": "platypush-0.6.tar.gz",
      "has_sig": false,
      "md5_digest": "4f29c852afcca2a8b689fcb5baaf55d5",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 31693,
      "upload_time": "2017-12-24T12:23:30",
      "url": "https://files.pythonhosted.org/packages/53/13/e36b21816031208fce65512beccc8e2c5af195f83a6bcd5ba477e8c42645/platypush-0.6.tar.gz"
    }
  ]
}
{
  "info": {
    "author": "Peter Schutt",
    "author_email": "peter@topsport.com.au",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Programming Language :: Python :: 3.6",
      "Topic :: Software Development :: Build Tools"
    ],
    "description": "toputils\n========\n\nCollection of tools commonly used in applicatons at TopSport.com.au\n\nIncluded Packages\n/////////////////\n\n`toputils.db`: Context manager with inbuilt retry logic wrapped around mysql.connector.\n  Uses configuration file for connection parameters and credentials.\n`toputils.rmq`: Context manager wrapped around pika blocking publish and blocking consume methods.\n  Uses configuration file for connection parameters and credentials.\n\nInstallation\n////////////\n\nPipenv.. too easy::\n\n     $ pipenv install toputils\n\n\ntoputils.db\n===========\n\nConnection and query boilerplate built around mysql.connector.\n\nIf no exceptions are raised inside context manager, connection is\nautomatically committed upon exiting the context manager. However,\nif the connection is to be held open for extended periods, the user can\nalso commit their own transactions using DataBase.commit().\n\nConnection parameters are fetched from a configuration file and used\nto establish the connection. Example .cnf file::\n\n    [test_db]\n    user = user-name\n    password = password1\n    database = my-database\n    host = 0.0.0.0\n    charset = utf8\n    ssl_ca = /dir/to/ca.pem\n    ssl_cert = /dir/to/client-cert.pem\n    ssl_key = /dir/to/client-key.pem\n    ...\n\nThere can be multiple sections in the .cnf file enabling DataBase\nobjects being created for multiple databases within a single application.\n\nBasic Usage\n///////////\n\nNo dict_cursor::\n\n    >>> from toputils.db import DataBase\n    >>> with DataBase(\"db_top_feed\") as dbse:\n    ...     cur = dbse.execute(\"SELECT * FROM tbl_top_events LIMIT 1\")\n    ...     print(cur.fetchone())\n    ...\n    (1, 92, 'Match Price Model Example Match', 2, \n     datetime.datetime(2022, 7, 14, 14, 27), \n     datetime.datetime(2022, 7, 14, 14, 27), 0)\n\nWith dict_cursor::\n\n    >>> import json\n    >>> with DataBase(\"db_top_feed\") as dbse:\n    ...     cur = dbse.execute(\n                \"SELECT event_id, description  FROM tbl_top_events LIMIT 3\", \n                dict_cursor=True\n            )\n    ...     print(json.dumps(cur.fetchall(), sort_keys=True, indent=4))\n    ...\n    [\n        {\n            \"description\": \"Match Price Model Example Match\",\n            \"event_id\": 1\n        },\n        {\n            \"description\": \"child_comp_1\",\n            \"event_id\": 2\n        },\n        {\n            \"description\": \"child_comp_2\",\n            \"event_id\": 3\n        }\n    ]\n\n\ntoputils.rmq\n============\n\nBoilerplate for publishing and (soon) consuming off RabbitMQ Queues.\n\nUser can create the RMQConn object themselves and be responsible \nfor managing the connect() and close() methods however it's preferrable\nto use the context manager functionality wherever possible.\n\nAll necessary parameters are established in a configuration file. The \nfollowing example lists all possible parameters and the default values \nthat pika carries for each. All can be individually set for a connection \nbut this is an exhaustive list and much of the time the defaults will do.\nThe ``[cnf_identifier]`` is the string passed to the RMQConn constructor\nwhich allows it to identify the configuration setup you are using for\nthe connection. The cnf file can contain multiple sections for \nconnections to different queues, each just needs it's own \n``[cnf_identifier]`` header. Uncomment out and change any of the \nfollowing::\n\n    [cnf_identifier]\n\n    ### CONNECTION PARAMETERS ###\n    ## see :class:`pika.connection.ConnectionParameters ##\n    # host = localhost\n    # port = 5672\n    # virtual_host = /\n    # username = guest\n    # password = guest\n    # channel_max = 65535\n    # frame_max = 131072\n    # heartbeat\n    # ssl = False\n    # connection_attempts = 1\n    # retry_delay = 2.0\n    # socket_timeout = 0.25\n    # locale = en_US\n    # backpressure_detection = False\n    # blocked_connection_timeout\n    # client_properties\n    ## these will only be searched if ssl = True\n    ## specify path for each\n    # keyfile\n    # certfile\n    # ca_certs\n\n    ### QUEUE PARAMETERS ###\n    ## see :meth:`pika.channel.Channel.queue_declare` ##\n    # queue =\n    # q_passive = False\n    # q_durable = False\n    # exclusive = False\n    # q_auto_delete = False\n    # q_nowait = False\n    # q_arguments\n\n    ### EXCHANGE PARAMETERS ###\n    ## see :meth:`pika.channel.Channel.exchange_declare` ##\n    # exchange\n    # exchange_type = direct\n    # ex_passive = False\n    # ex_durable = False\n    # ex_auto_delete = False\n    # internal = False\n    # ex_nowait = False\n    # ex_arguments\n\n    ### BIND PARAMETERS ###\n    ## see :meth:`pika.channel.Channel.exchange_bind` ##\n    # b_nowait = False\n    # b_arguments\n\n    ### PUBLISH PARAMETERS ###\n    ## see :meth:`pika.channel.Channel.basic_publish` ##\n    # routing_key =\n    # mandatory = False\n    # immediate = False\n    \n    ### BASIC PROPERTIES PARAMETERS ###\n    ## see :class:`pika.spec.BasicProperties` ##\n    # content_type\n    # content_encoding\n    # headers\n    # delivery_mode\n    # priority\n\n\nExample Usage::\n\n    >>> from toputils.rmq import RMQConn\n    >>> with RMQConn(\"cnf_identifier\") as r:\n    ...     r.publish('{\"some\": \"message\"}')",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/5uper5hoot/toputils",
    "keywords": "rmq mysql context manager requests",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "toputils",
    "platform": "",
    "project_url": "https://pypi.org/project/toputils/",
    "release_url": "https://pypi.org/project/toputils/1.1.11/",
    "requires_dist": [],
    "requires_python": "",
    "summary": "Collection of scripting utilities used @ TopSport",
    "version": "1.1.11"
  },
  "releases": {
    "1.1.10": [
      {
        "comment_text": "",
        "digests": {
          "md5": "e6084f2ec317db538ec53f51aa26e578",
          "sha256": "47738bc34db140640b8eec1ea9e6f117133683354202bbf4712cd4a44009e417"
        },
        "downloads": -1,
        "filename": "toputils-1.1.10.tar.gz",
        "has_sig": false,
        "md5_digest": "e6084f2ec317db538ec53f51aa26e578",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 11478,
        "upload_time": "2017-10-19T11:19:42",
        "url": "https://files.pythonhosted.org/packages/51/37/d70558d9e33ddb3af1dba8e8ce9a97087df038941383e82e573e568efc59/toputils-1.1.10.tar.gz"
      }
    ],
    "1.1.11": [
      {
        "comment_text": "",
        "digests": {
          "md5": "837f33709fc7cfb0ec1fdc2edc8adbab",
          "sha256": "827ec284efbf5d984e2f7b9b4aca0411f26fd58dd7ff5b25c8c8e4b8afe1807a"
        },
        "downloads": -1,
        "filename": "toputils-1.1.11.tar.gz",
        "has_sig": false,
        "md5_digest": "837f33709fc7cfb0ec1fdc2edc8adbab",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 11411,
        "upload_time": "2017-10-19T11:50:31",
        "url": "https://files.pythonhosted.org/packages/af/74/55c4ead0b36295efbe8ed22145cc05791bedf10f1a51040106431ddb4f0a/toputils-1.1.11.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "837f33709fc7cfb0ec1fdc2edc8adbab",
        "sha256": "827ec284efbf5d984e2f7b9b4aca0411f26fd58dd7ff5b25c8c8e4b8afe1807a"
      },
      "downloads": -1,
      "filename": "toputils-1.1.11.tar.gz",
      "has_sig": false,
      "md5_digest": "837f33709fc7cfb0ec1fdc2edc8adbab",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 11411,
      "upload_time": "2017-10-19T11:50:31",
      "url": "https://files.pythonhosted.org/packages/af/74/55c4ead0b36295efbe8ed22145cc05791bedf10f1a51040106431ddb4f0a/toputils-1.1.11.tar.gz"
    }
  ]
}
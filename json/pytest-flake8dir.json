{
  "info": {
    "author": "Adam Johnson",
    "author_email": "me@adamj.eu",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Framework :: Pytest",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: ISC License (ISCL)",
      "Natural Language :: English",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 2",
      "Programming Language :: Python :: 2.7",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.4",
      "Programming Language :: Python :: 3.5",
      "Programming Language :: Python :: 3.6"
    ],
    "description": "================\npytest-flake8dir\n================\n\n.. image:: https://img.shields.io/travis/adamchainz/pytest-flake8dir/master.svg\n        :target: https://travis-ci.org/adamchainz/pytest-flake8dir\n\n.. image:: https://img.shields.io/pypi/v/pytest-flake8dir.svg\n        :target: https://pypi.python.org/pypi/pytest-flake8dir\n\nA pytest fixture for testing flake8 plugins.\n\nA quick example:\n\n.. code-block:: python\n\n    def test_simple_run(flake8dir):\n        flake8dir.make_py_files(example='''\n            x  = 1\n        ''')\n        result = flake8dir.run_flake8()\n        assert result.out_lines == [\n            './example.py:1:2: E221 multiple spaces before operator'\n        ]\n\nInstallation\n============\n\nUse **pip**:\n\n.. code-block:: sh\n\n    pip install pytest-flake8dir\n\nTested on Python 2.7 and Python 3.6.\n\nAPI\n===\n\n``flake8dir`` fixture\n---------------------\n\nA pytest fixture that wraps Pytest's built-in ``tmpdir`` fixture\n(`docs <https://docs.pytest.org/en/latest/tmpdir.html>`_), to create a\ntemporary directory, allow adding files, and running flake8.\n\n``flake8dir.make_py_files(**kwargs)``\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nCreates one python file for each passed keyword argument, with name\ncorresponding to the keyword argument + '.py', and content according the string\nvalue of the argument. The value will be processed with ``textwrap.dedent()``\nso indentation is not a problem when writing tests.\n\nFor example, this creates two python files in the temporary directory, called\n``example1.py`` and ``example2.py``, each containing one line with an\nassignment:\n\n.. code-block:: python\n\n    def test_sample(flake8dir):\n        flake8dir.make_py_files(\n            example1='''\n                x = 1\n            ''',\n            example2='''\n                y = 1\n            '''\n        )\n\n``flake8dir.make_example_py(content)``\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nA shortcut for ``make_py_files(example=content)``, for when you are using a\nsingle file over and over. This creates just ``example.py``, which is often\nall you need for testing a rule.\n\nFor example:\n\n.. code-block:: python\n\n    def test_sample(flake8dir):\n        flake8dir.make_example_py('''\n            x = 1\n        ''')\n\n``flake8dir.make_setup_cfg(contents)``\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nMakes the file ``setup.cfg`` in the test directory with contents equal to the\nstring passed in. This is again processed with ``textwrap.dedent()`` so\nindentation is not a worry. You'll probably want to set the ``[flake8]``\nsection header to configure flake8.\n\nFor example, this makes flake8 ignore rule E101:\n\n.. code-block:: python\n\n    def test_sample(flake8dir):\n        flake8dir.make_setup_cfg('''\n            [flake8]\n            ignore = E101\n        ''')\n\n``flake8dir.make_file(filename, content)``\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nMake an arbitrary file with the given filename - this function is the inner\nimplementation for ``make_py_files`` and ``make_setup_cfg``. ``filename`` may\ninclude directories, like ``mydir/foo.py``, and they will be created.\n``content`` is subject to the same ``textwrap.dedent()`` processing as\nmentioned above.\n\nFor example:\n\n.. code-block:: python\n\n    def test_sample(flake8dir):\n        flake8dir.make_file('myfile/foo.py', '''\n            x = 1\n        ''')\n\n``flake8dir.run_flake8(extra_args=None)``\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nRuns flake8 in the current process, and returns a ``Flake8Result`` representing\nthe results.\n\n``extra_args`` may be a list of extra flags to pass to flake8, for example\npassing ``['--ignore', 'E101']`` would achieve the same thing as the above\n``setup.cfg`` example. Note some arguments are already passed to ensure it runs\nin the same process without multiprocessing - see source.\n\n\n``Flake8Result``\n----------------\n\nRepresents the parsed output of a flake8 run.\n\n``Flake8Result.out``\n~~~~~~~~~~~~~~~~~~~~\n\nThe full string of output generated by flake8.\n\n``Flake8Result.out_lines``\n~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nA list of individual lines of output, without trailing newlines. This is the\nmost useful tool for making assertions against.\n\nFor example, given a result you can check for a particular line being output:\n\n.. code-block:: python\n\n    result = flake8dir.run_flake8()\n    expected = './example.py:1:2: E221 multiple spaces before operator'\n    assert expected in result.out_lines\n\n.. _tmpdir: https://docs.pytest.org/en/latest/tmpdir.html\n\n\n\n\nHistory\n=======\n\nPending Release\n---------------\n\n.. Insert new release notes below this line\n\n1.1.0 (2017-06-23)\n------------------\n\n* Add convenience methods ``make_example_py`` and ``make_file``.\n\n1.0.0 (2017-06-22)\n------------------\n\n* First version with basic fixture supporting ``make_py_files``,\n  ``make_setup_cfg`` and ``run_flake8``.\n",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/adamchainz/pytest-flake8dir",
    "keywords": "pytest, flake8",
    "license": "ISC License",
    "maintainer": "",
    "maintainer_email": "",
    "name": "pytest-flake8dir",
    "platform": "",
    "project_url": "https://pypi.org/project/pytest-flake8dir/",
    "release_url": "https://pypi.org/project/pytest-flake8dir/1.1.0/",
    "requires_dist": [],
    "requires_python": "",
    "summary": "A pytest fixture for testing flake8 plugins.",
    "version": "1.1.0"
  },
  "releases": {
    "1.0.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "d30530cc78eecd17befb0841d2da8607",
          "sha256": "21f58f59b774eea4298ccc4c6d6b1e5a8b8320a21bdb60068b4c92eacb3a9b10"
        },
        "downloads": 0,
        "filename": "pytest_flake8dir-1.0.0-py2.py3-none-any.whl",
        "has_sig": true,
        "md5_digest": "d30530cc78eecd17befb0841d2da8607",
        "packagetype": "bdist_wheel",
        "python_version": "2.7",
        "size": 6641,
        "upload_time": "2017-06-22T21:20:57",
        "url": "https://files.pythonhosted.org/packages/36/45/25e88ee4720eb2b42a1528fba570fd3c90018159081327bbf021a216ba3d/pytest_flake8dir-1.0.0-py2.py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "6a7f721d7ca37c5ad81f9e32701e9e82",
          "sha256": "d9a3f563f8324e4db4c6d54df5f953d0883fbd059426e21d1760eb39ee6cf2ac"
        },
        "downloads": 0,
        "filename": "pytest-flake8dir-1.0.0.tar.gz",
        "has_sig": true,
        "md5_digest": "6a7f721d7ca37c5ad81f9e32701e9e82",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5134,
        "upload_time": "2017-06-22T21:20:54",
        "url": "https://files.pythonhosted.org/packages/29/b1/e56da3d5afdef2fbfeb64c9d7c0e2eec2be7be18d36bab03c2a56d5bd96c/pytest-flake8dir-1.0.0.tar.gz"
      }
    ],
    "1.1.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "6c083b979a20947c9dac06aab2efc77c",
          "sha256": "ee10d3e987548dd72bc22c9f998d59b7354605473f13a37b131dfde825a7c95b"
        },
        "downloads": 0,
        "filename": "pytest_flake8dir-1.1.0-py2.py3-none-any.whl",
        "has_sig": true,
        "md5_digest": "6c083b979a20947c9dac06aab2efc77c",
        "packagetype": "bdist_wheel",
        "python_version": "2.7",
        "size": 7235,
        "upload_time": "2017-06-23T08:00:58",
        "url": "https://files.pythonhosted.org/packages/a0/8f/be886fdac420d40793b94759b2e32eddf12522d5e4f2e2c00db532f7cbd0/pytest_flake8dir-1.1.0-py2.py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "d00b9384d6f59f5befdf4b4c9e2a25a7",
          "sha256": "bd4554ebbd3c9ef75be8a39438eb4d14e61bbe051e4acac48d0c72a3345296fa"
        },
        "downloads": 0,
        "filename": "pytest-flake8dir-1.1.0.tar.gz",
        "has_sig": true,
        "md5_digest": "d00b9384d6f59f5befdf4b4c9e2a25a7",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5508,
        "upload_time": "2017-06-23T08:00:56",
        "url": "https://files.pythonhosted.org/packages/77/e2/7b6952938a61491987730b15f647187bd2533b247a8f6255a56f10a404ad/pytest-flake8dir-1.1.0.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "6c083b979a20947c9dac06aab2efc77c",
        "sha256": "ee10d3e987548dd72bc22c9f998d59b7354605473f13a37b131dfde825a7c95b"
      },
      "downloads": 0,
      "filename": "pytest_flake8dir-1.1.0-py2.py3-none-any.whl",
      "has_sig": true,
      "md5_digest": "6c083b979a20947c9dac06aab2efc77c",
      "packagetype": "bdist_wheel",
      "python_version": "2.7",
      "size": 7235,
      "upload_time": "2017-06-23T08:00:58",
      "url": "https://files.pythonhosted.org/packages/a0/8f/be886fdac420d40793b94759b2e32eddf12522d5e4f2e2c00db532f7cbd0/pytest_flake8dir-1.1.0-py2.py3-none-any.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "d00b9384d6f59f5befdf4b4c9e2a25a7",
        "sha256": "bd4554ebbd3c9ef75be8a39438eb4d14e61bbe051e4acac48d0c72a3345296fa"
      },
      "downloads": 0,
      "filename": "pytest-flake8dir-1.1.0.tar.gz",
      "has_sig": true,
      "md5_digest": "d00b9384d6f59f5befdf4b4c9e2a25a7",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 5508,
      "upload_time": "2017-06-23T08:00:56",
      "url": "https://files.pythonhosted.org/packages/77/e2/7b6952938a61491987730b15f647187bd2533b247a8f6255a56f10a404ad/pytest-flake8dir-1.1.0.tar.gz"
    }
  ]
}
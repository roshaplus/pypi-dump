{
  "info": {
    "author": "Mark van Holsteijn",
    "author_email": "markvanholsteijn@binx.io",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "This ResourceProvider base class makes it very simple to implement a Custom CloudFormation Resource.\n\nFirst, you inherit from the base class and specify a JSON schema which defines the resource properties you require::\n\n    from cfn_resource_provider import ResourceProvider\n\n    class SecretProvider(ResourceProvider):\n        def __init__(self):\n                super(SecretProvider, self).__init__()\n                self.request_schema =  {\n                    \"type\": \"object\",\n                    \"required\": [\"Name\"],\n                    \"properties\": {\n                        \"Name\": {\"type\": \"string\", \n                                 \"minLength\": 1,\n                                 \"pattern\": \"[a-zA-Z0-9_/]+\",\n                                 \"description\": \"the name of the value in the parameters store\"},\n                        \"Description\": {\"type\": \"string\", \n                                        \"default\": \"\",\n                                        \"description\": \"the description of the value in the parameter store\"},\n                        \"Alphabet\": {\"type\": \"string\",\n                                     \"default\": \"abcdfghijklmnopqrstuvwyxzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_\",\n                                     \"description\": \"the characters from which to generate the secret\"},\n                        \"ReturnSecret\": {\"type\": \"boolean\",\n                                         \"default\": False,\n                                         \"description\": \"return secret as attribute 'Secret'\"},\n                        \"KeyAlias\": {\"type\": \"string\",\n                                     \"default\": \"alias/aws/ssm\",\n                                     \"description\": \"KMS key to use to encrypt the value\"},\n                        \"Length\": {\"type\": \"integer\",  \n                                   \"minimum\": 1, \"maximum\": 512,\n                                   \"default\": 30,\n                                   \"description\": \"length of the secret\"}\n                    }\n                }\n\nThe JSON schema allows you to specify the expected properties, constraints and default values.\nAfter that, you only need to implement the methods `create`, `update` and `delete`::\n\n    class SecretProvider(ResourceProvider):\n        ...\n        def create(self):\n            try:\n                value = \"\".join(choice(self.get('Alphabet') for x in range(0, self.get('Length')))\n                self.ssm.put_parameter(Name=self.get('Name'), KeyId=self.get('KeyAlias'),\n                                       Type='SecureString', Overwrite=False, Value=value)\n                self.set_attribute('Arn', self.arn)\n                if self.get('ReturnSecret'):\n                    self.set_attribute('Secret', value)\n\n                self.physical_resource_id = self.arn\n            except ClientError as e:\n                self.physical_resource_id = 'could-not-create'\n                self.fail(str(e))\n        \n        def create(self):\n            ....\n        \n        def delete(self):\n            ....\n\nIn these methods, you can safely access all the properties defined in your JSON schema. The methods\nare only called after validation of the request against your schema.\n\n- to return values which can be accessed by `Fn::GetAtt`, you can call the method `set_attribute`.\n- to return a resource id for your resource, you can set the property `physical_resource_id`.\n- to indicate a failed request, you can call the method `fail`.\n- to indicate a succesful request, you can call the method `success`.\n\nFinally, at the end of your module implement the AWS Lambda handle function::\n\n    provider = SecretProvider()\n    def handle(request, context):\n        provider.handle(request, context)\n\n\n**Processing boolean and integer properties**\n\nAWS CloudFormation passes all properties in  string format, eg 'true', 'false', '123'. This does not go down well with the json schema validator. Therefore, before the validator is called, it calls the method `convert_property_types`. Use this method to do the conversion of the non string properties::\n\n   def convert_property_types(self):\n        try:\n            if 'Length' in self.properties and isinstance(self.properties['Length'], (str, unicode,)):\n                self.properties['Length'] = int(self.properties['Length'])\n            if 'ReturnSecret' in self.properties and isinstance(self.properties['ReturnSecret'], (str, unicode,)):\n                self.properties['ReturnSecret'] = (self.properties['ReturnSecret'] == 'true')\n        except ValueError as e:\n            log.error('failed to convert property types %s', e)\n\nit is ok if you cannot convert the values: the validator will report the error for you :-) If I find out how, I will do a generic implementation based on your json schema.",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/binxio/cfn-resource-provider",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "cfn-resource-provider",
    "platform": "any",
    "project_url": "https://pypi.org/project/cfn-resource-provider/",
    "release_url": "https://pypi.org/project/cfn-resource-provider/0.6.0/",
    "requires_dist": [],
    "requires_python": "",
    "summary": "A base class for AWS CloudFormation Custom Resource Providers.",
    "version": "0.6.0"
  },
  "releases": {
    "0.0.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "1ec404b385c2669133ab35a75c735c5d",
          "sha256": "1a5d24af71e6cb2ddbb93e43317c47806123196a6ffecf5b5a1ee32c96f1c85d"
        },
        "downloads": -1,
        "filename": "cfn_resource_provider-0.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "1ec404b385c2669133ab35a75c735c5d",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5135,
        "upload_time": "2017-10-07T21:08:02",
        "url": "https://files.pythonhosted.org/packages/ec/c3/4ec4135f96448d7215d59aaa847a9299cbff1099e40a321ea85781234f3d/cfn_resource_provider-0.0.0.tar.gz"
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "0b3d054002fc97e231a2a936b002cc49",
          "sha256": "cb697fdd9ac42589480071ff51cdbfafb4c24813cb3816f8c25a771748f826ee"
        },
        "downloads": -1,
        "filename": "cfn_resource_provider-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "0b3d054002fc97e231a2a936b002cc49",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5135,
        "upload_time": "2017-10-07T21:11:08",
        "url": "https://files.pythonhosted.org/packages/34/dd/8eec75b653dac3b62d67fe9a3dd95bb35db74f8a09ef77722eecc3e68718/cfn_resource_provider-0.2.0.tar.gz"
      }
    ],
    "0.3.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "33c7d3f6753d673922cd8fbd29595ae3",
          "sha256": "17dd31857572403f60556d04ceb6189e3367d94c0ea4029b566c59044a4b70eb"
        },
        "downloads": -1,
        "filename": "cfn_resource_provider-0.3.0.tar.gz",
        "has_sig": false,
        "md5_digest": "33c7d3f6753d673922cd8fbd29595ae3",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5147,
        "upload_time": "2017-10-07T22:28:32",
        "url": "https://files.pythonhosted.org/packages/c0/81/4111a7cb0ce452a25018da1475fb0f8289a86696b7629b12e608b06707dd/cfn_resource_provider-0.3.0.tar.gz"
      }
    ],
    "0.4.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "16a26de7a1b12576a82b1edb81bc7079",
          "sha256": "4c8f2290b449459fa06d28b1371880d5615dc6162d08987e2ecb4f64ce460f5e"
        },
        "downloads": -1,
        "filename": "cfn_resource_provider-0.4.0.tar.gz",
        "has_sig": false,
        "md5_digest": "16a26de7a1b12576a82b1edb81bc7079",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5290,
        "upload_time": "2017-10-07T23:06:05",
        "url": "https://files.pythonhosted.org/packages/8d/c3/a2ed1840dd9566afc6c53b75b9e31008a3f08b9e19d155f872bba0fe80ba/cfn_resource_provider-0.4.0.tar.gz"
      }
    ],
    "0.5.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "5534f9bbc20327e8cc42dd2fb38fa600",
          "sha256": "5ecb56496cada90bb87c3261a311e8e24501ecf92e987a47fa8ae1c411836d4b"
        },
        "downloads": -1,
        "filename": "cfn_resource_provider-0.5.0.tar.gz",
        "has_sig": false,
        "md5_digest": "5534f9bbc20327e8cc42dd2fb38fa600",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5292,
        "upload_time": "2017-10-07T23:23:22",
        "url": "https://files.pythonhosted.org/packages/3e/ac/8756f7600e684065c09a5782f154b364c2d57d05b6cf7d65f32ab0d1bb6b/cfn_resource_provider-0.5.0.tar.gz"
      }
    ],
    "0.6.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "21aefee7247282d5b8227be08a1764f2",
          "sha256": "a06f20e1dc1bc37b59c434a49dfa7930b18b0853cda24014f47d10ead29a3d78"
        },
        "downloads": -1,
        "filename": "cfn-resource-provider-0.6.0.tar.gz",
        "has_sig": false,
        "md5_digest": "21aefee7247282d5b8227be08a1764f2",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5698,
        "upload_time": "2017-10-10T06:45:42",
        "url": "https://files.pythonhosted.org/packages/e9/d4/fe87e6f3496375221aaae3e4fe94eaf734e6b846d7b5249a438da07b5690/cfn-resource-provider-0.6.0.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "21aefee7247282d5b8227be08a1764f2",
        "sha256": "a06f20e1dc1bc37b59c434a49dfa7930b18b0853cda24014f47d10ead29a3d78"
      },
      "downloads": -1,
      "filename": "cfn-resource-provider-0.6.0.tar.gz",
      "has_sig": false,
      "md5_digest": "21aefee7247282d5b8227be08a1764f2",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 5698,
      "upload_time": "2017-10-10T06:45:42",
      "url": "https://files.pythonhosted.org/packages/e9/d4/fe87e6f3496375221aaae3e4fe94eaf734e6b846d7b5249a438da07b5690/cfn-resource-provider-0.6.0.tar.gz"
    }
  ]
}
{
  "info": {
    "author": "Guy Rodrigue Koffi",
    "author_email": "koffirodrigue@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "Intended Audience :: Developers",
      "Intended Audience :: Information Technology",
      "Intended Audience :: System Administrators",
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python",
      "Programming Language :: Python :: 2",
      "Programming Language :: Python :: 2.7",
      "Topic :: Software Development :: Libraries :: Python Modules"
    ],
    "description": "aws-amicleaner\n==============\n\nCleanup your old unused ami and related snapshots\n\n|Circle CI| |codecov.io| |pypi|\n\nDescription\n-----------\n\nThis tools permits to clean your custom `Amazon Machine Images (AMI)\n<http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html>`__ and\nrelated `EBS Snapshots\n<http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSSnapshots.html>`__.\n\nYou can either run in ``fetch and clean`` mode where the tool will\nretrieve all your private **AMIs** and EC2 instances, exclude AMIs being\nholded by your EC2 instances (it can be useful if you use autoscaling,\nand so on ...). It applies a filter based on their **names** or **tags**\nand a number of **previous AMIs** you want to keep. You can also check and\ndelete EBS snapshots left orphaned by manual deletion of AMIs.\n\nIt can simply remove AMIs with a list of provided ids.\n\nPrerequisites\n-------------\n\n-  `awscli <http://docs.aws.amazon.com/cli/latest/userguide/installing.html>`__\n-  `python\n   2.7 <https://www.python.org/downloads/release/python-2710/>`__\n-  `pyhton pip <https://pip.pypa.io/en/stable/installing/>`__\n\nThis tool assumes your AWS credentials sourced, either with aws\ncredentials variables :\n\n.. code:: bash\n\n    export AWS_DEFAULT_REGION='your region'\n    export AWS_ACCESS_KEY_ID='with token Access ID'\n    export AWS_SECRET_ACCESS_KEY='with token AWS Secret'\n\nor with ``awscli`` :\n\n.. code:: bash\n\n    export AWS_PROFILE=profile-name\n\nMinimum AWS IAM permissions\n~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nTo run the script properly, your ``aws`` user must have at least these\npermissions in ``iam``:\n\n.. code:: json\n\n    {\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n            {\n                \"Sid\": \"Stmt1458638250000\",\n                \"Effect\": \"Allow\",\n                \"Action\": [\n                    \"ec2:DeleteSnapshot\",\n                    \"ec2:DeregisterImage\",\n                    \"ec2:DescribeImages\",\n                    \"ec2:DescribeInstances\",\n                    \"ec2:DescribeSnapshots\"\n                ],\n                \"Resource\": [\n                    \"arn:aws:ec2:::*\"\n                ]\n            }\n        ]\n    }\n\nInstallation\n------------\n\namicleaner is available on pypi and can be installed on your system\n\nFrom pypi\n~~~~~~~~~\n\n.. code:: bash\n\n    [sudo] pip install aws-amicleaner\n\nFrom source\n~~~~~~~~~~~\n\nYou can also clone or download from github the source and install with pip\n\n.. code:: bash\n\n    cd aws-amicleaner/\n    pip install [--user] -e .\n\nUsage\n-----\n\n\nGetting help\n~~~~~~~~~~~~\n\n.. code:: bash\n\n    amicleaner --help\n\n\nFetch and clean\n~~~~~~~~~~~~~~~\n\nPrint report of groups and amis to be cleaned\n\n.. code:: bash\n\n    amicleaner --full-report\n\nKeep previous number of AMIs\n\n.. code:: bash\n\n    amicleaner --full-report --keep-previous 10\n\nRegroup by name or tags\n\n.. code:: bash\n\n    amicleaner --mapping-key tags --mapping-values role env\n\nSkip confirmation, can be useful for automation\n\n.. code:: bash\n\n    amicleaner -f --keep-previous 2\n\n\nActivate orphan snapshots checking\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n.. code:: bash\n\n    amicleaner --check-orphans\n\n\nDelete a list of AMIs\n~~~~~~~~~~~~~~~~~~~~~\n\n.. code:: bash\n\n    amicleaner --from-ids ami-abcdef01 ami-abcdef02\n\n\n.. |Circle CI| image:: https://circleci.com/gh/bonclay7/aws-amicleaner/tree/master.svg?style=svg\n   :target: https://circleci.com/gh/bonclay7/aws-amicleaner/tree/master\n.. |codecov.io| image:: https://codecov.io/github/bonclay7/aws-amicleaner/coverage.svg?branch=master\n   :target: https://codecov.io/github/bonclay7/aws-amicleaner?branch=master\n.. |pypi| image:: https://img.shields.io/pypi/v/aws-amicleaner.svg\n   :target: https://pypi.python.org/pypi/aws-amicleaner\n\n\n=======\nHistory\n=======\n\n0.1.0 (2016-08-22)\n------------------\n\n* First release on PyPI.\n\n0.1.1 (2016-08-22)\n------------------\n\n* Documentation update\n* rst files in pip package",
    "docs_url": null,
    "download_url": "UNKNOWN",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/bonclay7/aws-amicleaner/",
    "keywords": null,
    "license": "MIT",
    "maintainer": null,
    "maintainer_email": null,
    "name": "aws-amicleaner",
    "platform": "UNKNOWN",
    "project_url": "https://pypi.org/project/aws-amicleaner/",
    "release_url": "https://pypi.org/project/aws-amicleaner/0.1.2/",
    "requires_python": null,
    "summary": "Cleanup tool for AWS AMIs and snapshots",
    "version": "0.1.2"
  },
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "515cbc1a25c906389c360e934b12ed31",
          "sha256": "b7e5dd4f945f0fb0639d12737519e51eeb07ff2e457945e55cd8b02398d00937"
        },
        "downloads": 411,
        "filename": "aws-amicleaner-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "515cbc1a25c906389c360e934b12ed31",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 8569,
        "upload_time": "2016-08-22T11:25:54",
        "url": "https://files.pythonhosted.org/packages/a8/83/803b3b410df01333bbab8cf0fa18406a2df12606d9d0844a45e037577fff/aws-amicleaner-0.1.0.tar.gz"
      }
    ],
    "0.1.1": [],
    "0.1.2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "075b42ae055cd714ced2e58ab235c909",
          "sha256": "a3e218cebea79427a8fafce1bfc8b789aebdc97235b51daf6fe8b39b7d2d9c8e"
        },
        "downloads": 317,
        "filename": "aws-amicleaner-0.1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "075b42ae055cd714ced2e58ab235c909",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 14976,
        "upload_time": "2016-09-22T08:53:54",
        "url": "https://files.pythonhosted.org/packages/81/5b/6c71bf098dd50b40c13f9a30d626db5011f8cd185566a7a3c959931c4383/aws-amicleaner-0.1.2.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "075b42ae055cd714ced2e58ab235c909",
        "sha256": "a3e218cebea79427a8fafce1bfc8b789aebdc97235b51daf6fe8b39b7d2d9c8e"
      },
      "downloads": 317,
      "filename": "aws-amicleaner-0.1.2.tar.gz",
      "has_sig": false,
      "md5_digest": "075b42ae055cd714ced2e58ab235c909",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 14976,
      "upload_time": "2016-09-22T08:53:54",
      "url": "https://files.pythonhosted.org/packages/81/5b/6c71bf098dd50b40c13f9a30d626db5011f8cd185566a7a3c959931c4383/aws-amicleaner-0.1.2.tar.gz"
    }
  ]
}
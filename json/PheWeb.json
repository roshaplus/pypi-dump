{
  "info": {
    "author": "Peter VandeHaar",
    "author_email": "pjvh@umich.edu",
    "bugtrack_url": null,
    "classifiers": [
      "Intended Audience :: Science/Research",
      "License :: OSI Approved :: MIT License",
      "Operating System :: Unix",
      "Programming Language :: Python :: 3 :: Only",
      "Topic :: Internet :: WWW/HTTP :: WSGI :: Application",
      "Topic :: Scientific/Engineering :: Bio-Informatics",
      "Topic :: Scientific/Engineering :: Visualization"
    ],
    "description": "For a demo, see the `Michigan Genomics Initiative PheWeb <http://pheweb.sph.umich.edu>`__.\n\n\nHow to Build a PheWeb for your Data\n===================================\n\nIf any of these steps is incorrect, please email me at pjvh@umich.edu\nand I'll see what I can do to improve things.\n\n\nQuickstart\n----------\n\nIf everything goes well, you should be able to build a PheWeb with the\nfollowing commands:\n\n.. code:: bash\n\n   pip3 install pheweb\n   mkdir ~/my-new-pheweb && cd ~/my-new-pheweb\n   pheweb phenolist glob --simple-phenocode /data/my-analysis/*/*.epacts.gz\n   pheweb process-assoc-files\n   pheweb serve --port 5000\n   # open http://localhost:5000 in your web browser\n\nHere are more detailed instructions:\n\n\n1. Install PheWeb\n-----------------\n\n1) Run ``pip3 install pheweb``.\n\n   -  If that doesn't work, either:\n\n      - Install as root with ``sudo pip3 install pheweb``, or\n\n      - Install PheWeb through `miniconda3 <https://conda.io/miniconda.html>`__\n        by running::\n\n         if uname -a | grep -q Darwin; then curl https://repo.continuum.io/miniconda/Miniconda3-latest-MacOSX-x86_64.sh > install-miniconda.sh; fi\n         if uname -a | grep -q Linux; then curl https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh > install-miniconda.sh; fi\n         bash install-miniconda.sh\n\n        Then hit \"q\" when you're done with reading the terms\n        and hit enter at every ``>>>`` prompt.\n        They'll create ``~/miniconda3``\n        and modify ``$PATH`` in your ``~/.bash_profile``.\n\n        Next, close and re-open your terminal and then run::\n\n           python3 -m pip install pheweb\n\n2) Make a data directory. It should be in a location where you can\n   afford to store twice as much data as the size of your input files.\n   All ``pheweb ...`` commands should be run in this directory.\n\n3) If you want to configure any options, make a file ``config.py``\n   in your data directory. Some options you can set are:\n\n   -  ``minimum_maf``: any variant that has at least this minor allele\n      frequency in some phenotype will be shown. (default:\n      ``minimum_maf = 0``)\n   -  ``cache``: a directory where files common to all datasets can be\n      stored. If you don't want one, set ``cache = False``. (default:\n      ``cache = \"~/.pheweb/cache/\"``)\n\n4) Make sure you have tabix, bgzip, wget, and g++.  If you can't\n   just run ``tabix``, ``bgzip``, ``wget``, and ``g++`` from the\n   command line, find a way to install them or add them to your\n   ``$PATH``.\n\n   -  on macOS, run ``xcode-select --install`` to install XCode,\n      install `homebrew <http://brew.sh>`__, and run\n      ``brew install htslib wget``.\n   -  on Ubuntu, run ``apt-get install tabix g++``.  If you don't have\n      permissions, you can install `linuxbrew <http://linuxbrew.sh>`__\n      and run ``brew install htslib``.\n\n2. Prepare your association files\n---------------------------------\n\nYou should have one file for each phenotype. It can be gzipped if you\nwant. It should be tab-delimited and have a header row. Variants must be\nsorted by chromosome and position, with chromosomes in the order\n[1-22,X,Y,MT].\n\n-  If you are using EPACTS, your files should work just fine. If they\n   don't, email me. EPACTS files won't have ``REF`` or ``ALT``, but\n   PheWeb will parse their ``MARKER_ID`` column to get those.\n\nThe file must have columns for:\n\n-  \n\n   chromosome\n       -  named ``#CHROM`` or ``CHROM`` (all column names are not\n          case-sensitive)\n       -  must be a number between 1 and 22 or ``X`` or ``Y`` or ``M``\n          or ``MT``\n\n-  \n\n   position\n       -  named ``POS``, ``BEG``, or ``BEGIN``\n       -  must be an integer\n\n-  \n\n   reference allele\n       -  named ``REF``\n\n-  \n\n   alternate allele\n       -  named ``ALT``\n\n-  \n\n   minor allele frequency\n       -  named ``MAF``\n       -  must be a real number between 0 and 1 (numbers may be in\n          scientific notation, like ``5.4e-12``)\n\n-  \n\n   p-value\n       -  named ``PVAL`` or ``PVALUE``\n       -  must be decimal number between 0 and 1 or ``.`` or ``NA``\n          (both representing unknown)\n\nYou may also have columns for:\n\n-  \n\n   effect size\n       -  named ``BETA``\n       -  must be a real number\n\n-  \n\n   standard error of effect size\n       -  named ``SEBETA``\n       -  must be a real number\n\nIf you need Odds Ratio, I can add that.\n\n3. Make a list of your phenotypes\n---------------------------------\n\nInside of your data directory, you need a file named ``pheno-list.json``\nthat looks like this:\n\n.. code:: json\n\n    [\n     {\n      \"assoc_files\": [\"/home/watman/ear-length.epacts.gz\"],\n      \"phenocode\": \"ear-length\"\n     },\n     {\n      \"assoc_files\": [\"/home/watman/eats-kimchi.X.epacts.gz\",\"/home/watman/eats-kimchi.autosomal.epacts.gz\"],\n      \"phenocode\": \"eats-kimchi\"\n     }\n    ]\n\n``phenocode`` must only contain letters, numbers, or any of ``_-~``.\n\nThat example file only includes the columns ``assoc_files`` (a list of\npaths to association files) and ``phenocode`` (a string representing\nyour phenotype that is valid in a URL). If you want, you can also\ninclude:\n\n-  ``phenostring``: a string that is more descriptive than ``phenocode``\n   and will be shown in several places\n-  ``category``: a string that will group together phenotypes in the\n   PheWAS plot and also be shown in several places\n-  ``num_cases``, ``num_controls``, and/or ``num_samples``: numbers of\n   strings which will be shown in several places\n-  anything else you want, but you'll have to modify templates to show\n   it.\n\nThere are four ways to make a ``pheno-list.json``:\n\n1. If you have a csv (or tsv, optionally gzipped) with a header that has\n   EXACTLY the right column names, just import it by running\n   ``pheweb phenolist import-phenolist \"/path/to/my/pheno-list.csv\"``.\n\n   If you have multiple association files for each phenotype, you may\n   put them all into a single column with ``|`` between them.\n\n   For example, your file ``pheno-list.csv`` might look like this:\n\n   ::\n\n       phenocode,assoc_files\n       eats-kimchi,/home/watman/eats-kimchi.autosomal.epacts.gz|/home/watman/eats-kimchi.X.epacts.gz\n       ear-length,/home/watman/ear-length.all.epacts.gz\n\n2. If you have one association file per phenotype, you can use a\n   shell-glob and a regex to get assoc-files and phenocodes for them.\n\n   Suppose that your assocation files are at paths like:\n\n   -  ``/home/watman/eats-kimchi.epacts.gz``\n   -  ``/home/watman/ear-length.epacts.gz``\n\n   Then you could run\n   ``pheweb phenolist glob-files \"/home/watman/*.epacts.gz\"`` to get\n   ``assoc-files``.\n\n   To get ``phenocodes``, you can use a regex that captures the\n   phenocode from the file path. In most cases (including this one),\n   just use:\n\n   ::\n\n       pheweb phenolist extract-phenocode-from-fname --simple\n\n3. If you have multiple association files for some phenotypes, you can\n   follow the directions in 2 and then run\n   ``pheweb phenolist unique-phenocode``.\n\n   For example, if your association files are at:\n\n   -  ``/home/watman/autosomal/eats-kimchi.epacts.gz``\n   -  ``/home/watman/X/eats-kimchi.epacts.gz``\n   -  ``/home/watman/all/ear-length.epacts.gz``\n\n   then you can run:\n\n   ::\n\n       pheweb phenolist glob-files \"/home/watman/*/*.epacts.gz\"\n       pheweb phenolist extract-phenocode-from-fname --simple\n       pheweb phenolist unique-phenocode\n\n4. If you want to do more advanced things, like merging in more\n   information from another file, email pjvh@umich.edu and I'll write\n   documentation for ``pheweb phenolist``.\n\nNo matter what you do, please run ``pheweb phenolist verify`` when you\nare done to check that it worked correctly. At any point, you may run\n``pheweb phenolist view`` or ``pheweb phenolist print-as-csv`` to view\nthe current file.\n\n4. Load your association files\n------------------------------\n\n1) Run ``pheweb process-assoc-files``.\n2) If something breaks, read the error message.\n\n   -  If you can understand the error message, modify your input files\n      to avoid it.\n   -  If the problem is something that PheWeb should support by default,\n      feel free to email it to me at pjvh@umich.edu.\n   -  If you can't understand the error message, please email your error\n      message to pjvh@umich.edu and hopefully I can get back to you\n      quickly.\n\n   Then re-run ``pheweb process-assoc-files``.\n\n5. Run a simple server to check that everything loaded correctly\n----------------------------------------------------------------\n\nRun ``pheweb serve``.\n\n-  If port 5000 is already taken, choose a different port (for example,\n   5432) and run ``pheweb serve --port 5432`` instead.\n\nNext you need to find a way to for your computer to access the server.\nYou have two options:\n\nA. Run PheWeb exposed to anybody on the internet. This might be\n   dangerous, but I never worry much about it.\n\n   You need a port that can get through your firewall. 80 or 5000\n   probably work, though 80 will require you to run something like\n   ``sudo $(which python3) $(which pheweb) serve --port 80``.\n\n   Find an IP adddress or hostname that refers to your server. If you\n   ssh into your server with ``ssh watman@foobar.example.com``, this is\n   ``foobar.example.com``. If you don't know this, run\n   ``curl http://httpbin.org/ip`` on your server to get its IP address.\n   (If it returns something like ``\"origin\": \"12.34.5.678\"``, your\n   server's IP is ``12.34.5.678``).\n\n   Now run ``pheweb serve --port <myport> --host <myhost>``. For\n   example, if you're using the default port (5000), and\n   ``curl http://httpbin.org/ip`` returns ``\"origin\": \"12.34.5.678\"``,\n   then run ``pheweb serve --port 5000 --host 12.34.5.678``.\n\n   When the server starts, it should say something like\n   ``Running on http://12.34.5.678:5000/ (Press CTRL+C to quit)``. Open\n   that URL in the web browser on your computer.\n\nB. Run PheWeb with the default settings, then use an SSH tunnel to\n   connect to it from your computer.\n\n   For example, if you normally ssh in with\n   ``ssh watman@foobar.example.com``, then the command you should run\n   (from your local computer) is\n   ``ssh -N -L localhost:5000:localhost:5000 watman@foobar.example.com``.\n   Now open `http://localhost:5000 <http://localhost:5000>`__ in your\n   web browser.\n\n6. Use a real webserver.\n------------------------\n\nAt this point your PheWeb should be working how you want it to, and\neverything should be good except maybe the URL you're using.\n\nTo start, run Flask behind gunicorn.  To do that, run ``pheweb make-wsgi``,\nto produce a file ``wsgi.py``.  Then you can run\n``gunicorn -b 0.0.0.0:5000 -w4 wsgi``, to start a webserver.\n\nFor maximum speed and safety, you should run gunicorn behind\nsomething like Apache2 or Nginx. More information about this is\n`here <http://flask.pocoo.org/docs/0.12/deploying/wsgi-standalone/#gunicorn>`__.\nIf you choose Apache2, I have some documentation for you\n`here <https://github.com/statgen/pheweb/tree/master/unnecessary_things/other_documentation/running_with_apache2>`__.\n\n\n",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/statgen/pheweb",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "PheWeb",
    "platform": "",
    "project_url": "https://pypi.org/project/PheWeb/",
    "release_url": "https://pypi.org/project/PheWeb/0.9.17/",
    "requires_python": "",
    "summary": "A tool for building PheWAS websites from association files",
    "version": "0.9.17"
  },
  "releases": {
    "0.9.14": [
      {
        "comment_text": "",
        "digests": {
          "md5": "afe30ac11a428ceb0e988d7eb984246f",
          "sha256": "879da52ef8cd5fbc350450f4f7f7679f893bb53eac81e6faf14c9fbfbdf44d05"
        },
        "downloads": 12,
        "filename": "PheWeb-0.9.14-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "afe30ac11a428ceb0e988d7eb984246f",
        "packagetype": "bdist_wheel",
        "python_version": "3.6",
        "size": 368961,
        "upload_time": "2017-03-21T23:08:13",
        "url": "https://files.pythonhosted.org/packages/17/c0/9fcabc7257f05cd01dc3a7da0d39a7d1a097237db1a1f1b92a6ca08ad0c7/PheWeb-0.9.14-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "fc07c975c0b0d791397de3ea6d46f99c",
          "sha256": "cda9487f36aff1b9e4523cc1b2192df6dfd4b5dc72f7d65311129d1e7c2eee34"
        },
        "downloads": 12,
        "filename": "PheWeb-0.9.14.tar.gz",
        "has_sig": false,
        "md5_digest": "fc07c975c0b0d791397de3ea6d46f99c",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 205656,
        "upload_time": "2017-03-21T23:08:11",
        "url": "https://files.pythonhosted.org/packages/ff/35/618e2c93ce5f6834c2641a0aa1ab62ad8e6552829127d2606b0b8ef7de30/PheWeb-0.9.14.tar.gz"
      }
    ],
    "0.9.15": [
      {
        "comment_text": "",
        "digests": {
          "md5": "4e1ef6da413da271d3a0d9a40dceaf0a",
          "sha256": "6d0531f1c71c5b87f8d93715306be662236befd38df4c13ecd4d42842850e452"
        },
        "downloads": 13,
        "filename": "PheWeb-0.9.15-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "4e1ef6da413da271d3a0d9a40dceaf0a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 369429,
        "upload_time": "2017-03-23T09:35:04",
        "url": "https://files.pythonhosted.org/packages/7a/22/6d676e09f313b848da17fa52b0d8b056e53769b1e15da14c6f5019dba079/PheWeb-0.9.15-py3-none-any.whl"
      }
    ],
    "0.9.16": [
      {
        "comment_text": "",
        "digests": {
          "md5": "862467e70cfdf759f0eee8d41208dc6c",
          "sha256": "d15c2794c3d3886a27032ab3b30932196e027675fc6c557913ae42e1480b7c32"
        },
        "downloads": 24,
        "filename": "PheWeb-0.9.16-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "862467e70cfdf759f0eee8d41208dc6c",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 369978,
        "upload_time": "2017-04-03T22:57:16",
        "url": "https://files.pythonhosted.org/packages/26/40/65ba864e68368ac475ee2679d4527de6e8c47344724510a8285c5e40cc63/PheWeb-0.9.16-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "89596965cc6528f3c400ddc859c76f04",
          "sha256": "1c5fa8feab41e5d93d0fc0e8d2031e84cb8d537408c037d4f543bc694ce74c8e"
        },
        "downloads": 24,
        "filename": "PheWeb-0.9.16.tar.gz",
        "has_sig": false,
        "md5_digest": "89596965cc6528f3c400ddc859c76f04",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 206272,
        "upload_time": "2017-04-03T22:57:40",
        "url": "https://files.pythonhosted.org/packages/fd/14/b2620f67fbcf5043c28834b895cc7df36f3b9d08e9a6d8487a0030be8cca/PheWeb-0.9.16.tar.gz"
      }
    ],
    "0.9.17": [
      {
        "comment_text": "",
        "digests": {
          "md5": "27566b916039fd688d57efd82ef57da0",
          "sha256": "83651da7bd42814639515ff41e3eb24e784752a2dcba2c1ae278911d464bd5a6"
        },
        "downloads": 25,
        "filename": "PheWeb-0.9.17-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "27566b916039fd688d57efd82ef57da0",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 370034,
        "upload_time": "2017-04-03T23:25:57",
        "url": "https://files.pythonhosted.org/packages/98/bb/79bc7e93d39b1f18b78009e06a53c1288a00ea0e51c491e9471695538a9f/PheWeb-0.9.17-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "d4e5e7d42ae175c05a762c3e67c8bac2",
          "sha256": "1ceba0da84395f49d3a41f6149fbab65464ce54b91cdc5ea445d9eb5a20c46d6"
        },
        "downloads": 25,
        "filename": "PheWeb-0.9.17.tar.gz",
        "has_sig": false,
        "md5_digest": "d4e5e7d42ae175c05a762c3e67c8bac2",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 206328,
        "upload_time": "2017-04-03T23:25:59",
        "url": "https://files.pythonhosted.org/packages/71/76/ebb47a91375bbad6b6bfb41b462b8bd479f3fa6ab76adff34b8332ad646e/PheWeb-0.9.17.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "27566b916039fd688d57efd82ef57da0",
        "sha256": "83651da7bd42814639515ff41e3eb24e784752a2dcba2c1ae278911d464bd5a6"
      },
      "downloads": 25,
      "filename": "PheWeb-0.9.17-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "27566b916039fd688d57efd82ef57da0",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "size": 370034,
      "upload_time": "2017-04-03T23:25:57",
      "url": "https://files.pythonhosted.org/packages/98/bb/79bc7e93d39b1f18b78009e06a53c1288a00ea0e51c491e9471695538a9f/PheWeb-0.9.17-py3-none-any.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "d4e5e7d42ae175c05a762c3e67c8bac2",
        "sha256": "1ceba0da84395f49d3a41f6149fbab65464ce54b91cdc5ea445d9eb5a20c46d6"
      },
      "downloads": 25,
      "filename": "PheWeb-0.9.17.tar.gz",
      "has_sig": false,
      "md5_digest": "d4e5e7d42ae175c05a762c3e67c8bac2",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 206328,
      "upload_time": "2017-04-03T23:25:59",
      "url": "https://files.pythonhosted.org/packages/71/76/ebb47a91375bbad6b6bfb41b462b8bd479f3fa6ab76adff34b8332ad646e/PheWeb-0.9.17.tar.gz"
    }
  ]
}
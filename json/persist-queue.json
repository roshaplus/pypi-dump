{
  "info": {
    "author": "Peter Wang",
    "author_email": "wangxu198709@gmail.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: BSD License",
      "Operating System :: OS Independent",
      "Programming Language :: Python",
      "Programming Language :: Python :: 2",
      "Programming Language :: Python :: 2.7",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.4",
      "Programming Language :: Python :: 3.5",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: Implementation",
      "Topic :: Software Development :: Libraries"
    ],
    "description": "persist-queue - A thread-safe, disk-based queue for Python\n==========================================================\n\n.. image:: https://img.shields.io/circleci/project/github/peter-wangxu/persist-queue/master.svg?label=Linux%20%26%20Mac\n    :target: https://circleci.com/gh/peter-wangxu/persist-queue\n\n.. image:: https://img.shields.io/appveyor/ci/peter-wangxu/persist-queue/master.svg?label=Windows\n    :target: https://ci.appveyor.com/project/peter-wangxu/persist-queue\n\n.. image:: https://img.shields.io/codecov/c/github/peter-wangxu/persist-queue/master.svg\n    :target: https://codecov.io/gh/peter-wangxu/persist-queue\n\n.. image:: https://img.shields.io/pypi/v/persist-queue.svg\n    :target: https://pypi.python.org/pypi/persist-queue\n\nThis project is based on the achievements of `python-pqueue <https://github.com/balena/python-pqueue>`_\nand `queuelib <https://github.com/scrapy/queuelib>`_\n\nThe goals is to achieve following requirements:\n\n* Disk-based: each queued item should be stored in disk in case of any crash.\n* Thread-safe: can be used by multi-threaded producers and multi-threaded consumers.\n* Recoverable: Items can be read after process restart.\n* Green-compatible: can be used in ``greenlet`` or ``eventlet`` environment.\n\nWhile *queuelib* and *python-pqueue* cannot fulfil all of above. After some try, I found it's hard to achieve based on their current\nimplementation without huge code change. this is the motivation to start this project.\n\n*persist-queue* use *pickle* object serialization module to support object instances.\nTo support customized objects, please refer to `Pickling and unpickling extension types(Python2) <https://docs.python.org/2/library/pickle.html#pickling-and-unpickling-normal-class-instances>`_\nand `Pickling Class Instances(Python3) <https://docs.python.org/3/library/pickle.html#pickling-class-instances>`_\n\nRequirements\n------------\n* Python 2.7 or Python 3.x.\n* Full support for Linux.\n* Windows support (with `Caution`_ if ``persistqueue.Queue`` is used).\n\nInstallation\n------------\n\nfrom pypi\n^^^^^^^^^\n\n.. code-block:: console\n\n    pip install persist-queue\n\nfrom source code\n^^^^^^^^^^^^^^^^\n\n.. code-block:: console\n\n    git clone https://github.com/peter-wangxu/persist-queue\n    cd persist-queue\n    python setup.py install\n\n\nExamples\n--------\n\nExample usage with a file based queue\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n.. code-block:: python\n\n    >>> from persistqueue import Queue\n    >>> q = Queue(\"mypath\")\n    >>> q.put('a')\n    >>> q.put('b')\n    >>> q.put('c')\n    >>> q.get()\n    'a'\n    >>> q.task_done()\n\nClose the python console, and then we restart the queue from the same path,\n\n.. code-block:: python\n\n    >>> from persistqueue import Queue\n    >>> q = Queue('mypath')\n    >>> q.get()\n    'b'\n    >>> q.task_done()\n\nExample usage with a SQLite3 based queue\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n.. code-block:: python\n\n    >>> import persistqueue\n    >>> q = persistqueue.SQLiteQueue('mypath')\n    >>> q.put('str1')\n    >>> q.put('str2')\n    >>> q.put('str3')\n    >>> q.get()\n    'str1'\n    >>> del q\n\n\nAlso close the console, and then recreate the queue:\n\n.. code-block:: python\n\n   >>> import persistqueue\n   >>> q = persistqueue.SQLiteQueue('mypath')\n   >>> q.get()\n   'str2'\n   >>>\n\n\nExample usage with multi-thread\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n.. code-block:: python\n\n    from persistqueue import Queue\n\n    q = Queue()\n\n    def worker():\n        while True:\n            item = q.get()\n            do_work(item)\n            q.task_done()\n\n    for i in range(num_worker_threads):\n         t = Thread(target=worker)\n         t.daemon = True\n         t.start()\n\n    for item in source():\n        q.put(item)\n\n    q.join()       # block until all tasks are done\n\n\nExample usage for **SQLite3** based queue\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n.. code-block:: python\n\n    from persistqueue import FIFOSQLiteQueue\n\n    q = FIFOSQLiteQueue(path=\"./test\", multithreading=True)\n\n    def worker():\n        while True:\n            item = q.get()\n            do_work(item)\n\n    for i in range(num_worker_threads):\n         t = Thread(target=worker)\n         t.daemon = True\n         t.start()\n\n    for item in source():\n        q.put(item)\n\n\nTests\n-----\n\n*persist-queue* use ``tox`` to trigger tests.\n\nto trigger tests based on python2.7/python3.x, use:\n\n.. code-block:: console\n\n    tox -e py27\n\n.. code-block:: console\n\n    tox -e py34\n\n.. code-block:: console\n\n    tox -e py35\n\n.. code-block:: console\n\n    tox -e py36\n\nto trigger pep8 check, use:\n\n.. code-block:: console\n\n   tox -e pep8\n\n\n`pyenv <https://github.com/pyenv/pyenv>`_ is usually a helpful tool to manage multiple versions of Python.\n\nCaution\n-------\n\nCurrently, the atomic operation is not supported on Windows due to the limitation of Python's `os.rename <https://docs.python.org/2/library/os.html#os.rename>`_,\nThat's saying, the data in ``persistqueue.Queue`` could be in unreadable state when an incidential failure occurs during ``Queue.task_done``.\n\n**DO NOT PUT ANY CRITICAL DATA ON persistqueue.QUEUE WHEN RUNNING ON WINDOWS**.\n\nContribution\n------------\n\nSimply fork this repo and send PR for your code change(also tests to cover your change), remember to give a title and description of your PR. I am willing to\nenhance this project with you :).\n\n\nLicense\n-------\n\n`BSD <LICENSE>`_\n\n\nFAQ\n---\n\n* ``sqlite3.OperationalError: database is locked`` is raised.\n\npersistquest open 2 connections for the db if ``multithreading=True``, the\nSQLite database is locked until that transaction is committed. The ``timeout``\nparameter specifies how long the connection should wait for the lock to go away\nuntil raising an exception. Default time is **10**, increase ``timeout``\nwhen creating the queue if above error occurs.\n\n\n",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "http://github.com/peter-wangxu/persist-queue",
    "keywords": "",
    "license": "BSD License",
    "maintainer": "",
    "maintainer_email": "",
    "name": "persist-queue",
    "platform": "all",
    "project_url": "https://pypi.org/project/persist-queue/",
    "release_url": "https://pypi.org/project/persist-queue/0.2.2/",
    "requires_python": "",
    "summary": "A thread-safe disk based persistent queue in Python.",
    "version": "0.2.2"
  },
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "70cedb132577659929a50cb0ef21afc5",
          "sha256": "2b7731ab1da426ef338e33aabf48e5fc32018c09d25c307cc20b6e4fe9c73974"
        },
        "downloads": 310,
        "filename": "persist-queue-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "70cedb132577659929a50cb0ef21afc5",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 4237,
        "upload_time": "2016-11-25T11:35:00",
        "url": "https://files.pythonhosted.org/packages/53/37/5e9e0a2b4cb099faf625afac5e4711d2de29e1eb655e13ad4f3df637c1d7/persist-queue-0.1.0.tar.gz"
      }
    ],
    "0.1.1": [],
    "0.1.2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "db43078fca9c93cc8ea276f7baf30654",
          "sha256": "0299d9dfa4aa3021bac333ceb1d17405523a29420d0662549dbd8600787314cc"
        },
        "downloads": 286,
        "filename": "persist-queue-0.1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "db43078fca9c93cc8ea276f7baf30654",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5972,
        "upload_time": "2016-11-27T10:35:56",
        "url": "https://files.pythonhosted.org/packages/78/51/ed08189a39a4d2fa09fd3dadb3a61631816a79f455a391a9b5706ecf627e/persist-queue-0.1.2.tar.gz"
      }
    ],
    "0.1.3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "03be10a9483f8d4069b8971d0eadbdd2",
          "sha256": "fb764eb88f5b14472a4ecbbc641fab7ef7a644087f379bd8a791037c549283bc"
        },
        "downloads": 32,
        "filename": "persist-queue-0.1.3.tar.gz",
        "has_sig": false,
        "md5_digest": "03be10a9483f8d4069b8971d0eadbdd2",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5861,
        "upload_time": "2016-11-29T05:28:46",
        "url": "https://files.pythonhosted.org/packages/ca/27/1c0c7ed4ca69535796e1988d61599af8fe2f277162d0f5850d5d5b396951/persist-queue-0.1.3.tar.gz"
      }
    ],
    "0.1.4": [
      {
        "comment_text": "",
        "digests": {
          "md5": "cc27c181ad7ff39a1bf27302917f77cb",
          "sha256": "371df66e31a22d6ee661d98ba8fc90a65656cc170d228462fd69ab984bdc6994"
        },
        "downloads": 41,
        "filename": "persist-queue-0.1.4.tar.gz",
        "has_sig": false,
        "md5_digest": "cc27c181ad7ff39a1bf27302917f77cb",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 6342,
        "upload_time": "2016-11-30T10:37:24",
        "url": "https://files.pythonhosted.org/packages/2b/31/9198429593b02a7157a22aac0303ce1a47cd041e745c9056f2f4df2cef99/persist-queue-0.1.4.tar.gz"
      }
    ],
    "0.1.5": [
      {
        "comment_text": "",
        "digests": {
          "md5": "faa89b2873cf8ecae50eb78c13142ece",
          "sha256": "c1835e8d08cdd7f0667f0a5614ba72fd482382f0f70bc741a5ca385c375b62bf"
        },
        "downloads": 14,
        "filename": "persist-queue-0.1.5.tar.gz",
        "has_sig": false,
        "md5_digest": "faa89b2873cf8ecae50eb78c13142ece",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 10470,
        "upload_time": "2017-02-15T03:16:05",
        "url": "https://files.pythonhosted.org/packages/b5/63/a030b0f23917a89a492f0b7894f1190e00cac6150ff2f04495112da339c9/persist-queue-0.1.5.tar.gz"
      }
    ],
    "0.1.6": [
      {
        "comment_text": "",
        "digests": {
          "md5": "94b4bb3f01ec1f1e5a20e05ff97303fb",
          "sha256": "31d99a832df07322fc21fcd20546a10992ae910371a1708cf763e2418f63008e"
        },
        "downloads": 16,
        "filename": "persist-queue-0.1.6.tar.gz",
        "has_sig": false,
        "md5_digest": "94b4bb3f01ec1f1e5a20e05ff97303fb",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 7800,
        "upload_time": "2017-03-10T06:39:19",
        "url": "https://files.pythonhosted.org/packages/ef/2e/1c03ae7fab2b3f8b4c9b7864f49a22e3f703f26b0beb725e27630bc5427d/persist-queue-0.1.6.tar.gz"
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "ee4def68477d9735c784c3101546b98f",
          "sha256": "97f9b33397bb0b48380930f6319b0a7a48a893e19ebe92bf4bbfee83a922aa1d"
        },
        "downloads": 22,
        "filename": "persist_queue-0.2.0-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "ee4def68477d9735c784c3101546b98f",
        "packagetype": "bdist_wheel",
        "python_version": "py2.py3",
        "size": 13185,
        "upload_time": "2017-03-13T11:05:30",
        "url": "https://files.pythonhosted.org/packages/0a/37/9ed0348a1dc94bc4613c763dbdba84fa4e80366e8209f92d7cccfa55d739/persist_queue-0.2.0-py2.py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "d44bf0f139ba084c487dd181e7966e35",
          "sha256": "bfb31a978f7109420a14f6a79fff5e762e034a9ff550305e9458433e3928efd5"
        },
        "downloads": 22,
        "filename": "persist-queue-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "d44bf0f139ba084c487dd181e7966e35",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 9561,
        "upload_time": "2017-03-13T11:05:32",
        "url": "https://files.pythonhosted.org/packages/86/78/316fb22dd6b813fbdba34a1297ed991fbf097c73be0e38caf70be38505fe/persist-queue-0.2.0.tar.gz"
      }
    ],
    "0.2.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "0fe7200553a4c21785e662baf4cfa359",
          "sha256": "c560cbb3b455dbf4607154c05492733fc98b1d736652dd35b29e9a0392b1b8e5"
        },
        "downloads": 145,
        "filename": "persist_queue-0.2.1-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "0fe7200553a4c21785e662baf4cfa359",
        "packagetype": "bdist_wheel",
        "python_version": "py2.py3",
        "size": 13408,
        "upload_time": "2017-03-14T02:57:52",
        "url": "https://files.pythonhosted.org/packages/7c/2e/3c836980bf2c3a71f22fa77feae66cb95a08684c67e950dc456e0d129492/persist_queue-0.2.1-py2.py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "57d1f34a7338af4e724adc7196e20b4b",
          "sha256": "f8f4a61303e482ec0b8a7b5d2b081e4dce2e8dd14b8a46b536dafb69fbede5fe"
        },
        "downloads": 26,
        "filename": "persist-queue-0.2.1.tar.gz",
        "has_sig": false,
        "md5_digest": "57d1f34a7338af4e724adc7196e20b4b",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 9753,
        "upload_time": "2017-03-14T02:57:54",
        "url": "https://files.pythonhosted.org/packages/fd/3b/2b96ab0d5e0a47885b7097e36441b94a9f7f93f68a942bcd5ddcbb211a8d/persist-queue-0.2.1.tar.gz"
      }
    ],
    "0.2.2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "500c4acbc8d347e9c512ad0de952afb3",
          "sha256": "a63bf52dd4913f12ddcfb592e89251a7dba85b6f7f63ac6aa3947928bc3424f6"
        },
        "downloads": 0,
        "filename": "persist_queue-0.2.2-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "500c4acbc8d347e9c512ad0de952afb3",
        "packagetype": "bdist_wheel",
        "python_version": "py2.py3",
        "size": 15538,
        "upload_time": "2017-05-15T07:58:33",
        "url": "https://files.pythonhosted.org/packages/96/72/fbb6d0b4703bdd1594a4e10a4cdc5ea345e39af3688c74e30f172a032be9/persist_queue-0.2.2-py2.py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "e14aea023f31583352c78f01eb367e9e",
          "sha256": "b0cbf8a7347b342829673a8cde5d5f5bc01f433b49efb61559cc5a6d5751eb7a"
        },
        "downloads": 0,
        "filename": "persist-queue-0.2.2.tar.gz",
        "has_sig": false,
        "md5_digest": "e14aea023f31583352c78f01eb367e9e",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 11587,
        "upload_time": "2017-05-15T07:58:35",
        "url": "https://files.pythonhosted.org/packages/d5/64/6ac4cc4614f925e304f843d0cc9b7bcc68275f7ca7a5bbdcf18b99818c02/persist-queue-0.2.2.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "500c4acbc8d347e9c512ad0de952afb3",
        "sha256": "a63bf52dd4913f12ddcfb592e89251a7dba85b6f7f63ac6aa3947928bc3424f6"
      },
      "downloads": 0,
      "filename": "persist_queue-0.2.2-py2.py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "500c4acbc8d347e9c512ad0de952afb3",
      "packagetype": "bdist_wheel",
      "python_version": "py2.py3",
      "size": 15538,
      "upload_time": "2017-05-15T07:58:33",
      "url": "https://files.pythonhosted.org/packages/96/72/fbb6d0b4703bdd1594a4e10a4cdc5ea345e39af3688c74e30f172a032be9/persist_queue-0.2.2-py2.py3-none-any.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "e14aea023f31583352c78f01eb367e9e",
        "sha256": "b0cbf8a7347b342829673a8cde5d5f5bc01f433b49efb61559cc5a6d5751eb7a"
      },
      "downloads": 0,
      "filename": "persist-queue-0.2.2.tar.gz",
      "has_sig": false,
      "md5_digest": "e14aea023f31583352c78f01eb367e9e",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 11587,
      "upload_time": "2017-05-15T07:58:35",
      "url": "https://files.pythonhosted.org/packages/d5/64/6ac4cc4614f925e304f843d0cc9b7bcc68275f7ca7a5bbdcf18b99818c02/persist-queue-0.2.2.tar.gz"
    }
  ]
}
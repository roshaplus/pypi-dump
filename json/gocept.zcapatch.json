{
  "info": {
    "author": "Wolfgang Schnerring, Thomas Lotze <tl at gocept dot com>",
    "author_email": "tl@gocept.com",
    "bugtrack_url": "",
    "classifiers": [],
    "description": "===============\r\ngocept.zcapatch\r\n===============\r\n\r\nThis packages allows you to replace, add or delete `zope.component`_\r\nregistrations of utilities, adapters and event handlers, and to later on undo\r\nthe changes you made.\r\n\r\n.. _`zope.component`: http://pypi.python.org/pypi/zope.component\r\n\r\n.. contents:: :depth: 1\r\n\r\nUsage\r\n=====\r\n\r\nTo change something in a registry, instantiate ``gocept.zcapatch.Patches`` for\r\nthat registry (if no registry is given, the current one as returned by\r\n``zope.component.getSiteManager()`` is used). It offers the following methods:\r\n\r\n:patch_utility(new, provided=None, name=u'', registry=None):\r\n    Register the given ``new`` object as a utility, instead of what is\r\n    currently registered for this interface (and name).\r\n\r\n    If no ``provided`` interface is given, it is read from the object's\r\n    ``zope.interface.implements`` declaration.\r\n\r\n    If you want to delete a utility registration, pass ``new=None``.\r\n\r\n:patch_adapter(factory, required=None, provided=None, name=u'', registry=None):\r\n    Register the given ``factory`` as an adapter, instead of what is\r\n    currently registered for these required and provided interfaces (and name).\r\n\r\n    Any of the ``required`` or ``provided`` interfaces not given will be read\r\n    from the object's ``zope.component.adapts`` and\r\n    ``zope.interface.implements`` declarations.\r\n\r\n    If you want to delete an adapter registration, pass\r\n    ``factory=lambda *args: None``.\r\n\r\n:patch_handler(handler, required, registry=None):\r\n    Register the given ``handler`` instead of what is\r\n    currently registered for the required interfaces.\r\n\r\n    If no ``required`` interfaces are given, they are read from the object's\r\n    ``zope.component.adapts`` declaration.\r\n\r\n    If you want to delete a handler registration, use **remove_handler**.\r\n\r\n:remove_handler(handler, required=None, registry=None):\r\n    Delete the specified registration of ``handler``.\r\n    (Since handlers are set-valued, you cannot delete one without explicitly\r\n    specifying which one you mean.)\r\n\r\n    If no ``required`` interfaces are given, they are read from the object's\r\n    ``zope.component.adapts`` declaration.\r\n\r\n:reset:\r\n    Undo all changes made via this ``Patches`` instance:\r\n    Unregister all utilities, adapters and handlers added, and restore\r\n    any previously present registrations that were replaced or removed.\r\n\r\n\r\nHere's a typical usage example::\r\n\r\n    import gocept.zcapatch\r\n    import unittest\r\n\r\n\r\n    class TestCase(unittest.TestCase):\r\n\r\n        def setUp(self):\r\n            self.zca = gocept.zcapatch.Patches()\r\n\r\n        def tearDown(self):\r\n            self.zca.reset()\r\n\r\n        def test_something(self):\r\n            self.zca.patch_utility(...)\r\n\r\n\r\nAlternatives\r\n============\r\n\r\n`plone.testing`_ provides the ability to create a stack of registries, where\r\neach delegates to the previous one (``plone.testing.zca.pushGlobalRegistry`` /\r\n``popGlobalRegistry``) -- so you could, for example, push a new registry for\r\neach test, manipulate that at will, and throw it away afterwards. While this\r\napproach is much more elegant than the one provided by ``gocept.zcapatch``\r\nfor common use cases, do note the following limitations:\r\n\r\n* ``plone.testing`` only ever deals with\r\n  ``zope.component.getGlobalSiteManager()``, so you can't stack other\r\n  registries (e.g. LocalSiteManagers as implemented by `zope.site`_).\r\n* ``plone.testing`` does not allow you to (temporarily) delete registrations\r\n  from the registry.\r\n\r\n.. _`plone.testing`: http://pypi.python.org/pypi/plone.testing\r\n.. _`zope.site`: http://pypi.python.org/pypi/zope.site\r\n\r\n\r\nDevelopment\r\n===========\r\n\r\nThe mercurial repository of the source code as well as the issue tracker are\r\navailable at <https://bitbucket.org/gocept/gocept.zcapatch>.\r\n\r\n\r\nChangelog\r\n=========\r\n\r\n1.0 (2011-12-01)\r\n----------------\r\n\r\n- first release.",
    "docs_url": null,
    "download_url": "UNKNOWN",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://bitbucket.org/gocept/gocept.zcapatch",
    "keywords": "",
    "license": "ZPL",
    "maintainer": "",
    "maintainer_email": "",
    "name": "gocept.zcapatch",
    "platform": "UNKNOWN",
    "project_url": "https://pypi.org/project/gocept.zcapatch/",
    "release_url": "https://pypi.org/project/gocept.zcapatch/1.0/",
    "requires_python": null,
    "summary": "Test helpers to temporarily alter zope.component registrations",
    "version": "1.0"
  },
  "releases": {
    "1.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "44e2b4759004d9cb933c86be2a762865",
          "sha256": "d73ef590f1be3506d54f324ee98d8e3a03d6c71272936e8a1692342d48a86e73"
        },
        "downloads": 3770,
        "filename": "gocept.zcapatch-1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "44e2b4759004d9cb933c86be2a762865",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5678,
        "upload_time": "2011-12-01T08:12:33",
        "url": "https://files.pythonhosted.org/packages/ec/73/cf88aad1d97e323450630fab500be204d7a4ba8748b5e76e0d0923a21988/gocept.zcapatch-1.0.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "44e2b4759004d9cb933c86be2a762865",
        "sha256": "d73ef590f1be3506d54f324ee98d8e3a03d6c71272936e8a1692342d48a86e73"
      },
      "downloads": 3770,
      "filename": "gocept.zcapatch-1.0.tar.gz",
      "has_sig": false,
      "md5_digest": "44e2b4759004d9cb933c86be2a762865",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 5678,
      "upload_time": "2011-12-01T08:12:33",
      "url": "https://files.pythonhosted.org/packages/ec/73/cf88aad1d97e323450630fab500be204d7a4ba8748b5e76e0d0923a21988/gocept.zcapatch-1.0.tar.gz"
    }
  ]
}
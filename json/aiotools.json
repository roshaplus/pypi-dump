{
  "info": {
    "author": "Joongi Kim",
    "author_email": "me@daybreaker.info",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "Framework :: AsyncIO",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Programming Language :: Python",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.6",
      "Topic :: Software Development"
    ],
    "description": "aiotools\n========\n\n`|PyPI version| <https://badge.fury.io/py/aiotools>`_ `|Python\nVersions| <https://pypi.org/project/aiotools/>`_ `|Build\nStatus| <https://travis-ci.org/achimnol/aiotools>`_ `|Code\nCoverage| <https://codecov.io/gh/achimnol/aiotools>`_\n\nIdiomatic asyncio utilties\n\nAsync Context Manager\n---------------------\n\nThis is an asynchronous version of\n```contextlib.contextmanager`` <https://docs.python.org/3/library/contextlib.html#contextlib.contextmanager>`_\nto make it easier to write asynchronous context managers without\ncreating boilerplate classes.\n\n::\n\n    import asyncio\n    import aiotools\n\n    @aiotools.actxmgr\n    async def mygen(a):\n        await asyncio.sleep(1)\n        yield a + 1\n        await asyncio.sleep(1)\n\n    async def somewhere():\n        async with mygen(1) as b:\n            assert b == 2\n\nNote that you need to wrap ``yield`` with a try-finally block to ensure\nresource releases (e.g., locks), even in the case when an exception is\nocurred inside the async-with block.\n\n::\n\n    import asyncio\n    import aiotools\n\n    lock = asyncio.Lock()\n\n    @aiotools.actxmgr\n    async def mygen(a):\n        await lock.acquire()\n        try:\n            yield a + 1\n        finally:\n            lock.release()\n\n    async def somewhere():\n        try:\n            async with mygen(1) as b:\n                raise RuntimeError('oops')\n        except RuntimeError:\n            print('caught!')  # you can catch exceptions here.\n\nYou can also create a group of async context managers, which are\nentered/exited all at once using ``asyncio.gather``.\n\n::\n\n    import asyncio\n    import aiotools\n\n    @aiotools.actxmgr\n    async def mygen(a):\n        yield a + 10\n\n    async def somewhere():\n        ctxgrp = aiotools.actxgroup(mygen(i) for i in range(10))\n        async with ctxgrp as values:\n            assert len(values) == 10\n            for i in range(10):\n                assert values[i] == i + 10\n\nAsync Server\n------------\n\nThis implements a common pattern to launch asyncio-based server daemons.\n\n::\n\n    import asyncio\n    import aiotools\n\n    async def echo(reader, writer):\n        data = await reader.read(100)\n        writer.write(data)\n        await writer.drain()\n        writer.close()\n\n    @aiotools.actxmgr\n    async def myserver(loop, pidx, args):\n        server = await asyncio.start_server(echo, '0.0.0.0', 8888,\n            reuse_port=True, loop=loop)\n        print(f'[{pidx}] started')\n        yield  # wait until terminated\n        server.close()\n        await server.wait_closed()\n        print(f'[{pidx}] terminated')\n\n    if __name__ == '__main__':\n        # Run the above server using 4 worker processes.\n        aiotools.start_server(myserver, num_proc=4)\n\nIt handles SIGINT/SIGTERM signals automatically to stop the server, as\nwell as lifecycle management of event loops running on multiple\nprocesses.\n\nAsync Timer\n-----------\n\n::\n\n    import aiotools\n\n    i = 0\n\n    async def mytick(interval):\n        print(i)\n        i += 1\n\n    async def somewhere():\n        t = aiotools.create_timer(mytick, 1.0)\n        ...\n        t.cancel()\n        await t\n\n``t`` is an\n```asyncio.Task`` <https://docs.python.org/3/library/asyncio-task.html#asyncio.Task>`_\nobject. To stop the timer, call ``t.cancel(); await t``. Please don't\nforget ``await``-ing ``t`` because it requires extra steps to cancel and\nawait all pending tasks. To make your timer function to be cancellable,\nadd a try-except clause catching ``asyncio.CancelledError`` since we use\nit as a termination signal.\n\nYou may add ``TimerDelayPolicy`` argument to control the behavior when\nthe timer-fired task takes longer than the timer interval. ``DEFAULT``\nis to accumulate them and cancel all the remainings at once when the\ntimer is cancelled. ``CANCEL`` is to cancel any pending previously fired\ntasks on every interval.\n\n::\n\n    import asyncio\n    import aiotools\n\n    async def mytick(interval):\n        await asyncio.sleep(100)  # cancelled on every next interval.\n\n    async def somewhere():\n        t = aiotools.create_timer(mytick, 1.0, aiotools.TimerDelayPolicy.CANCEL)\n        ...\n        t.cancel()\n        await t\n\n.. |PyPI version| image:: https://badge.fury.io/py/aiotools.svg\n.. |Python\nVersions| image:: https://img.shields.io/pypi/pyversions/aiotools.svg\n.. |Build\nStatus| image:: https://travis-ci.org/achimnol/aiotools.svg?branch=master\n.. |Code\nCoverage| image:: https://codecov.io/gh/achimnol/aiotools/branch/master/graph/badge.svg\n\n\n",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/achimnol/aiotools",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "aiotools",
    "platform": "any",
    "project_url": "https://pypi.org/project/aiotools/",
    "release_url": "https://pypi.org/project/aiotools/0.3.1/",
    "requires_dist": [
      "pytest-cov; extra == 'test'",
      "pytest-asyncio; extra == 'test'",
      "pytest (>=3.1); extra == 'test'",
      "flake8; extra == 'test'",
      "codecov; extra == 'test'",
      "pytest-sugar; extra == 'dev'",
      "wheel; extra == 'build'",
      "twine; extra == 'build'",
      "pypandoc; extra == 'build'"
    ],
    "requires_python": ">=3.6",
    "summary": "Idiomatic asyncio utilities",
    "version": "0.3.1"
  },
  "releases": {
    "0.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "f4a89ce01d1339a4865719b1b006d34d",
          "sha256": "332572246cf4c64978a74778285177c2310df62f17812b0c90ef76426394a6b7"
        },
        "downloads": 0,
        "filename": "aiotools-0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "f4a89ce01d1339a4865719b1b006d34d",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 3819,
        "upload_time": "2017-04-14T05:17:27",
        "url": "https://files.pythonhosted.org/packages/33/2e/5b70fd8438f10db3e53ea161aaad46adb23b2c3bfc579bc24cd6d75b4e49/aiotools-0.1-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "29ffd96b56c3736709065cd37a1d40de",
          "sha256": "5202e68e888eccb80a934b3f327603281b3727effbe1eb5d116e8db8479ff303"
        },
        "downloads": 0,
        "filename": "aiotools-0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "29ffd96b56c3736709065cd37a1d40de",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 2319,
        "upload_time": "2017-04-14T05:17:29",
        "url": "https://files.pythonhosted.org/packages/c4/f6/d893e94ca755b80f3c01d06b2e090e8c28d659719d728c737db6b597ad7c/aiotools-0.1.tar.gz"
      }
    ],
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "73890e2af02d701e70f9fa9ec2225667",
          "sha256": "cf768ff8fb088cca228b0230a9c52f0db3e47b8af4e72addd955ff79a229e0b4"
        },
        "downloads": 0,
        "filename": "aiotools-0.1.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "73890e2af02d701e70f9fa9ec2225667",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 5327,
        "upload_time": "2017-04-14T05:18:56",
        "url": "https://files.pythonhosted.org/packages/7c/35/bc185e6b6564f9dfebed18723d9fa17cfae01f523b772710ff07f5089fc8/aiotools-0.1.1-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "404549990d7810c53553eb49068b40a1",
          "sha256": "b956930acbb1fd0237455473a8d8a6f0e961d2b515c2ea12ff9617ebdade259a"
        },
        "downloads": 0,
        "filename": "aiotools-0.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "404549990d7810c53553eb49068b40a1",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 3031,
        "upload_time": "2017-04-14T05:18:57",
        "url": "https://files.pythonhosted.org/packages/3c/44/58b3e5ee2837e47cd2c8f3d0ed18f23d8d6ffd35ed0ecb30303d8d7dc769/aiotools-0.1.1.tar.gz"
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "31f0a8008dc4f935d0cd9768b814a2f5",
          "sha256": "02de9931e4c0878f4b20ca8397abc902d738e84fe22b0a7a41dd2178f069fa94"
        },
        "downloads": 0,
        "filename": "aiotools-0.2.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "31f0a8008dc4f935d0cd9768b814a2f5",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 6880,
        "upload_time": "2017-04-20T15:44:12",
        "url": "https://files.pythonhosted.org/packages/f3/a2/33128b70a5020cfccfd66a89f43fd94dd830ebfd2ff32526168f1ca58f43/aiotools-0.2.0-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "4c377369b3a2410c5525f6342793466e",
          "sha256": "c9d15506d2fe8db63028c199a7aad1525a5292ae80703831059888038c65f553"
        },
        "downloads": 0,
        "filename": "aiotools-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "4c377369b3a2410c5525f6342793466e",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 4018,
        "upload_time": "2017-04-20T15:44:13",
        "url": "https://files.pythonhosted.org/packages/9f/1f/cae8fb40482585ba734e0af648f74fe01b88c3922d7d97a1f361a8dfcd47/aiotools-0.2.0.tar.gz"
      }
    ],
    "0.3.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "a3ad81903c0c3094d8d0c11279ec6c3a",
          "sha256": "d8e749d734f866d4868ce36684a88e6623dde4b2183b21caf0750a000a90cdff"
        },
        "downloads": 0,
        "filename": "aiotools-0.3.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "a3ad81903c0c3094d8d0c11279ec6c3a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 9539,
        "upload_time": "2017-04-26T09:12:05",
        "url": "https://files.pythonhosted.org/packages/42/78/250ce99c83228a35e8b174844661a63cf5edca732cccdbe16a76776fd4d2/aiotools-0.3.0-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "e850c3e1feb637f8cf54174fc1021326",
          "sha256": "0407a84a65160f2eee538a294366e918341a3ba79485074fd7f0be20a750f71f"
        },
        "downloads": 0,
        "filename": "aiotools-0.3.0.tar.gz",
        "has_sig": false,
        "md5_digest": "e850c3e1feb637f8cf54174fc1021326",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5914,
        "upload_time": "2017-04-26T09:12:07",
        "url": "https://files.pythonhosted.org/packages/c3/86/4bb16dc19ca0eb9c9b8bebeb11e6ba1edab5ab4721a26f270a1c719deb93/aiotools-0.3.0.tar.gz"
      }
    ],
    "0.3.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "5dba0784a7cf54f5bd879816d42d1aa3",
          "sha256": "3cb0832d30bd26d4c7726fa649170ca21a42d68eade94c71478c9d1cbc082533"
        },
        "downloads": 0,
        "filename": "aiotools-0.3.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "5dba0784a7cf54f5bd879816d42d1aa3",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 9646,
        "upload_time": "2017-07-26T08:53:16",
        "url": "https://files.pythonhosted.org/packages/ff/5e/5976bd49dd19d61c81593cca72288aa2140eb809c528948ce528650aff88/aiotools-0.3.1-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "8e01c2f4373b183aac5a57e6a7201342",
          "sha256": "434efcbc82c3643e492680b2c762fdebf272390f489d42e3f5ae4d58675cd58c"
        },
        "downloads": 0,
        "filename": "aiotools-0.3.1.tar.gz",
        "has_sig": false,
        "md5_digest": "8e01c2f4373b183aac5a57e6a7201342",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 6140,
        "upload_time": "2017-07-26T08:53:17",
        "url": "https://files.pythonhosted.org/packages/35/5b/c522848e9adf4be14c4b16660c4b4c36fd970d7c2abb2cab21550d155b82/aiotools-0.3.1.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "5dba0784a7cf54f5bd879816d42d1aa3",
        "sha256": "3cb0832d30bd26d4c7726fa649170ca21a42d68eade94c71478c9d1cbc082533"
      },
      "downloads": 0,
      "filename": "aiotools-0.3.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "5dba0784a7cf54f5bd879816d42d1aa3",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "size": 9646,
      "upload_time": "2017-07-26T08:53:16",
      "url": "https://files.pythonhosted.org/packages/ff/5e/5976bd49dd19d61c81593cca72288aa2140eb809c528948ce528650aff88/aiotools-0.3.1-py3-none-any.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "8e01c2f4373b183aac5a57e6a7201342",
        "sha256": "434efcbc82c3643e492680b2c762fdebf272390f489d42e3f5ae4d58675cd58c"
      },
      "downloads": 0,
      "filename": "aiotools-0.3.1.tar.gz",
      "has_sig": false,
      "md5_digest": "8e01c2f4373b183aac5a57e6a7201342",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 6140,
      "upload_time": "2017-07-26T08:53:17",
      "url": "https://files.pythonhosted.org/packages/35/5b/c522848e9adf4be14c4b16660c4b4c36fd970d7c2abb2cab21550d155b82/aiotools-0.3.1.tar.gz"
    }
  ]
}
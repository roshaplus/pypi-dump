{
  "info": {
    "author": "b0z",
    "author_email": "bastien@faure.io",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Intended Audience :: Information Technology",
      "License :: OSI Approved :: MIT License",
      "Operating System :: POSIX :: Linux",
      "Programming Language :: Python",
      "Programming Language :: Python :: 2.7",
      "Programming Language :: Python :: 2 :: Only",
      "Topic :: Software Development :: Libraries"
    ],
    "description": ".. These are the Travis-CI and Coveralls badges for your repository. Replace\n   your *github_repository* and uncomment these lines by removing the leading\n   two dots.\n\n.. .. image:: https://travis-ci.org/*github_repository*.svg?branch=master\n    :target: https://travis-ci.org/*github_repository*\n\n.. .. image:: https://coveralls.io/repos/github/*github_repository*/badge.svg?branch=master\n    :target: https://coveralls.io/github/*github_repository*?branch=master\n\n\n======\nJarvis\n======\n\nJarvis is a very simple pentest companion that provides the following features:\n\n* penetration tests results directory management\n* unified structure for all assessments\n* hooks for useful commands and automated output saving\n* unified command history file\n* easy way to take screenshots\n* creation of an easily reachable symlink that always point to your current pentest\n\nIt is fully written in Python and is designed to be easily extended.\n\n**This project is currently under development and many bugs may appear, do not hesitate to open issues or submit pull requests**\n\nCommand hooking\n===============\n\nAs a pentester, I often faced with difficulties related to output recording. Sometimes, a very looonnnng ``nmap`` scan launched without output options and cancelled may be very painful due to the lack of exploitable files. I'm not even talking about closed terminals containing juicy outputs that may lack in a security assessment report.\n\nFor these reasons, I decided to implement a command hooking feature that would automatically add output options to command lines and record outputs if such options would not exist.\n\nBasically, each command exposed by Jarvis is a specific method called on a Python class. This method retrieves the supplied command line, adds arguments and patches the command lines, and finally runs the built command in a patched environnement.\n\n\nInstallation\n============\n\nSee `install`_\n\n.. _install: INSTALL.rst\n\n\nUsage\n=====\n\nInitial configuration\n---------------------\n\nFor using Jarvis, you will have to fill a ``/etc/jarvis.conf`` file::\n\n\t[jarvis]\n\tpentests_history = /home/user/.pentests_history\n\tuser_directory = user\n\toutput_directory = records\n\timg_directory = img\n\tpentest_tree = [\n\t\t\"%(user_directory)s\",\n\t\t\"%(user_directory)s/img\",\n\t\t\"%(user_directory)s/scripts\",\n\t\t\"%(user_directory)s/records\"\n\t\t]\n\tnotesfiles = notes.txt\n\tinterface = eth0\n\teditor = vim\n\nHere is a quick description of available options (all of them are mandatory):\n\n* ``pentests_history`` : path to the file that will contain all the paths to performed pentests\n* ``user_directory`` : since a pentest is supposed to be performed by several persons, this is the name of your directory within the pentest's one\n* ``output_directory`` : the directory within your user's directory that will contain all records produced by available hooks\n* ``img_directory`` : the directory within your user's directory that will contain screenshots\n* ``pentest_tree`` : this is a very important configuration, it describes the structure of your pentest directory that will be created after a ``pentest init``. For the moment, I'm too lazy for creating directories according to previously described options so the directory tree must be fully described in this setting. This advanced feature should come soon. Note that some commands will obviously fail if you do not create ``user_directory`` or ``output_directory``\n* ``notesfiles`` : the file that will be used for taking notes\n* ``interface`` : the network interface through which test are going to be performed\n* ``editor`` : your preferred editor (``vim``, ``emacs``, whatever)\n\nPentest directory management\n----------------------------\n\nIf you want to start a new pentest, run the following commands::\n\n\t$ pentest start /path/to/pentest\n\t$ pentest init\n\nThe first command will append an entry inside the pentests history file. The second will create your pentest directory structure.\n\nAfter init, the pentest directory is created::\n\n\t$ tree /path/to/pentest\n\t/path/to/pentest\n\t\u2514\u2500\u2500 user\n\t    \u251c\u2500\u2500 img\n\t    \u251c\u2500\u2500 records\n\t    \u2514\u2500\u2500 scripts\n\nNote that pentests are *stacked* in the ``pentests_history`` file::\n\n\t$ cat .pentests_history \n\t/tmp/pentest-1\n\t/tmp/pentest-2\n\t/tmp/pentest-3\n\nStopping a pentest with ``pentest stop`` will simply *pop* the last entry from the history file.\n\nYou can then define useful aliases. The most explicit example is *jumping* to the current pentest with a bash alias::\n\n\talias gopentest=\"cd $(tail -n 1 /path/to/.pentests_history)\"\n\n\nCommand hooking\n---------------\n\nJarvis is shipped with many commands hooks that can be listed::\n\n\t$ pentest hooks\n\tairodump\n\tarpscan\n\tcrackmapexec\n\tcurl\n\tdnsmap\n\tdnsrecon\n\thping3\n\thttp\n\thydra\n\tnikto\n\tnmap\n\tpatator\n\tsmbclient\n\tsmbmap\n\tsslyze\n\twfuzz\n\nPlease note that Jarvis **does not** ships packages providings hookable scripts or binaries. Jarvis also expects that each hooked command should runnable as-is. Basically, *wfuzz* should be callable without Jarvis installed.\n\n\tCurrently, Jarvis throws an exception with the underlying command does not exist on the installed system\n\nLet's try running an ``nmap`` scan, which is one of the currently available hooks::\n\n\t$ nmap 127.0.0.1\n\n\tStarting Nmap 7.12 ( https://nmap.org ) at 2017-04-25 21:59 CEST\n\tNmap scan report for localhost.localdomain (127.0.0.1)\n\t[...]\n\nNow, the ``commands.log`` file is populated::\n\n\t$ cat commands.log \n\t[192.168.1.51] 2017-04-25 22:04:31,507 :: 'nmap' '-oA' '/tmp/assessment/marauder/records/nmap-127.0.0.1-2017-04-25-220431' '127.0.0.1'\n\nYou can see that output options have been added, and output files created automatically::\n\n\t$ ls records/\n\tnmap-127.0.0.1-2017-04-25-220347.gnmap  nmap-127.0.0.1-2017-04-25-220347.xml\n\tnmap-127.0.0.1-2017-04-25-220347.nmap\n\nOutput files naming follows a basic format. Note that naming is really efficient when **targets** are placed at **regular** positions. For example, ``nmap`` will process the target independantly from its position within the command line. This is achieved through a huge parsing effort on the command line that I don't want to reimplement in Python and for each hook. Thus, it is recommend to put the target **at the end of the command line** when tools are agnostic about its position.\n\nFinally, it should be highlighted that some command line arguments automatically disable the hooking mechanism. Especially, when help is invoked (``-h`` or ``--help``), or when output options are passed (basically ``-oJ``, ``-oA`` or whatever in ``nmap``), hooking is not performed.\n\nDisable hooking at runtime\n--------------------------\n\nSometimes, many **many** commands are typed and recording is not especially needed. Jarvis allows users to circumvent the hooking mechanism by using the ``--nojarvis`` option. This option will be consumed by Jarvis witout consequences on subsequent commands.\n\nScreenshots\n-----------\n\nTaking screenshot is also made easy with ``pentest screenshot``. This command will run the Imagemagick ``import`` command with manual selection options. Once the screenshot is taken, you are prompted for a screenshot name (I used ``zenity`` for this purpose):\n\n.. image:: doc/screenshot.png\n\nI recommend associating this command to a keybinding :-)\n\nYou can then list your screenshots::\n\n\t$ pentest img\n\tscreen-1.png\n\tscreen-2.png\n\t\nAnd edit any screenshot with ``pinta``, which is one of the most convenient *quickwin* editor from my point of view::\n\n\t$ pentest edit screen-1.png\n\nAdding a new hook\n=================\n\nTODO\n\nExtending Jarvis\n================\n\nJarvis is mainly a python module that can be used for various purposes based on pentest needings. The `sharify`_ script was developed for saving files efficiently when crawling CIFS share. Usually you do::\n\n\t$ smbclient -U \"domain\\user%password\" //host/share\n\tcd directory\n\tget file\n\n``file`` is then stored in the same directory from which you ran ``smbclient``. ``sharify`` consumes the Jarvis setup to drop downloaded files in the ``files`` directory within your current pentest directory::\n\n\t$ sharify -u USERNAME -p PASSWORD -d DOMAIN //host/share\n\tcd directory\n\tget file\n\t\n\t$ tree /path/to/pentest/<user>/files\n\t/path/to/pentest/<user>/files\n\t\u2514\u2500\u2500 host\n\t    \u251c\u2500\u2500 share1\n\t    \u2502\u00a0\u00a0 \u251c\u2500\u2500 file-1\n\t    \u2502\u00a0\u00a0 \u2514\u2500\u2500 file-2\n\t    \u2514\u2500\u2500 share2\n\t\t\u251c\u2500\u2500 file-1\n\t\t\u2514\u2500\u2500 file-2\t\n\n.. _sharify: https://github.com/BastienFaure/jarvis/blob/master/tools/sharify",
    "docs_url": null,
    "download_url": "UNKNOWN",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/BastienFaure/jarvis",
    "keywords": null,
    "license": "MIT",
    "maintainer": null,
    "maintainer_email": null,
    "name": "jarvis-pentest",
    "platform": "any",
    "project_url": "https://pypi.org/project/jarvis-pentest/",
    "release_url": "https://pypi.org/project/jarvis-pentest/0.0.5/",
    "requires_python": null,
    "summary": "The pentest companion",
    "version": "0.0.5"
  },
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "b46e770db312a0b91c1ca51babf78e1d",
          "sha256": "90410eeb3ef19b77b15a9249e8bd718935c9ab2eac2856fcb8347c390f60ef4d"
        },
        "downloads": 12,
        "filename": "jarvis-pentest-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "b46e770db312a0b91c1ca51babf78e1d",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 10297,
        "upload_time": "2017-03-24T00:14:47",
        "url": "https://files.pythonhosted.org/packages/c9/b6/4cc324e9b42bb7f73d05768519e0b2de5c85873ce3a8696d827ba672a208/jarvis-pentest-0.0.1.tar.gz"
      }
    ],
    "0.0.2": [],
    "0.0.3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "9aafd80b7f0a0fdf7f117846c7edd689",
          "sha256": "c377ad3f9798ef8d6f0e2ccf4a86ddcd284f5c80da9a787131b87ef711742583"
        },
        "downloads": 11,
        "filename": "jarvis-pentest-0.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "9aafd80b7f0a0fdf7f117846c7edd689",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 11269,
        "upload_time": "2017-03-24T09:02:30",
        "url": "https://files.pythonhosted.org/packages/9f/53/9b4f4c77adbf8d65d1c5873a39a5d90eb9b3e97f4e4d1d22a4cf61a42e8c/jarvis-pentest-0.0.3.tar.gz"
      }
    ],
    "0.0.4": [
      {
        "comment_text": "",
        "digests": {
          "md5": "f7e024ea7c562bbcd10bc2d77a3bce7e",
          "sha256": "4f362a64f788695f097385d928c632583f375ea7c393d027596cedc39d053492"
        },
        "downloads": 0,
        "filename": "jarvis-pentest-0.0.4.tar.gz",
        "has_sig": false,
        "md5_digest": "f7e024ea7c562bbcd10bc2d77a3bce7e",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 14780,
        "upload_time": "2017-04-26T09:16:51",
        "url": "https://files.pythonhosted.org/packages/30/39/77c72e78693143cabbccf1bfa5423a73d35cee3998a815de537277821dad/jarvis-pentest-0.0.4.tar.gz"
      }
    ],
    "0.0.5": [
      {
        "comment_text": "",
        "digests": {
          "md5": "e8bbd29dad8421ed3c051dcb5bbb2eac",
          "sha256": "e90957c13ce7477c9d10b0f7b877474e535ebf0990289e895610e377bc1bbdbb"
        },
        "downloads": 0,
        "filename": "jarvis-pentest-0.0.5.tar.gz",
        "has_sig": false,
        "md5_digest": "e8bbd29dad8421ed3c051dcb5bbb2eac",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 14785,
        "upload_time": "2017-04-26T16:01:46",
        "url": "https://files.pythonhosted.org/packages/b8/5f/faaa7c62972b2fb7ed139bdb391b37363847cf21f77dddd0f50c7f7d3cdd/jarvis-pentest-0.0.5.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "e8bbd29dad8421ed3c051dcb5bbb2eac",
        "sha256": "e90957c13ce7477c9d10b0f7b877474e535ebf0990289e895610e377bc1bbdbb"
      },
      "downloads": 0,
      "filename": "jarvis-pentest-0.0.5.tar.gz",
      "has_sig": false,
      "md5_digest": "e8bbd29dad8421ed3c051dcb5bbb2eac",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 14785,
      "upload_time": "2017-04-26T16:01:46",
      "url": "https://files.pythonhosted.org/packages/b8/5f/faaa7c62972b2fb7ed139bdb391b37363847cf21f77dddd0f50c7f7d3cdd/jarvis-pentest-0.0.5.tar.gz"
    }
  ]
}
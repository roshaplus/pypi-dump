{
  "info": {
    "author": "Vojtech Stefka",
    "author_email": "oss+djangopage@showmax.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "Environment :: Web Environment",
      "Framework :: Django",
      "Framework :: Django :: 1.8",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: Apache Software License",
      "Operating System :: MacOS :: MacOS X",
      "Programming Language :: Python :: 2.7",
      "Topic :: Software Development :: Libraries :: Application Frameworks",
      "Topic :: Software Development :: Libraries :: Python Modules"
    ],
    "description": "## Django Admin Page Lock\n\nPage Lock for Django Admin allows developers to implement customizable locking pages.\nWith Admin Page Locking, only the designated (typically first) user receives full rights.\nSubsequent users get only rights assigned by the administrator. You can store page log data in\nyour application\u2019s defined database.\n\n#### Use Case:\n1. User-1 lands on page. User1 has full rights (editing).\n2. Users-N can land and view page, but cannot use full rights (no editing).\n3. User-1 leaves.\n4. Whoever next enters, or refreshes, becomes User-1.\n\n### Features\n* two models are available that define storing/loading data from storage (`redis` or `database`);\n* developer can disable whole locking functionality;\n* page url being lock can be composed with or without url parameters;\n* possible to keep history of locks (time, username, ...);\n* very customizable.\n\n### Requirements\n* Django 1.8;\n* Python 2.7.\n\n### Instalation\n* run `pip install django-admin-page-lock`;\n* add `admin_page_lock` to `setings.py`;\n* run `./manage.py migrate` or `./manage.py syncdb`.\n\n### Configuration\n* update template by adding:\n    ```\n    <div id=\"page_lock_bar\">\n        <div id=\"page_lock_message_display\"></div>\n        <div id=\"page_lock_counter_display\"></div>\n        <button type=\"button\" id=\"page_lock_refresh_button\">{% trans \"REFRESH\" %}</button>\n        <button type=\"button\" id=\"page_lock_reload_button\">{% trans \"RELOAD\" %}</button>\n        <input type=\"hidden\" id=\"page_lock_template_data\" value=\"{{ page_lock_template_data }}\">\n        <input type=\"hidden\" id=\"page_lock_api_interval\" value=\"{{ page_lock_api_interval }}\">\n    </div>\n    ```\n  Note:\n  * to hide locking buttons for pages where locking logic is not needed, update template by adding js block:\n  ```\n  <script type=\"text/javascript\">\n    $(document).ready(function() {\n        var api_interval = parseInt($('#page_lock_api_interval').val());\n        if (!api_interval) {\n            $('.page_lock_bar').hide();\n        }\n    });\n  </script>\n  ```;\n* mark `html` items by `class=page_lock_block` to hide/show them;\n* update `css` file in order to enhance included `html` code;\n* views where you want to apply locking logic must be inherited from either `PageLockAdminMixin` or `PageLockViewMixin` for `django admin views` or `django views`, respectively;\n* re-define parameters in your settings if you don't want to use default ones:\n\n| Name                   | Type       | Description                                        |\n| ---------------------- | ---------- | -------------------------------------------------- |\n| API_INTERVAL           | integer    | interval between API calls from `js`               |\n| CAN_OPEN_MORE_TABS     | boolean    | whether use can open one page in more tabs         |\n| DISABLE_CRSF_TOKEN     | boolean    | whether app uses `CSRF` protection                 |\n| DISABLE                | boolean    | switching off/on locking logic                     |\n| HANDLER_CLASS          | string     | in case you want to define your handler            |\n| HOMEPAGE               | string     | page to redirect user if something goes wrong      |\n| KEEP_DB_LOCKS          | boolean    | keep locking history (only for DB model)           |\n| MESSAGES               | dictionary | for customizing messages (not implemented yet)     |\n| TIMEOUT                | integer    | interval user stays on the page without refreshing |\n| MODEL                  | string     | where data are stored (`redis` or `database`)      |\n| REDIS_SETTINGS         | dictionary | settings of app `redis`                            |\n| URL_IGNORE_PARAMETERS  | boolean    | whether url parameters are taken into account      |\n\n### APIs\n\n#### 1. ClosePageConnection\nThere are several `APIs` listed bellow. There are implemented in the way that they can be used by both frontend (`js`)\nand backend (`python`). The logic is implemented in `handlers.py` and depends on chosen model as well.\n\nOn the first glance, you can think that `GetPageInfo` and `OpenPageConnection` are same `APIs` but\nthe functionality of first one doesn't change anything but second one.\n\n| Method    |Name                | Type      | Description                                       |\n|---------- |------------------- | --------- | ------------------------------------------------- |\n| POST      | url                | string    | url of the page                                   |\n| POST      | user_reference     | string    | reference of user (`id` or `current section` )    |\n| POST      | csrf_token         | string    | generated `csfr` protection token                 |\n| GET       | is_locked          | boolean   | whether the page is locked                        |\n\n#### 2. GetPageInfo\n\n| Method    |Name                | Type      | Description                                       |\n|---------- |------------------- | --------- | ------------------------------------------------- |\n| POST      | url                | string    | url of the page                                   |\n| POST      | user_reference     | string    | reference of user (`id` or `current section` )    |\n| POST      | csrf_token         | string    | generated `csfr` protection token                 |\n| GET       | is_locked          | boolean   | whether the page is locked                        |\n| GET       | locked_by          | string    | user_reference of user locking current page       |\n| GET       | page_lock_settings | dictionary| various parameters of settings                    |\n| GET       | reconnected        | boolean   | whether user is reconnected (not implemented yet) |\n\n#### 3. OpenPageConnection\n\n| Method    |Name                | Type      | Description                                       |\n|---------- |------------------- | --------- | ------------------------------------------------- |\n| POST      | url                | string    | url of the page                                   |\n| POST      | user_reference     | string    | reference of user (`id` or `current section` )    |\n| POST      | csrf_token         | string    | generated `csfr` protection token                 |\n| GET       | is_locked          | boolean   | whether the page is locked                        |\n| GET       | locked_by          | string    | user_reference of user locking current page       |\n| GET       | page_lock_settings | dictionary| various parameters of settings                    |\n| GET       | reconnected        | boolean   | whether user is reconnected (not implemented yet) |\n\n\n### TODO\nThere are still several functionalities missing. I would appreciate any contribution.\n* writing unit tests;\n* finish using `CAN_OPEN_MORE_TABS` settings parameter;\n* migrating logic related to reopening from `OpenPageConnection` to new API `ReopenPageConnection`;\n\n### To be implemented soon:\n1. User lands on page. Page is locked for only this user.\n2. Other user attempts to open page.\n3. Other users get redirected to landing page (homepage, create new, and so on).\n\n### Users\n* ShowMax uses this package as part of Content Management System.\n",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/ShowMax/django-admin-page-lock",
    "keywords": "django",
    "license": "Apache License, Version 2.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "django-admin-page-lock",
    "platform": "any",
    "project_url": "https://pypi.org/project/django-admin-page-lock/",
    "release_url": "https://pypi.org/project/django-admin-page-lock/1.2.3/",
    "requires_dist": [],
    "requires_python": "",
    "summary": "Page Lock application prevents users being able to edit same page defined by its unique URL at the same time. The application is tailored to django admin implementation.",
    "version": "1.2.3"
  },
  "releases": {
    "1.2.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "4df28773eba6bd670aff4d464900c740",
          "sha256": "01105bc076fa84da86491c9e33e988e04274bc3611c9e35d9e6197ca2e3bec63"
        },
        "downloads": -1,
        "filename": "django-admin-page-lock-1.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "4df28773eba6bd670aff4d464900c740",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 26466,
        "upload_time": "2017-10-30T15:39:34",
        "url": "https://files.pythonhosted.org/packages/54/f6/c813bcbd96a6740a73f255f7695fb2efe0ecba211d395938a7a8d8c1b8cc/django-admin-page-lock-1.2.0.tar.gz"
      }
    ],
    "1.2.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "3a260ae046ada309230ec4feaa3a15e2",
          "sha256": "11ef4575ffd95c62b6e769d6695ca5651b433b66d42eae3b4e73543d8f8ee0e9"
        },
        "downloads": -1,
        "filename": "django-admin-page-lock-1.2.1.tar.gz",
        "has_sig": false,
        "md5_digest": "3a260ae046ada309230ec4feaa3a15e2",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 28101,
        "upload_time": "2017-12-03T15:40:57",
        "url": "https://files.pythonhosted.org/packages/b2/c7/2898d4a1162c75d938ff1e0f45df05d37d9e5b95958eade5aa09f3c0cecf/django-admin-page-lock-1.2.1.tar.gz"
      }
    ],
    "1.2.2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "cc853bb2b1f1e529e442e6a124880057",
          "sha256": "5003a525b71ce95a8afc441a1272e556c587c0c6197acf743d04b156da8d28ab"
        },
        "downloads": -1,
        "filename": "django-admin-page-lock-1.2.2.tar.gz",
        "has_sig": false,
        "md5_digest": "cc853bb2b1f1e529e442e6a124880057",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 17222,
        "upload_time": "2017-12-19T19:07:57",
        "url": "https://files.pythonhosted.org/packages/63/4d/309c179c90c294e5bb8e319db5e75400d77dad362adcfb7cf324c93021eb/django-admin-page-lock-1.2.2.tar.gz"
      }
    ],
    "1.2.3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "01cc8a58476e20ee8dc09ea586a22572",
          "sha256": "0e73d655626cf66f40fab25501602126ae4078f203016efdc56f357334c1bb35"
        },
        "downloads": -1,
        "filename": "django-admin-page-lock-1.2.3.tar.gz",
        "has_sig": false,
        "md5_digest": "01cc8a58476e20ee8dc09ea586a22572",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 28796,
        "upload_time": "2018-01-23T16:46:04",
        "url": "https://files.pythonhosted.org/packages/86/ed/3cec4b59fa38f161df5ef0ac33d501efc912dafbb1d440d2cc489dfff0b0/django-admin-page-lock-1.2.3.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "01cc8a58476e20ee8dc09ea586a22572",
        "sha256": "0e73d655626cf66f40fab25501602126ae4078f203016efdc56f357334c1bb35"
      },
      "downloads": -1,
      "filename": "django-admin-page-lock-1.2.3.tar.gz",
      "has_sig": false,
      "md5_digest": "01cc8a58476e20ee8dc09ea586a22572",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 28796,
      "upload_time": "2018-01-23T16:46:04",
      "url": "https://files.pythonhosted.org/packages/86/ed/3cec4b59fa38f161df5ef0ac33d501efc912dafbb1d440d2cc489dfff0b0/django-admin-page-lock-1.2.3.tar.gz"
    }
  ]
}
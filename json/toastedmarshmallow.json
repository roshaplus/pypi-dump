{
  "info": {
    "author": "Roy Williams",
    "author_email": "rwilliams@lyft.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: Apache Software License",
      "Programming Language :: Python :: 2",
      "Programming Language :: Python :: 2.7",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.4",
      "Programming Language :: Python :: 3.5",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: Implementation :: CPython",
      "Programming Language :: Python :: Implementation :: PyPy"
    ],
    "description": "*************************************************************\n:fire:toastedmarshmallow:fire:: Makes Marshmallow Toasty Fast\n*************************************************************\n\nToasted Marshmallow implements a JIT for marshmallow that speeds up dumping\nobjects 10-25X (depending on your schema).  Toasted Marshmallow allows you to\nhave the great API that\n`Marshmallow <https://github.com/marshmallow-code/marshmallow>`_ provides\nwithout having to sacrifice performance!\n\n::\n\n    Benchmark Result:\n      Original Time: 2682.61 usec/dump\n      Optimized Time: 176.38 usec/dump\n      Optimized (Cython) Time: 125.77 usec/dump\n      Speed up: 15.21x\n      Cython Speed up: 21.33x\n\nEven ``PyPy`` benefits from ``toastedmarshmallow``!\n\n::\n\n    Benchmark Result:\n    \tOriginal Time: 189.78 usec/dump\n    \tOptimized Time: 20.03 usec/dump\n    \tSpeed up: 9.48x\n\nInstalling toastedmarshmallow\n-----------------------------\n\n.. code-block:: bash\n\n  pip install toastedmarshmallow\n\nThis will *also* install a slightly-forked ``marshmallow`` that includes some\nhooks Toastedmarshmallow needs enable the JIT to run before falling back\nto the original marshmallow code.  These changes are minimal making it easier\nto track upstream.  You can find the changes\n`Here <https://github.com/marshmallow-code/marshmallow/pull/629/files>`_.\n\nThis means you should **remove** ``marshmallow`` from your requirements and\nreplace it with ``toastedmarshmallow``.  By default there is no\ndifference unless you explicitly enable Toasted Marshmallow.\n\nEnabling Toasted Marshmallow\n----------------------------\n\nEnabling Toasted Marshmallow on an existing Schema is just one line of code,\nset the ``jit`` property on any ``Schema`` instance to \n``toastedmarshmallow.Jit``.  For example:\n\n.. code-block:: python\n\n    from datetime import date\n    import toastedmarshmallow\n    from marshmallow import Schema, fields, pprint\n\n    class ArtistSchema(Schema):\n        name = fields.Str()\n\n    class AlbumSchema(Schema):\n        title = fields.Str()\n        release_date = fields.Date()\n        artist = fields.Nested(ArtistSchema())\n\n    schema = AlbumSchema()\n    # Specify the jit method as toastedmarshmallow's jit\n    schema.jit = toastedmarshmallow.Jit\n    # And that's it!  Your dump methods are 15x faster!\n\nIt's also possible to use the ``Meta`` class on the ``Marshmallow`` schema\nto specify all instances of a given ``Schema`` should be optimized:\n\n.. code-block:: python\n\n    import toastedmarshmallow\n    from marshmallow import Schema, fields, pprint\n\n    class ArtistSchema(Schema):\n        class Meta:\n            jit = toastedMarshmallow.Jit\n        name = fields.Str()\n\nYou can also enable Toasted Marshmallow globally by setting the environment\nvariable ``MARSHMALLOW_SCHEMA_DEFAULT_JIT`` to ``toastedmarshmallow.Jit`` .\nFuture versions of Toasted Marshmallow may make this the default.\n\nHow it works\n------------\n\nToasted Marshmallow works by generating code at runtime to optimize dumping\nobjects without going through layers and layers of reflection.  The generated\ncode optimistically assumes the objects being passed in are schematically valid,\nfalling back to the original marshmallow code on failure.\n\nFor example, taking ``AlbumSchema`` from above, Toastedmarshmallow will\ngenerate the following 3 methods:\n\n.. code-block:: python\n\n    def InstanceSerializer(obj):\n        res = {}\n        value = obj.release_date; value = value() if callable(value) else value; res[\"release_date\"] = _field_release_date__serialize(value, \"release_date\", obj)\n        value = obj.artist; value = value() if callable(value) else value; res[\"artist\"] = _field_artist__serialize(value, \"artist\", obj)\n        value = obj.title; value = value() if callable(value) else value; value = str(value) if value is not None else None; res[\"title\"] = value\n        return res\n\n    def DictSerializer(obj):\n        res = {}\n        if \"release_date\" in obj:\n            value = obj[\"release_date\"]; value = value() if callable(value) else value; res[\"release_date\"] = _field_release_date__serialize(value, \"release_date\", obj)\n        if \"artist\" in obj:\n            value = obj[\"artist\"]; value = value() if callable(value) else value; res[\"artist\"] = _field_artist__serialize(value, \"artist\", obj)\n        if \"title\" in obj:\n            value = obj[\"title\"]; value = value() if callable(value) else value; value = str(value) if value is not None else None; res[\"title\"] = value\n        return res\n\n    def HybridSerializer(obj):\n        res = {}\n        try:\n            value = obj[\"release_date\"]\n        except (KeyError, AttributeError, IndexError, TypeError):\n            value = obj.release_date\n        value = value; value = value() if callable(value) else value; res[\"release_date\"] = _field_release_date__serialize(value, \"release_date\", obj)\n        try:\n            value = obj[\"artist\"]\n        except (KeyError, AttributeError, IndexError, TypeError):\n            value = obj.artist\n        value = value; value = value() if callable(value) else value; res[\"artist\"] = _field_artist__serialize(value, \"artist\", obj)\n        try:\n            value = obj[\"title\"]\n        except (KeyError, AttributeError, IndexError, TypeError):\n            value = obj.title\n        value = value; value = value() if callable(value) else value; value = str(value) if value is not None else None; res[\"title\"] = value\n        return res\n\nToastedmarshmallow will invoke the proper serializer based upon the input.\n\nSince Toastedmarshmallow is generating code at runtime, it's critical you\nre-use Schema objects.  If you're creating a new Schema object every time you\nserialize/deserialize an object you'll likely have much worse performance.\n\n:zap::microscope: Experimental :microscope::zap:\n--------------------------------------------------\n\nToastedmarshmallow also has an experimental Cython based jit.  It takes the\ngenerated code above and runs it through Cython first, getting another 1.5x\nwin.  Generally the generated Python code is fast enough, but this is a useful\noption when you've got to squeeze out every last bit of performance.\n\nTo use the Cython jit, replace `Jit` with `CythonJit`:\n\n.. code-block:: python\n\n    schema.jit = toastedmarshmallow.CythonJit\n\n\n",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/lyft/toastedmarshmallow",
    "keywords": "serialization,rest,json,api,marshal,marshalling,deserialization,validation,schema",
    "license": "apache2",
    "maintainer": "",
    "maintainer_email": "",
    "name": "toastedmarshmallow",
    "platform": "",
    "project_url": "https://pypi.org/project/toastedmarshmallow/",
    "release_url": "https://pypi.org/project/toastedmarshmallow/0.2.0/",
    "requires_dist": [
      "simplejson; extra == 'reco'",
      "python-dateutil; extra == 'reco'",
      "attrs (>=17.1.0)"
    ],
    "requires_python": "",
    "summary": "A JIT implementation for Marshmallow to speed up dumping and loading objects.",
    "version": "0.2.0"
  },
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "5e4b6e1424d7190e7a3f0dd892efc21b",
          "sha256": "18ef2d75b7bb13f1cec7d3777ee780b7f5242fcba539f6ce30582ab234b17da1"
        },
        "downloads": -1,
        "filename": "toastedmarshmallow-0.1.0-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "5e4b6e1424d7190e7a3f0dd892efc21b",
        "packagetype": "bdist_wheel",
        "python_version": "py2.py3",
        "size": 52435,
        "upload_time": "2017-08-08T00:34:58",
        "url": "https://files.pythonhosted.org/packages/ba/71/7867f7ba48a7271ae31c1cf4a3405ce9f5211048c0d506e35a4fc79d2a91/toastedmarshmallow-0.1.0-py2.py3-none-any.whl"
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "85312407587db39c50e886b13fa41a5b",
          "sha256": "5f0f24792198eaf52619aaba27a06ff44d17ee41a054bc92d860e464eab52bf7"
        },
        "downloads": -1,
        "filename": "toastedmarshmallow-0.2.0-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "85312407587db39c50e886b13fa41a5b",
        "packagetype": "bdist_wheel",
        "python_version": "py2.py3",
        "size": 65129,
        "upload_time": "2017-10-11T23:44:10",
        "url": "https://files.pythonhosted.org/packages/0b/f2/0bd41df7a818111e300392e26844572300acf5b155bd9801f29b8dad04c9/toastedmarshmallow-0.2.0-py2.py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "228a8ec5d54ad76c23ceaab4cbe269a3",
          "sha256": "c844c57c89498114e6888543bf483018cafd183675193176b75eace63d505a6b"
        },
        "downloads": -1,
        "filename": "toastedmarshmallow-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "228a8ec5d54ad76c23ceaab4cbe269a3",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 59718,
        "upload_time": "2017-10-11T23:44:13",
        "url": "https://files.pythonhosted.org/packages/94/22/863fd4584dead948b4dc45f86b2727efdf01dbbdfdda0a2cd3c4f0601598/toastedmarshmallow-0.2.0.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "85312407587db39c50e886b13fa41a5b",
        "sha256": "5f0f24792198eaf52619aaba27a06ff44d17ee41a054bc92d860e464eab52bf7"
      },
      "downloads": -1,
      "filename": "toastedmarshmallow-0.2.0-py2.py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "85312407587db39c50e886b13fa41a5b",
      "packagetype": "bdist_wheel",
      "python_version": "py2.py3",
      "size": 65129,
      "upload_time": "2017-10-11T23:44:10",
      "url": "https://files.pythonhosted.org/packages/0b/f2/0bd41df7a818111e300392e26844572300acf5b155bd9801f29b8dad04c9/toastedmarshmallow-0.2.0-py2.py3-none-any.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "228a8ec5d54ad76c23ceaab4cbe269a3",
        "sha256": "c844c57c89498114e6888543bf483018cafd183675193176b75eace63d505a6b"
      },
      "downloads": -1,
      "filename": "toastedmarshmallow-0.2.0.tar.gz",
      "has_sig": false,
      "md5_digest": "228a8ec5d54ad76c23ceaab4cbe269a3",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 59718,
      "upload_time": "2017-10-11T23:44:13",
      "url": "https://files.pythonhosted.org/packages/94/22/863fd4584dead948b4dc45f86b2727efdf01dbbdfdda0a2cd3c4f0601598/toastedmarshmallow-0.2.0.tar.gz"
    }
  ]
}
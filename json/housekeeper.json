{
  "info": {
    "author": "Robin Andeer",
    "author_email": "robin.andeer@scilifelab.se",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "Environment :: Console",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Programming Language :: Python :: 2",
      "Programming Language :: Python :: 2.7",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.3",
      "Programming Language :: Python :: 3.4",
      "Topic :: Software Development"
    ],
    "description": "# Housekeeper [![Build Status][travis-image]][travis-url] [![Coverage Status][coveralls-image]][coveralls-url]\n\nHousekeeper is a tool for keeping track of **successful** analysis runs. It will manage various output files and metadata. It also provides archival functions. As far as possible, it's pipeline agnostic.\n\n## Concerns\n\n1.  store analysis output files _per_ run\n2.  offer stable API to files and listing completed analyses\n3.  keep track of status of analysis runs and files (active, archived, cleaned up)\n\nIt's outside the scope of the tool to store results and provide detailed access to them. Housekeeper will only provide easy access to reading in the data by other tools.\n\n## Usage guide\n\n### 1. Setup\n\nThe first thing to do is set up a root folder and database.\n\n```bash\n$ housekeeper --database sqlite:///path/to/store.sqlite3 init /path/to/analyses\n```\n\nIf successful it will store the location of the root analyses folder in the database so no need for a separate config file - just keep pointing to the database.\n\n### 2. Adding new analysis runs\n\nHousekeeper can store files from completed analyses. Supported pipelines include:\n\n-   MIP\n\n```bash\n$ housekeeper add /path/to/familyId_config.yaml\n```\n\nThis command will do some pre-processing and collect assets to be linked. In the case of MIP it will pre-calculate the mapping rate since it isn't available in the main QC metrics file.\n\nHousekeeper will create an analysis id in the format of `[customerId]-[familyId]`.\n\n### 3. Deleting an existing analysis run\n\nYou can of course delete an analysis run you've stored in the database. It will remove the reference to the run along with all the links to the assets. It will keep a reference to the case, however.\n\n```bash\n$ housekeeper delete customer-family\nAre you sure? [Y/n]\n```\n\n### 4. Getting files\n\nThis is where the fun starts! Since we have control over all the assets and how they relate to analyses and samples we can hand back information to you.\n\nSay you wanted to know the path to the raw BCF file for a given analysis. Let's ask Housekeeper!\n\n```bash\n$ housekeeper get --\\case customer-family --category bcf-raw\n/path/to/root/analyses/customer-family/all.variants.bcf\n```\n\nNote that it will print to console without new line so you can just as well do:\n\n```bash\n$ ls -l $(housekeeper get --\\case customer-family --category bcf-raw)\n-rw-r--r--  2 robinandeer  staff    72K Jul 27 14:33 /path/to/root/analyses/customer-family/all.variants.bcf\n```\n\n> If multiple files match the query it will simply print them on one line separated by a single space.\n\n### 5. Archiving analysis runs\n\nWhen you add a new analysis you tell Housekeeper which files are eventually to be archived by assigning a \"archive type\": data or result. The archive process will take these files and bundle and compress them into two separate `tar.gz` archives that are places under the case directory (see below).\n\nThe database is also updated with checksums for the archives and paths to where archives are stored.\n\n```bash\n$ housekeeper archive customer-family\nAre you sure? [Y/n]\n```\n\n### 6. Restoring an archive\n\n```bash\n$ housekeeper restore data /path/to/2016-04-12.data.tar.gz\n```\n\nWhen the archives were created, they were grouped with a special `meta.yaml` file which contains information about the run. This information will help out in putting the files back in place and updating the status in the database.\n\n### 7. Cleaning up an analysis run\n\n```bash\n$ housekeeper clean customer-family\nAre you sure? [Y/n]\n```\n\nThis command will remove the whole run directory with all files similar to \"delete\". However, this command will keep the reference to the run in the database. The only thing which is lost are the references to files that weren't marked with an \"archive_type\".\n\nThis means that you can restore files from these runs using the command above.\n\nHousekeeper will be careful about which runs it cleans up and check that they have been archived and delivered. To override this, supply the `--force` flag.\n\n### 8. Postponing the date for clean up\n\nHousekeeper provides a way to store a date (default 90 days after addition) for each run after which you could automate clean up of the files. If you want to manually extend the time before this happens you can run:\n\n```bash\n$ housekeeper postpone customer-family\n```\n\n## API structure and architecture\n\nThis section will describe the implementation.\n\n### Store\n\nSQL(ite) database containing references to the analyses and in which state they belong. It should have a straight-forward API to query which analyses have been completed and e.g. which are archived.\n\n### CLI\n\nLikely the main entry point for accessing the API. However, it should to do the least possible. Abstract away anything that isn't directly concerning parsing command line arguments etc. Uses the Click-framework.\n\n## File structure\n\nThis section describes how analysis output will be stored on the file system level. It's important that this is an implementation detail that won't be exposed to third-party tools.\n\nThe goal is to create as structure that is as flat as possible while still maintaining the original file names as far as possible.\n\n```\nroot/\n\u251c\u2500\u2500 housekeeper.yaml\n\u251c\u2500\u2500 store.sqlite3\n\u2514\u2500\u2500 analyses/\n    \u2514\u2500\u2500 analysis_1/\n        \u2514\u2500\u2500 2016-04-12\n            \u251c\u2500\u2500 alignment.sample_1.bam\n            \u251c\u2500\u2500 variants.vcf\n            \u2514\u2500\u2500 traceback.log\n```\n\n\n[travis-url]: https://travis-ci.org/Clinical-Genomics/housekeeper\n[travis-image]: https://img.shields.io/travis/Clinical-Genomics/housekeeper.svg?style=flat-square\n\n[coveralls-url]: https://coveralls.io/r/Clinical-Genomics/housekeeper\n[coveralls-image]: https://img.shields.io/coveralls/Clinical-Genomics/housekeeper.svg?style=flat-square",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/Clinical-Genomics/housekeeper",
    "keywords": "housekeeper development",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "housekeeper",
    "platform": "",
    "project_url": "https://pypi.org/project/housekeeper/",
    "release_url": "https://pypi.org/project/housekeeper/1.2.0/",
    "requires_dist": [],
    "requires_python": "",
    "summary": "Housekeeper takes care of files.",
    "version": "1.2.0"
  },
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "efeaee1e7d60487a871972ae845a1b9e",
          "sha256": "c79cc3ca5e689914f4b0abdb702f5bb312072fdc85db4d8ac0818321798e537a"
        },
        "downloads": 358,
        "filename": "housekeeper-0.0.1-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "efeaee1e7d60487a871972ae845a1b9e",
        "packagetype": "bdist_wheel",
        "python_version": "2.7",
        "size": 18140,
        "upload_time": "2016-08-08T12:54:54",
        "url": "https://files.pythonhosted.org/packages/f6/d3/3ebd0f9d4bdb1a2d50b0e114645d7d664a4abc0ca125cfe8f23fedc28ac2/housekeeper-0.0.1-py2.py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "cb33c0acb4f7fa5b79a39dd0d3e7ddcd",
          "sha256": "9f920f09fd4d537d4c5502aaf37c6c226edbb8b37cce62c89e44c6b345f5b18a"
        },
        "downloads": 115,
        "filename": "housekeeper-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "cb33c0acb4f7fa5b79a39dd0d3e7ddcd",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 11577,
        "upload_time": "2016-08-08T12:54:48",
        "url": "https://files.pythonhosted.org/packages/7e/6c/70fd9c6bb8ad619e17d5ce609dc540c1a0fcd9eeade62781e767da5e8c6f/housekeeper-0.0.1.tar.gz"
      }
    ],
    "1.0.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "4ccb88c03f2036e9a9310b1ac174f3e4",
          "sha256": "f674a5e414e78a820307bdcc3b698f1ee637d6fd4a6fd6a8a768f4315b08ae28"
        },
        "downloads": 69,
        "filename": "housekeeper-1.0.0.tar.gz",
        "has_sig": false,
        "md5_digest": "4ccb88c03f2036e9a9310b1ac174f3e4",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 972465,
        "upload_time": "2017-01-02T09:47:09",
        "url": "https://files.pythonhosted.org/packages/ba/bb/646fa75dce74207051ac14d1aeef5aac0320afe9ece86c38cbdcc5f6c041/housekeeper-1.0.0.tar.gz"
      }
    ],
    "1.0.0b1": [],
    "1.0.0b2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "66ba9017dfa9d24d9c2ed16dc02184c5",
          "sha256": "d05351f2accc731bd8aceb7151c1d7a023ca3dc288236dd0d36f7efac608a259"
        },
        "downloads": 215,
        "filename": "housekeeper-1.0.0b2.tar.gz",
        "has_sig": false,
        "md5_digest": "66ba9017dfa9d24d9c2ed16dc02184c5",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 869987,
        "upload_time": "2016-09-08T13:45:45",
        "url": "https://files.pythonhosted.org/packages/99/f9/ae61c39ce21b4ff71e028c34028f3529bc645c2efc065cbb4b5e70493aae/housekeeper-1.0.0b2.tar.gz"
      }
    ],
    "1.0.0b3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "5059f1582c6c664eb3f0790de02b53c5",
          "sha256": "9ace93c368438b24715d16638914328b957b5246f82ae54b12182be91b3cb674"
        },
        "downloads": 85,
        "filename": "housekeeper-1.0.0b3.tar.gz",
        "has_sig": false,
        "md5_digest": "5059f1582c6c664eb3f0790de02b53c5",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 870928,
        "upload_time": "2016-09-13T10:26:43",
        "url": "https://files.pythonhosted.org/packages/c4/2c/75d1c37970f54061797ef85f9c64919f544cee486ba5ae691052ee761b6e/housekeeper-1.0.0b3.tar.gz"
      }
    ],
    "1.0.0b4": [
      {
        "comment_text": "",
        "digests": {
          "md5": "a2d16690b94103429d3644cc831204a2",
          "sha256": "73a4ee6563fd37222d4fabf505e259daf1f42c777eb0749a52e380761b7d07da"
        },
        "downloads": 81,
        "filename": "housekeeper-1.0.0b4.tar.gz",
        "has_sig": false,
        "md5_digest": "a2d16690b94103429d3644cc831204a2",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 871443,
        "upload_time": "2016-09-14T10:51:16",
        "url": "https://files.pythonhosted.org/packages/cd/9d/4c00624cedd14f7e50501cbf7427526d7d7e486fea1383acaa1d4596eea5/housekeeper-1.0.0b4.tar.gz"
      }
    ],
    "1.0.0b5": [
      {
        "comment_text": "",
        "digests": {
          "md5": "0a80ae087ce3dcaa89deb879f567dfc2",
          "sha256": "3501f7db18beb52b269b169393beb2b0bf4a2a5e7d40bb02cd3eba0fd687ba7f"
        },
        "downloads": 86,
        "filename": "housekeeper-1.0.0b5.tar.gz",
        "has_sig": false,
        "md5_digest": "0a80ae087ce3dcaa89deb879f567dfc2",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 872783,
        "upload_time": "2016-09-15T12:04:54",
        "url": "https://files.pythonhosted.org/packages/eb/0e/223c620e811709679d54d6556edaf117cc09375f71ba58a5abc946846b7c/housekeeper-1.0.0b5.tar.gz"
      }
    ],
    "1.0.0b6": [
      {
        "comment_text": "",
        "digests": {
          "md5": "f2d181a18d5b860d393ddc72b06e796e",
          "sha256": "b0760c3e7aea2b74591a6cd4a5e4a83d453523c6fd980b30657c9fe210530fe9"
        },
        "downloads": 82,
        "filename": "housekeeper-1.0.0b6.tar.gz",
        "has_sig": false,
        "md5_digest": "f2d181a18d5b860d393ddc72b06e796e",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 874259,
        "upload_time": "2016-09-26T08:29:00",
        "url": "https://files.pythonhosted.org/packages/07/b8/1f47ba52a76eaf07463f7a620a34499479b754bcfacf7031b0fb535e40a5/housekeeper-1.0.0b6.tar.gz"
      }
    ],
    "1.0.0b7": [
      {
        "comment_text": "",
        "digests": {
          "md5": "f21043c7249bdeea313dd6ce0523df2d",
          "sha256": "c32854bc364e9844d85096810e9425f97c20ac44978ceb1f7be39c646af605b2"
        },
        "downloads": 309,
        "filename": "housekeeper-1.0.0b7.tar.gz",
        "has_sig": false,
        "md5_digest": "f21043c7249bdeea313dd6ce0523df2d",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 915374,
        "upload_time": "2016-10-04T13:31:13",
        "url": "https://files.pythonhosted.org/packages/28/b8/1815926718eb062f684fb434d8bf84b19c137f3f054326c9088c34599d26/housekeeper-1.0.0b7.tar.gz"
      }
    ],
    "1.0.0b8": [
      {
        "comment_text": "",
        "digests": {
          "md5": "28e3a1906ce877a140c37541e6c8a2f5",
          "sha256": "c4b6715179e177c9358d44594a019bfd1d0fb40932fc488f37822032bd5c4b34"
        },
        "downloads": 317,
        "filename": "housekeeper-1.0.0b8.tar.gz",
        "has_sig": false,
        "md5_digest": "28e3a1906ce877a140c37541e6c8a2f5",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 915351,
        "upload_time": "2016-10-04T14:22:54",
        "url": "https://files.pythonhosted.org/packages/1c/79/476ddc3bdfa0f77032969143599a83764149320d2ccdcf857cc973151be9/housekeeper-1.0.0b8.tar.gz"
      }
    ],
    "1.0.0b9": [
      {
        "comment_text": "",
        "digests": {
          "md5": "45e5facb31ac66acbc5a82234aa1e8cf",
          "sha256": "a6902621692c7179fa3c105105ec867217ec0448994efe0a36cc71f9038d43e0"
        },
        "downloads": 313,
        "filename": "housekeeper-1.0.0b9-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "45e5facb31ac66acbc5a82234aa1e8cf",
        "packagetype": "bdist_wheel",
        "python_version": "2.7",
        "size": 39492,
        "upload_time": "2016-10-04T14:27:30",
        "url": "https://files.pythonhosted.org/packages/8c/82/09898dd12f1a98a191633b3993e4bd0a80c57bfabedcd36747802f45ef8f/housekeeper-1.0.0b9-py2.py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "357554c46abcaad6fb4c4b0b4bdfcf1b",
          "sha256": "07aea8e6fd2666bcba214b9c7d6bbb6c88f10ac6171f24e7a668b6d1d50dc022"
        },
        "downloads": 308,
        "filename": "housekeeper-1.0.0b9.tar.gz",
        "has_sig": false,
        "md5_digest": "357554c46abcaad6fb4c4b0b4bdfcf1b",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 924716,
        "upload_time": "2016-10-04T14:27:27",
        "url": "https://files.pythonhosted.org/packages/0e/a8/ae3eaa7308ae692a80bcecee92183bcf4312a7f534d7dc64ade447b61a62/housekeeper-1.0.0b9.tar.gz"
      }
    ],
    "1.2.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "8ba79544dfe35aa0260167d1981af6a7",
          "sha256": "d0ff2bc23670f3c3c2e1d9ba7dc3f8da249519df4ed9bf92c6f1bfe2c85416e9"
        },
        "downloads": 0,
        "filename": "housekeeper-1.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "8ba79544dfe35aa0260167d1981af6a7",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 975754,
        "upload_time": "2017-05-08T13:08:01",
        "url": "https://files.pythonhosted.org/packages/09/a5/e39a1a376c22ca561c5123c4456629da75a02a05454896f69b748c4ac67b/housekeeper-1.2.0.tar.gz"
      }
    ],
    "2.0.0b1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "f20e129978822af9cd163982249ac30c",
          "sha256": "595ad6fae815c186b15805ea15094ca433d1375e157db1ccd20324956803fdef"
        },
        "downloads": 0,
        "filename": "housekeeper-2.0.0b1-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "f20e129978822af9cd163982249ac30c",
        "packagetype": "bdist_wheel",
        "python_version": "py2.py3",
        "size": 22955,
        "upload_time": "2017-09-04T14:22:17",
        "url": "https://files.pythonhosted.org/packages/59/1a/237074e0f414d1ffa5144458e27cf49843d8459d18919eb8d142a740d5a9/housekeeper-2.0.0b1-py2.py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "9922387a0fc2eff5deca5963dba10161",
          "sha256": "50c9c0390d890f374a15d73d25bcdbf04504570bc76645b1ef5fe9a5ea82989c"
        },
        "downloads": 0,
        "filename": "housekeeper-2.0.0b1.tar.gz",
        "has_sig": false,
        "md5_digest": "9922387a0fc2eff5deca5963dba10161",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 19022,
        "upload_time": "2017-09-04T14:11:26",
        "url": "https://files.pythonhosted.org/packages/9a/a6/62346da4bd6363840920d733dde3d75823f86dc4fe1b29176cac49910825/housekeeper-2.0.0b1.tar.gz"
      }
    ],
    "2.0.0b2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "1461d273467ae476aca5fd0b704e4580",
          "sha256": "b60b7ae8d0118c292c79edf762ed537b74c113be5dc992f5f1362423cd9f1359"
        },
        "downloads": 0,
        "filename": "housekeeper-2.0.0b2-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "1461d273467ae476aca5fd0b704e4580",
        "packagetype": "bdist_wheel",
        "python_version": "py2.py3",
        "size": 22954,
        "upload_time": "2017-09-04T14:23:33",
        "url": "https://files.pythonhosted.org/packages/3d/fc/cf700452b7473a08b3281330cc908b93f25f36fe82c2a6f58c5be36c9b67/housekeeper-2.0.0b2-py2.py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "5d2f42b015f5ba7c4849c6cd26610565",
          "sha256": "6d6049f60ae43b41f8d2f27cd82ab538b5db43f443df621813a9e9b5a8274af5"
        },
        "downloads": 0,
        "filename": "housekeeper-2.0.0b2.tar.gz",
        "has_sig": false,
        "md5_digest": "5d2f42b015f5ba7c4849c6cd26610565",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 17902,
        "upload_time": "2017-09-04T14:23:35",
        "url": "https://files.pythonhosted.org/packages/64/89/a610b36bed3385d4eb4add2639e251135c41dc7f6af4d30db715eb2c0955/housekeeper-2.0.0b2.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "8ba79544dfe35aa0260167d1981af6a7",
        "sha256": "d0ff2bc23670f3c3c2e1d9ba7dc3f8da249519df4ed9bf92c6f1bfe2c85416e9"
      },
      "downloads": 0,
      "filename": "housekeeper-1.2.0.tar.gz",
      "has_sig": false,
      "md5_digest": "8ba79544dfe35aa0260167d1981af6a7",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 975754,
      "upload_time": "2017-05-08T13:08:01",
      "url": "https://files.pythonhosted.org/packages/09/a5/e39a1a376c22ca561c5123c4456629da75a02a05454896f69b748c4ac67b/housekeeper-1.2.0.tar.gz"
    }
  ]
}
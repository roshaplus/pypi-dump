{
  "info": {
    "author": "onefinestay",
    "author_email": "engineering@onefinestay.com",
    "bugtrack_url": null,
    "classifiers": [
      "Intended Audience :: Developers",
      "Operating System :: MacOS :: MacOS X",
      "Operating System :: POSIX",
      "Programming Language :: Python",
      "Programming Language :: Python :: 2",
      "Programming Language :: Python :: 2.7",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.3",
      "Programming Language :: Python :: 3.4",
      "Topic :: Internet",
      "Topic :: Software Development :: Libraries :: Python Modules"
    ],
    "description": "nameko-sqlalchemy\n=================\n\nA SQLAlchemy dependency for `nameko <http://nameko.readthedocs.org>`_, enabling services to interface with a relational database.\n\nUsage\n-----\n\n.. code-block:: python\n\n    from nameko_sqlalchemy import Session\n\n    from .models import Model, DeclarativeBase\n\n    class Service(object):\n\n        session = Session(DeclarativeBase)\n\n        @entrypoint\n        def write_to_db(self):\n            model = Model(...)\n            self.session.add(model)\n            self.session.commit()\n\n        @entrypoint\n        def query_db(self):\n            queryset = self.session.query(Model).filter(...)\n            ...\n\n\nDatabase drivers\n----------------\n\nYou may use any database `driver compatible with SQLAlchemy <http://docs.sqlalchemy.org/en/rel_0_9/dialects/index.html>`_ provided it is safe to use with `eventlet <http://eventlet.net>`_. This will include all pure-python drivers. Known safe drivers are:\n\n* `pysqlite <http://docs.sqlalchemy.org/en/rel_0_9/dialects/sqlite.html#module-sqlalchemy.dialects.sqlite.pysqlite>`_ (tested in this repo)\n* `pymysql <http://docs.sqlalchemy.org/en/rel_0_9/dialects/mysql.html#module-sqlalchemy.dialects.mysql.pymysql>`_\n\n\nPytest fixtures\n---------------\n\nPytest fixtures to allow for easy testing are available.\n\n* ``db_session`` fixture (which depends on ``db_connection`` fixture) will instantiate test database and tear it down at the end of each test.\n* ``model_base`` fixture can be overridden to provide custom ``declarative_base``.\n* ``db_engine_options`` fixture can be overriden to provide additional keyword arguments to ``sqlalchemy.create_engine``.\n\n.. code-block:: python\n\n    import pytest\n\n    from sqlalchemy import Column, Integer, String\n    from sqlalchemy.ext.declarative import declarative_base\n\n\n    class Base(object):\n        pass\n\n\n    DeclarativeBase = declarative_base(cls=Base)\n\n\n    class User(DeclarativeBase):\n        __tablename__ = \"users\"\n\n        id = Column(Integer, primary_key=True)\n        name = Column(String)\n\n\n    @pytest.fixture(scope='session')\n    def model_base():\n        return DeclarativeBase\n\n\n    @pytest.fixture(scope='session')\n    def db_engine_options():\n        return dict(client_encoding='utf8')\n\n\n    def test_users(db_session):\n        user = User(id=1, name='Joe')\n        db_session.add(user)\n        db_session.commit()\n        saved_user = db_session.query(User).get(user.id)\n        assert saved_user.id > 0\n        assert saved_user.name == 'Joe'\n\nWhen running tests you can pass database test url with ``--test-db-url`` parameter or override ``db_url`` fixture.\nBy default SQLite memory database will be used.\n\n.. code-block:: shell\n\n    py.test test --test-db-url=sqlite:///test_db.sql\n",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "http://github.com/onefinestay/nameko-sqlalchemy",
    "keywords": "",
    "license": "Apache License, Version 2.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "nameko-sqlalchemy",
    "platform": "UNKNOWN",
    "project_url": "https://pypi.org/project/nameko-sqlalchemy/",
    "release_url": "https://pypi.org/project/nameko-sqlalchemy/0.1.0/",
    "requires_python": "",
    "summary": "SQLAlchemy dependency for nameko services",
    "version": "0.1.0"
  },
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "69fa4710c26ca3a7c7f4aadc230d64e6",
          "sha256": "7b8e099be861103ec6e432f7e2c6db8940cdd7c0ee4da34f0cbd3e1051aae386"
        },
        "downloads": 3642,
        "filename": "nameko-sqlalchemy-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "69fa4710c26ca3a7c7f4aadc230d64e6",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 3067,
        "upload_time": "2015-04-01T09:50:39",
        "url": "https://files.pythonhosted.org/packages/8e/c7/0a51b24bc01307ea724d2309fb64418965426553398a2155f3040a3d79bb/nameko-sqlalchemy-0.0.1.tar.gz"
      }
    ],
    "0.0.2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "67b4cf8afe27935bfd0da2209f95dcd2",
          "sha256": "46b378d45e9a34cce2ad96e57aac2af5774ef2d79224b4bec2ec193bc7918a8e"
        },
        "downloads": 705,
        "filename": "nameko-sqlalchemy-0.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "67b4cf8afe27935bfd0da2209f95dcd2",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 3201,
        "upload_time": "2016-05-11T14:38:42",
        "url": "https://files.pythonhosted.org/packages/80/55/50061575c9ba0bc62e5367ef3d016ae07c0d0e1100c44671f4d5744ae019/nameko-sqlalchemy-0.0.2.tar.gz"
      }
    ],
    "0.0.3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "b4a097426123031935712852950b32c5",
          "sha256": "dfca85ab5d7989baee68210f51c1698b6784cae1d752d93646e82c6cea835017"
        },
        "downloads": 364,
        "filename": "nameko-sqlalchemy-0.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "b4a097426123031935712852950b32c5",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 3785,
        "upload_time": "2016-08-26T10:54:58",
        "url": "https://files.pythonhosted.org/packages/30/37/f9a7af2e10f94f965a58d09e329b63e3c899ead1cc419381ebf8448c9e79/nameko-sqlalchemy-0.0.3.tar.gz"
      }
    ],
    "0.0.4": [
      {
        "comment_text": "",
        "digests": {
          "md5": "02c72c59558689f76f6464af14e5a5db",
          "sha256": "b4c95e5eaf363f999ca59050fd97138b87388b13309b1100d69c451da6541c7b"
        },
        "downloads": 1174,
        "filename": "nameko-sqlalchemy-0.0.4.tar.gz",
        "has_sig": false,
        "md5_digest": "02c72c59558689f76f6464af14e5a5db",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 4654,
        "upload_time": "2016-09-02T14:12:31",
        "url": "https://files.pythonhosted.org/packages/d1/01/117d2d1743617e931a9495c93632e2f7a688a9ac345c64a0353f11885407/nameko-sqlalchemy-0.0.4.tar.gz"
      }
    ],
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "6e5911aeb5dd86a0d695fd2ef68951b8",
          "sha256": "7f16e74cfdd08154acbf31ee5b3cd694f23a0d040f654ae2bf2a0e95f89f25d2"
        },
        "downloads": 171,
        "filename": "nameko-sqlalchemy-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "6e5911aeb5dd86a0d695fd2ef68951b8",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5021,
        "upload_time": "2017-02-20T11:41:12",
        "url": "https://files.pythonhosted.org/packages/7f/7f/dcaffaa252a0e001df89dc6e8681829a2ee63727f5c1d195a20fc772243e/nameko-sqlalchemy-0.1.0.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "6e5911aeb5dd86a0d695fd2ef68951b8",
        "sha256": "7f16e74cfdd08154acbf31ee5b3cd694f23a0d040f654ae2bf2a0e95f89f25d2"
      },
      "downloads": 171,
      "filename": "nameko-sqlalchemy-0.1.0.tar.gz",
      "has_sig": false,
      "md5_digest": "6e5911aeb5dd86a0d695fd2ef68951b8",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 5021,
      "upload_time": "2017-02-20T11:41:12",
      "url": "https://files.pythonhosted.org/packages/7f/7f/dcaffaa252a0e001df89dc6e8681829a2ee63727f5c1d195a20fc772243e/nameko-sqlalchemy-0.1.0.tar.gz"
    }
  ]
}
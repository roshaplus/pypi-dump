{
  "info": {
    "author": "Ruslan Roskoshnyi",
    "author_email": "i.am.yarger@gmail.com",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# Hawk\n\n[![Build Status](https://travis-ci.org/ruslux/hawk.svg?branch=master)](https://travis-ci.org/ruslux/hawk) [![Coverage Status](https://coveralls.io/repos/github/ruslux/hawk/badge.svg?branch=master)](https://coveralls.io/github/ruslux/hawk)\n\n- [About](#about)\n- [Installation](#installation)\n- [Requirements](#requirements)\n- [Module `hawk.query`](#query)\n- [Module `hawk.validator`](#validator)\n- [Module `hawk.flat`](#flat)\n- [Module `hawk.rest`](#rest)\n- [Contribution](#contribution)\n- [Roadmap](#roadmap)\n- [Changelog](#changelog)\n\n### <a name=\"about\"/>About</a>\nHawk is a toolset for development of REST API for MongoDb backend\nContains next packages:\n\n- `hawk.query`: tool for simplify pymongo queries;\n- `hawk.validator`: tool for document schema validation; \n- `hawk.rest`: tool for REST API development; \n\n### <a name=\"installation\"/>Installation</a>\nWith pip:\n```bash\npip install hawk-tools\n```\n\n### <a name=\"requirements\"/>Requirements</a>\nTested with `python3.6`, `pymongo==3.3.0` and `mongodb 3.2`, `falcon==1.3.0`, `bson==0.5.0`\n\n### <a name=\"query\"/>Module `hawk.query`</a>\nYou can use `Q` object, which help make complex queries. \nFor example, this query:\n```python\nfrom hawk.query import Q\n\nquery = Q(name__in=['a', 'b'], age__gt=18, age__ne=20, \n          weapon__nin=[1, 2, 3], terrain__not__in=[1, 2, 3])\n```\nis equal with this:\n```python\n{\n    '$and': [\n        {'name': {'$in': ['a', 'b']}},\n        {'age': {'$gt': 18}},\n        {'age': {'$ne': 20}},\n        {'weapon': {'$nin': [1, 2, 3]}},\n        {'terrain': {'$not': {'$in': [1, 2, 3]}}}\n    ]\n}\n```\nYou also can combine queries:\n```python\nfrom hawk.query import Q\n\nquery1 = Q(a=1)\nquery2 = Q(b=2)\nquery3 = Q(c=3)\nquery4 = Q(d=4)\nquery5 = Q(e=5)\n\ncomplex_query = (query1 or ((query2 and query3) & query4)) | query5\n```\nwhat equal with this:\n```python\nquery1 = {'a': 1}\nquery2 = {'b': 2}\nquery3 = {'c': 3}\nquery4 = {'d': 4}\nquery5 = {'e': 5}\n\ncomplex_query = {\n    '$or': [\n        {\n            '$or': [\n                query1,\n                {\n                    '$and': [\n                        {\n                            '$and': [\n                                query2,\n                                query3\n                            ]\n                        },\n                        query4\n                    ]\n                }\n            ]\n        },\n        query5\n    ]\n}\n```\n\n### <a name=\"validator\"/>Module `hawk.validator`</a>\nHawk contains `validator` module. Yet another schema validator. Inspired by `joi.js`.\nExample:\n```python\nfrom hawk.validator import Schema, Field\n\nclass Head(Schema):\n    eyes = Field(types=[int], min_length=0, max_length=2, required=True)\n    fangs = Field(types=[int], min_length=0, max_length=4, required=False)\n\n\nclass Hand(Schema):\n    fingers = Field(types=[int], min_length=0, max_length=5, required=True)\n\n\nclass Wing(Schema):\n    fingers = Field(types=[int], min_length=0, max_length=5, required=False)\n    has_feathers = Field(types=[bool, str], only=[True, False, 'yes', 'no'])\n\n\nclass Leg(Schema):\n    fingers = Field(types=[int], min_length=0, max_length=5, required=False)\n    has_hoof = Field(types=[bool, str], only=[True, False, 'yes', 'no'])\n\n\nclass Animal(Schema):\n    name = Field(types=[str])\n    head = Field(types=[Head], required=True)\n    limbs = Field(types=[list], required=False, children_types=[Hand, Leg, Wing])\n    other = Field(types=[list], children_types=[str], only=['genitals', 'tail'])\n    \n    \n_data = {\n    \"name\": \"hawk\", \n    \"head\": {\"eyes\": 2}, \n    \"limbs\": {\"has_feather\": \"yes\"}, \n    \"other\": [\"tails\"], \n    \"respect\": \"falcon is awesome\"\n}\n_is_valid, _error_message, _modified_data = Animal(**_data).is_valid(strip_unknown=True) \n```\n\nHint: use `Q`:\n```python\nfrom hawk.query import Q as D\n\n_data = D(name=\"hawk\", \n          head__eyes=2, \n          limbs__has_feather=True, \n          other=[\"tails\"], \n          respect=\"mongo is awesome too\")\n```\n\n### <a name=\"rest\"/>Module `hawk.rest`</a>\nModule `hawk.rest` is yet another REST API framework for MongoDb. `hawk.rest` built on top of `falcon` framework,\ntherefore start with lines described in official documentation of `falcon`:\n```python\nimport falcon\n\napi = falcon.API()\n```\nthen describe resource:\n```python\nfrom hawk.rest.resource import Resource\n\nclass Example(Resource):\n    pass\n```\nThis cheatsheet describes `Resource` pipeline:\n\n| Description\\Methods                | GET                  | POST                 | PUT                  | DELETE               | OPTIONS              |\n| ---                                | ---                  | ---                  | ---                  | ---                  | ---                  |\n| validate or process request        | request_hook         | request_hook         | request_hook         | request_hook         | request_hook         |\n| validate client data               |                      | in_post_validator    | in_put_validator     |                      |                      |\n| process documents before query db  | before_get_hook      | before_post_hook     | before_put_hook      | before_delete_hook   | before_options_hook  |\n| validate result                    |                      | db_post_validator    | db_put_validator     |                      |                      |\n| query db                           | _get                 | _post                | _put                 | _delete              | _options             |\n| process received documents from db | after_get_hook       | after_post_hook      | after_put_hook       | after_delete_hook    | after_options_hook   |\n| validate documents before shipping | out_get_validator    |                      |                      |                      |                      |\n\n\n> Note: For `in_post_validator`, `in_put_validator`, `db_post_validator`, `db_put_validator` and `out_get_validator` use\n`hawk.validator.Schema` instance. \n\n### <a name=\"contribution\"/>Contribution how-to</a>\n###### Run tests:\n* clone repo: `git clone <your-fork>`\n* `pip install -r requirements.txt`\n* `./run_tests.sh`\n\n### <a name=\"roadmap\"/>Roadmap</a>\n###### Documentation:\n- [ ] `hawk.flat` description\n- [ ] `hawk.rest` description\n\n###### Implementation:\n- [ ] `hawk.flat` for javascript\n- [ ] `hawk.rest` for javascript\n- [ ] `hawk.rest` filter restriction\n- [ ] `hawk.rest` sort restriction\n- [ ] `hawk.validation` convert simple values\n- [ ] `hawk.rest.contrib.metrics.throttling` as example\n- [ ] `hawk.rest.contrib.metrics.indexes` as example\n- [ ] `hawk.rest.contrib.schema` as example\n- [ ] installation from git\n\n### <a name=\"changelog\"/>Changelog</a>",
    "docs_url": null,
    "download_url": "https://github.com/ruslux/hawk/archive/0.1.8.tar.gz",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/ruslux/hawk",
    "keywords": "mongodb,pymongo,rest,api,falcon",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "hawk-tools",
    "platform": "",
    "project_url": "https://pypi.org/project/hawk-tools/",
    "release_url": "https://pypi.org/project/hawk-tools/0.1.8/",
    "requires_dist": [],
    "requires_python": "",
    "summary": "Hawk is a toolset for development of REST API for MongoDb backend",
    "version": "0.1.8"
  },
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "eaa7b08e3da2016a4e451ce1c0f6f877",
          "sha256": "892c8533926e7a127be13c8c84504c37fa10ff029770109c3441a9057974392e"
        },
        "downloads": -1,
        "filename": "hawk-tools-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "eaa7b08e3da2016a4e451ce1c0f6f877",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5511,
        "upload_time": "2017-12-08T06:40:27",
        "url": "https://files.pythonhosted.org/packages/f7/c9/0f0080bb299ffed9d24d518ff753fc7add25ecd0810e57ba2d101d9894d1/hawk-tools-0.1.0.tar.gz"
      }
    ],
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "c832d32e40c4a364aa7ff88282ea5ac9",
          "sha256": "5aac8f2a18e7d39770442381f6090d0c5d32e89e60fb25fbb17d78b1a4c1d488"
        },
        "downloads": -1,
        "filename": "hawk-tools-0.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "c832d32e40c4a364aa7ff88282ea5ac9",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 6765,
        "upload_time": "2017-12-10T19:28:11",
        "url": "https://files.pythonhosted.org/packages/d0/63/a72e683c1ba4ef5cce27598b80201753c0bf496d83f60bdaff5591d9d93f/hawk-tools-0.1.1.tar.gz"
      }
    ],
    "0.1.2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "8677d50a3bdaf7872fa6b268e405d4bd",
          "sha256": "d792a47b3b337423cae799025f3d7b22d79c1fd90e3ca38eb0df8f8cc9559a75"
        },
        "downloads": -1,
        "filename": "hawk-tools-0.1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "8677d50a3bdaf7872fa6b268e405d4bd",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 6884,
        "upload_time": "2017-12-10T22:05:21",
        "url": "https://files.pythonhosted.org/packages/42/d2/94c845e4890a64b4d45d447977d796dbb6eba7494a0801e86d745ccf299b/hawk-tools-0.1.2.tar.gz"
      }
    ],
    "0.1.3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "a4bb1346883e0e64c6815a6e49a6b5cc",
          "sha256": "13212478c1f5f9a7309f40cac7ff0132ab2c5fc73fda2cb9c7fefe111dde4214"
        },
        "downloads": -1,
        "filename": "hawk-tools-0.1.3.tar.gz",
        "has_sig": false,
        "md5_digest": "a4bb1346883e0e64c6815a6e49a6b5cc",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 6961,
        "upload_time": "2017-12-12T21:41:11",
        "url": "https://files.pythonhosted.org/packages/4d/c5/b811fe108be15a00205fc2cea46dba627f7b27493168eeb12dd3ece3e37f/hawk-tools-0.1.3.tar.gz"
      }
    ],
    "0.1.4": [
      {
        "comment_text": "",
        "digests": {
          "md5": "603706402037bd9b1218c025baf83f4b",
          "sha256": "31b053d113bdf68d7480422946c0e359cc2725ce211e644e51f3190a5a366bca"
        },
        "downloads": -1,
        "filename": "hawk-tools-0.1.4.tar.gz",
        "has_sig": false,
        "md5_digest": "603706402037bd9b1218c025baf83f4b",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 8763,
        "upload_time": "2017-12-20T19:58:36",
        "url": "https://files.pythonhosted.org/packages/df/e6/e1e7b4ab7fcb63a904df4d3ac7a482b5eb5d0d14e843478bb0fb50080a20/hawk-tools-0.1.4.tar.gz"
      }
    ],
    "0.1.5": [
      {
        "comment_text": "",
        "digests": {
          "md5": "02d8631353789374fbf566c0a88dbfab",
          "sha256": "c6427e20586da59edabe0b3d47d5e0f248a0f14c8b19072f8ddbf9e856000efb"
        },
        "downloads": -1,
        "filename": "hawk-tools-0.1.5.tar.gz",
        "has_sig": false,
        "md5_digest": "02d8631353789374fbf566c0a88dbfab",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 8776,
        "upload_time": "2018-01-16T19:17:57",
        "url": "https://files.pythonhosted.org/packages/75/fb/c7661c21a0cbb1f4ebaf471169ec31d24ad1a795f739d74f39167e89ebfc/hawk-tools-0.1.5.tar.gz"
      }
    ],
    "0.1.6": [
      {
        "comment_text": "",
        "digests": {
          "md5": "f98cfacb569c0db5b0af89bd04f43b39",
          "sha256": "b13bee68b4fe9f86459105cfc0b9ccb8a8fd0b589cdcec5ae6b7787eb7474331"
        },
        "downloads": -1,
        "filename": "hawk-tools-0.1.6.tar.gz",
        "has_sig": false,
        "md5_digest": "f98cfacb569c0db5b0af89bd04f43b39",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 8810,
        "upload_time": "2018-01-16T19:56:38",
        "url": "https://files.pythonhosted.org/packages/50/cc/1ebf4463323818d2034bb57113f0ee00294c844674b2200cd792548ffb04/hawk-tools-0.1.6.tar.gz"
      }
    ],
    "0.1.7": [
      {
        "comment_text": "",
        "digests": {
          "md5": "7e6706f96a73782eaef64ddc37a28b30",
          "sha256": "a30b4bd1127f17cf8a553b1d77cf300c946fb28c33c5aa5d386071ee690db87f"
        },
        "downloads": -1,
        "filename": "hawk-tools-0.1.7.tar.gz",
        "has_sig": false,
        "md5_digest": "7e6706f96a73782eaef64ddc37a28b30",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 8826,
        "upload_time": "2018-01-16T20:04:58",
        "url": "https://files.pythonhosted.org/packages/86/ae/36785b73ddc5f14c4be31b567f2c0ff86683c625572c2ff03c8603607584/hawk-tools-0.1.7.tar.gz"
      }
    ],
    "0.1.8": [
      {
        "comment_text": "",
        "digests": {
          "md5": "7f4cfa100123490df818fcd3963d326f",
          "sha256": "44b7e598da2fdb8befb9d4e281ffb474a2a4b43cf3b1916dd013edb582a2fed1"
        },
        "downloads": -1,
        "filename": "hawk-tools-0.1.8.tar.gz",
        "has_sig": false,
        "md5_digest": "7f4cfa100123490df818fcd3963d326f",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 9068,
        "upload_time": "2018-01-17T20:44:14",
        "url": "https://files.pythonhosted.org/packages/d3/2e/ac02334d71fa14313bb03cc2dc1b5ccd578114556f3f7377c80763ac0313/hawk-tools-0.1.8.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "7f4cfa100123490df818fcd3963d326f",
        "sha256": "44b7e598da2fdb8befb9d4e281ffb474a2a4b43cf3b1916dd013edb582a2fed1"
      },
      "downloads": -1,
      "filename": "hawk-tools-0.1.8.tar.gz",
      "has_sig": false,
      "md5_digest": "7f4cfa100123490df818fcd3963d326f",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 9068,
      "upload_time": "2018-01-17T20:44:14",
      "url": "https://files.pythonhosted.org/packages/d3/2e/ac02334d71fa14313bb03cc2dc1b5ccd578114556f3f7377c80763ac0313/hawk-tools-0.1.8.tar.gz"
    }
  ]
}
{
  "info": {
    "author": "Scott Walton",
    "author_email": "scott.walton@mypebble.co.uk",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Framework :: Django",
      "Framework :: Django :: 1.10",
      "Framework :: Django :: 1.9",
      "Programming Language :: Python",
      "Programming Language :: Python :: 2.7",
      "Programming Language :: Python :: 3"
    ],
    "description": "SQL Views for Postgres\n======================\n\n|Gitter| |Circle CI|\n\nAdds first-class support for `PostgreSQL\nViews <http://www.postgresql.org/docs/9.1/static/sql-createview.html>`__\nin the Django ORM\n\nInstallation\n------------\n\nInstall via pip:\n\n::\n\n    pip install django-pgviews\n\nAdd to installed applications in settings.py:\n\n.. code:: python\n\n    INSTALLED_APPS = (\n      # ...\n      'django_pgviews',\n    )\n\nExamples\n--------\n\n.. code:: python\n\n    from django.db import models\n\n    from django_pgviews import view as pg\n\n\n    class Customer(models.Model):\n        name = models.CharField(max_length=100)\n        post_code = models.CharField(max_length=20)\n        is_preferred = models.BooleanField(default=False)\n\n        class Meta:\n            app_label = 'myapp'\n\n    class PreferredCustomer(pg.View):\n        projection = ['myapp.Customer.*',]\n        dependencies = ['myapp.OtherView',]\n        sql = \"\"\"SELECT * FROM myapp_customer WHERE is_preferred = TRUE;\"\"\"\n\n        class Meta:\n          app_label = 'myapp'\n          db_table = 'myapp_preferredcustomer'\n          managed = False\n\n**NOTE** It is important that we include the ``managed = False`` in the\n``Meta`` so Django 1.7 migrations don't attempt to create DB tables for\nthis view.\n\nThe SQL produced by this might look like:\n\n.. code:: postgresql\n\n    CREATE VIEW myapp_preferredcustomer AS\n    SELECT * FROM myapp_customer WHERE is_preferred = TRUE;\n\nTo create all your views, run ``python manage.py sync_pgviews``\n\nYou can also specify field names, which will map onto fields in your\nView:\n\n.. code:: python\n\n    from django_pgviews import view as pg\n\n\n    VIEW_SQL = \"\"\"\n        SELECT name, post_code FROM myapp_customer WHERE is_preferred = TRUE\n    \"\"\"\n\n\n    class PreferredCustomer(pg.View):\n        name = models.CharField(max_length=100)\n        post_code = models.CharField(max_length=20)\n\n        sql = VIEW_SQL\n\nFeatures\n--------\n\nUpdating Views\n~~~~~~~~~~~~~~\n\nSometimes your models change and you need your Database Views to reflect\nthe new data. Updating the View logic is as simple as modifying the\nunderlying SQL and running:\n\n::\n\n    python manage.py sync_pgviews --force\n\nThis will forcibly update any views that conflict with your new SQL.\n\nDependencies\n~~~~~~~~~~~~\n\nYou can specify other views you depend on. This ensures the other views\nare installed beforehand. Using dependencies also ensures that your\nviews get refreshed correctly when using ``sync_pgviews --force``.\n\n**Note:** Views are synced after the Django application has migrated and\nadding models to the dependency list will cause syncing to fail.\n\nExample:\n\n.. code:: python\n\n    from django_pgviews import view as pg\n\n    class PreferredCustomer(pg.View):\n        dependencies = ['myapp.OtherView',]\n        sql = \"\"\"SELECT * FROM myapp_customer WHERE is_preferred = TRUE;\"\"\"\n\n        class Meta:\n          app_label = 'myapp'\n          db_table = 'myapp_preferredcustomer'\n          managed = False\n\nMaterialized Views\n~~~~~~~~~~~~~~~~~~\n\nPostgres 9.3 and up supports `materialized\nviews <http://www.postgresql.org/docs/current/static/sql-creatematerializedview.html>`__\nwhich allow you to cache the results of views, potentially allowing them\nto load faster.\n\nHowever, you do need to manually refresh the view. To do this\nautomatically, you can attach\n`signals <https://docs.djangoproject.com/en/1.8/ref/signals/>`__ and\ncall the refresh function.\n\nExample:\n\n.. code:: python\n\n    from django_pgviews import view as pg\n\n\n    VIEW_SQL = \"\"\"\n        SELECT name, post_code FROM myapp_customer WHERE is_preferred = TRUE\n    \"\"\"\n\n    class Customer(models.Model):\n        name = models.CharField(max_length=100)\n        post_code = models.CharField(max_length=20)\n        is_preferred = models.BooleanField(default=True)\n\n\n    class PreferredCustomer(pg.MaterializedView):\n        name = models.CharField(max_length=100)\n        post_code = models.CharField(max_length=20)\n\n        sql = VIEW_SQL\n\n\n    @receiver(post_save, sender=Customer)\n    def customer_saved(sender, action=None, instance=None, **kwargs):\n        PreferredCustomer.refresh()\n\nPostgres 9.4 and up allow materialized views to be refreshed\nconcurrently, without blocking reads, as long as a unique index exists\non the materialized view. To enable concurrent refresh, specify the name\nof a column that can be used as a unique index on the materialized view.\nOnce enabled, passing ``concurrently=True`` to the model's refresh\nmethod will result in postgres performing the refresh concurrently.\n(Note that the refresh method itself blocks until the refresh is\ncomplete; concurrent refresh is most useful when materialized views are\nupdated in another process or thread.)\n\nExample:\n\n.. code:: python\n\n    from django_pgviews import view as pg\n\n\n    VIEW_SQL = \"\"\"\n        SELECT id, name, post_code FROM myapp_customer WHERE is_preferred = TRUE\n    \"\"\"\n\n    class PreferredCustomer(pg.MaterializedView):\n        concurrent_index = 'id'\n        sql = VIEW_SQL\n\n        name = models.CharField(max_length=100)\n        post_code = models.CharField(max_length=20)\n\n\n    @receiver(post_save, sender=Customer)\n    def customer_saved(sender, action=None, instance=None, **kwargs):\n        PreferredCustomer.refresh(concurrently=True)\n\nCustom Schema\n~~~~~~~~~~~~~\n\nYou can define any table name you wish for your views. They can even\nlive inside your own custom `PostgreSQL\nschema <http://www.postgresql.org/docs/current/static/ddl-schemas.html>`__.\n\n.. code:: python\n\n    from django_pgviews import view as pg\n\n\n    class PreferredCustomer(pg.View):\n        sql = \"\"\"SELECT * FROM myapp_customer WHERE is_preferred = TRUE;\"\"\"\n\n        class Meta:\n          db_table = 'my_custom_schema.preferredcustomer'\n          managed = False\n\nDjango Compatibility\n--------------------\n\n.. raw:: html\n\n   <table>\n\n.. raw:: html\n\n   <thead>\n\n::\n\n    <tr>\n      <th>Django Version</th>\n      <th>Django-PGView Version</th>\n    </tr>\n\n.. raw:: html\n\n   </thead>\n\n.. raw:: html\n\n   <tbody>\n\n::\n\n    <tr>\n      <td>1.4 and down</td>\n      <td>Unsupported</td>\n    </tr>\n    <tr>\n      <td>1.5</td>\n      <td>0.0.1</td>\n    </tr>\n    <tr>\n      <td>1.6</td>\n      <td>0.0.3</td>\n    </tr>\n    <tr>\n      <td>1.7</td>\n      <td>0.0.4</td>\n    </tr>\n    <tr>\n      <td>1.9</td>\n      <td>0.1.0</td>\n    </tr>\n    <tr>\n      <td>1.10</td>\n      <td>0.2.0</td>\n    </tr>\n\n.. raw:: html\n\n   </tbody>\n\n.. raw:: html\n\n   </table>\n\nDjango 1.7 Note\n~~~~~~~~~~~~~~~\n\nDjango 1.7 changed how models are loaded so that it's no longer possible\nto do ``sql = str(User.objects.all().query)`` because the dependent\nmodels aren't yet loaded by Django.\n\nDjango 1.9 Note\n~~~~~~~~~~~~~~~\n\nYou now have to use the ``.view`` module directly.\n\nPython 3 Support\n----------------\n\nDjango PGViews supports Python 3 in versions 0.0.7 and above.\n\n.. |Gitter| image:: https://badges.gitter.im/Join%20Chat.svg\n   :target: https://gitter.im/mypebble/django-pgviews?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge\n.. |Circle CI| image:: https://circleci.com/gh/mypebble/django-pgviews.png\n   :target: https://circleci.com/gh/mypebble/django-pgviews",
    "docs_url": null,
    "download_url": "UNKNOWN",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/mypebble/django-pgviews",
    "keywords": null,
    "license": "Public Domain",
    "maintainer": null,
    "maintainer_email": null,
    "name": "django-pgviews",
    "platform": "UNKNOWN",
    "project_url": "https://pypi.org/project/django-pgviews/",
    "release_url": "https://pypi.org/project/django-pgviews/0.4.0/",
    "requires_python": null,
    "summary": "Create and manage Postgres SQL Views in Django",
    "version": "0.4.0"
  },
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "2d49f7c96cc4e5415a78a8b1cd8ef7b4",
          "sha256": "2876069c3cc18470d37a84980680885e4d2e184a05886d6cdf2a493ba739b2c4"
        },
        "downloads": 1532,
        "filename": "django-pgviews-0.0.1.linux-x86_64.exe",
        "has_sig": false,
        "md5_digest": "2d49f7c96cc4e5415a78a8b1cd8ef7b4",
        "packagetype": "bdist_wininst",
        "python_version": "any",
        "size": 68487,
        "upload_time": "2014-07-04T10:23:50",
        "url": "https://files.pythonhosted.org/packages/13/3c/3728c18ccaf83e66c05243ec438e291a17917f6aed49199e90573f646f5e/django-pgviews-0.0.1.linux-x86_64.exe"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "a08201237b28a37252769a77fdc29413",
          "sha256": "5555675ccc1f593754f9bfd08447cb82fa697b6db70178e456c991362f930aff"
        },
        "downloads": 1630,
        "filename": "django-pgviews-0.0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "a08201237b28a37252769a77fdc29413",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 4525,
        "upload_time": "2014-07-04T10:23:48",
        "url": "https://files.pythonhosted.org/packages/18/4b/104238ace2a519128afdcca268bedf8e901190c6e90cd3f1f5cdffcfc9cb/django-pgviews-0.0.1.tar.gz"
      }
    ],
    "0.0.2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "91449f2053d7569ff2b5d3c79f0baded",
          "sha256": "cc060bdb768485f7787c7d8300fca1c7444d4c8bf041ee88f41c7fdd7acdfac6"
        },
        "downloads": 1543,
        "filename": "django-pgviews-0.0.2.linux-x86_64.exe",
        "has_sig": false,
        "md5_digest": "91449f2053d7569ff2b5d3c79f0baded",
        "packagetype": "bdist_wininst",
        "python_version": "any",
        "size": 68487,
        "upload_time": "2014-07-04T10:50:50",
        "url": "https://files.pythonhosted.org/packages/4c/b6/5f98e2237e8edd9c58ffa29126af74d78c9a78ce2f5893ca0cbc3d05c7e6/django-pgviews-0.0.2.linux-x86_64.exe"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "fee7317f61bc55a74eca8c9d4b8d6661",
          "sha256": "7987fe605fa0dddcbbb4803f7d481dab339e57dd37dd4eeb0bdb3cff93c17afc"
        },
        "downloads": 1692,
        "filename": "django-pgviews-0.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "fee7317f61bc55a74eca8c9d4b8d6661",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 4523,
        "upload_time": "2014-07-04T10:50:47",
        "url": "https://files.pythonhosted.org/packages/33/3c/a4514d48a09733d63bd9043ac1859632538e60d0ea5914079314e04e5b7a/django-pgviews-0.0.2.tar.gz"
      }
    ],
    "0.0.3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "5b8acf759cb0c0e702077b0967cba00f",
          "sha256": "a47b450439e670e560f76ebac5ee7c55271a8d52a6ebeda837da5850e7a37def"
        },
        "downloads": 1751,
        "filename": "django-pgviews-0.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "5b8acf759cb0c0e702077b0967cba00f",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 4753,
        "upload_time": "2014-07-17T10:45:34",
        "url": "https://files.pythonhosted.org/packages/92/cc/5ff408b0003ac252e0405e53e741dcc44ae2d0ab66a91fa34fa39671ba26/django-pgviews-0.0.3.tar.gz"
      }
    ],
    "0.0.4": [
      {
        "comment_text": "",
        "digests": {
          "md5": "b6cdaafbc4c420e749383ba387e372ee",
          "sha256": "18bdcc61335e600c2e5d92fa018a86c0c602b03d4263c66ec706dba41d8696f7"
        },
        "downloads": 1512,
        "filename": "django-pgviews-0.0.4.tar.gz",
        "has_sig": false,
        "md5_digest": "b6cdaafbc4c420e749383ba387e372ee",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 5152,
        "upload_time": "2014-12-22T15:29:53",
        "url": "https://files.pythonhosted.org/packages/10/de/2e58d66d037d814a021051db6f21ecc214495f52274c8660f1f85bad2c6e/django-pgviews-0.0.4.tar.gz"
      }
    ],
    "0.0.5": [
      {
        "comment_text": "",
        "digests": {
          "md5": "5269315a5aeeb298f1963d058d1c6d09",
          "sha256": "73f1eb7965cb0ba8223efec5027d401fdfd3bdffe68a2c3674364b8dcacc1d31"
        },
        "downloads": 1355,
        "filename": "django-pgviews-0.0.5.tar.gz",
        "has_sig": false,
        "md5_digest": "5269315a5aeeb298f1963d058d1c6d09",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 7115,
        "upload_time": "2015-09-07T12:14:25",
        "url": "https://files.pythonhosted.org/packages/59/8b/5046b975b0d98a526fa48a3af3a77b734041bc26216188379a9d710d7c34/django-pgviews-0.0.5.tar.gz"
      }
    ],
    "0.0.6": [
      {
        "comment_text": "",
        "digests": {
          "md5": "b1a171533e4397f50c62228b13be23b4",
          "sha256": "50ccd05e45a30f3a62689b391c99e61f73e417d9b9e9dee9d21a259d94e6b6e9"
        },
        "downloads": 620,
        "filename": "django-pgviews-0.0.6.tar.gz",
        "has_sig": false,
        "md5_digest": "b1a171533e4397f50c62228b13be23b4",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 7663,
        "upload_time": "2015-12-03T11:53:48",
        "url": "https://files.pythonhosted.org/packages/20/73/a7aa547b69f8b46d4fc34be6188f9a9d515b6be7603d194d876aaeb48825/django-pgviews-0.0.6.tar.gz"
      }
    ],
    "0.0.7": [
      {
        "comment_text": "",
        "digests": {
          "md5": "34e10bd08c84f300e6c036489f567ba0",
          "sha256": "3b0e40cb2c276bb4b5941cfb039576f5d1a86cc068166f47b8df2b84640acd53"
        },
        "downloads": 177,
        "filename": "django-pgviews-0.0.7.tar.gz",
        "has_sig": false,
        "md5_digest": "34e10bd08c84f300e6c036489f567ba0",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 7868,
        "upload_time": "2016-04-06T10:48:56",
        "url": "https://files.pythonhosted.org/packages/bd/bb/273547f75cb47b8a9e8eb34b89f1887aecc45eeb641451bf423e465f46c5/django-pgviews-0.0.7.tar.gz"
      }
    ],
    "0.0.8": [
      {
        "comment_text": "",
        "digests": {
          "md5": "9ef9cf90b40ec5f1bfa945bd6b5eb81e",
          "sha256": "77c4d349bd0af78ef505946b8572c75d36476fe92d6bfc5810f350e5e1060290"
        },
        "downloads": 182,
        "filename": "django-pgviews-0.0.8.tar.gz",
        "has_sig": false,
        "md5_digest": "9ef9cf90b40ec5f1bfa945bd6b5eb81e",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 8517,
        "upload_time": "2016-04-07T09:49:15",
        "url": "https://files.pythonhosted.org/packages/1e/05/8eef6d9ff7829a616e320f5aa8a737a8475d5188c7cd58b773b4a7057805/django-pgviews-0.0.8.tar.gz"
      }
    ],
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "3294fb2df3c0f199f171b28d0510718b",
          "sha256": "0c86146a7ea1f796db1f4c115f324ec4c05ae46270fb12358351f49bc485f1fd"
        },
        "downloads": 772,
        "filename": "django-pgviews-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "3294fb2df3c0f199f171b28d0510718b",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 8550,
        "upload_time": "2016-04-11T09:04:42",
        "url": "https://files.pythonhosted.org/packages/88/ed/cbc758744d09224ce924cb0e42e9fb0f63c28e61fbb94233ea7db9a2d87b/django-pgviews-0.1.0.tar.gz"
      }
    ],
    "0.2.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "557effd11c7e89086ee05a7de9890c15",
          "sha256": "e2f617b175a21d2f3665ff2814cdf224e93076de4a882ef30d85664fdb8646c0"
        },
        "downloads": 459,
        "filename": "django-pgviews-0.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "557effd11c7e89086ee05a7de9890c15",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 8679,
        "upload_time": "2016-09-01T07:44:38",
        "url": "https://files.pythonhosted.org/packages/b3/40/01b84f4dfb211ce076213e173f0f2f2d209db184a645c3b4dd6bf190f602/django-pgviews-0.2.0.tar.gz"
      }
    ],
    "0.3.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "587f4822a828919d5307117ad5fd99eb",
          "sha256": "bc642dd08bcb377fba048c1ea900edda06928b9585444daca39d877cc7d63b50"
        },
        "downloads": 83,
        "filename": "django_pgviews-0.3.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "587f4822a828919d5307117ad5fd99eb",
        "packagetype": "bdist_wheel",
        "python_version": "3.5",
        "size": 14968,
        "upload_time": "2017-01-10T11:00:16",
        "url": "https://files.pythonhosted.org/packages/05/52/2e32b11c494d50b59196d479e482db295a23e5c8f5b58739e88331ca1cf2/django_pgviews-0.3.0-py3-none-any.whl"
      }
    ],
    "0.4.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "432084a2e62fdafcb7501dcb7ba149ad",
          "sha256": "15466ba03c800d9d832d94f1aa8f419605a54eedc3be4c90de727e4eb6db9343"
        },
        "downloads": 0,
        "filename": "django_pgviews-0.4.0-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "432084a2e62fdafcb7501dcb7ba149ad",
        "packagetype": "bdist_wheel",
        "python_version": "3.5",
        "size": 14975,
        "upload_time": "2017-04-18T14:21:28",
        "url": "https://files.pythonhosted.org/packages/41/54/ec8dee4cad9e5c7f0e4bcc80452962e0f34ab4f5b4bba4cf93d89a03d9e6/django_pgviews-0.4.0-py2.py3-none-any.whl"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "432084a2e62fdafcb7501dcb7ba149ad",
        "sha256": "15466ba03c800d9d832d94f1aa8f419605a54eedc3be4c90de727e4eb6db9343"
      },
      "downloads": 0,
      "filename": "django_pgviews-0.4.0-py2.py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "432084a2e62fdafcb7501dcb7ba149ad",
      "packagetype": "bdist_wheel",
      "python_version": "3.5",
      "size": 14975,
      "upload_time": "2017-04-18T14:21:28",
      "url": "https://files.pythonhosted.org/packages/41/54/ec8dee4cad9e5c7f0e4bcc80452962e0f34ab4f5b4bba4cf93d89a03d9e6/django_pgviews-0.4.0-py2.py3-none-any.whl"
    }
  ]
}
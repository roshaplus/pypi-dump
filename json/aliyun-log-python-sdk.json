{
  "info": {
    "author": "Aliyun",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 2.6",
      "Programming Language :: Python :: 2.7",
      "Programming Language :: Python :: 3.3",
      "Programming Language :: Python :: 3.4",
      "Programming Language :: Python :: 3.5",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: Implementation :: PyPy"
    ],
    "description": "User Guide (\u4e2d\u6587)\n=================\n\n|Documentation Status| |Pypi Version| |Travis CI| |Development Status|\n|Python version| |License|\n\n`README in\nEnglish <https://github.com/aliyun/aliyun-log-python-sdk/blob/master/README.md>`__\n\n\u57fa\u672c\u4ecb\u7ecd\n--------\n\n\u8fd9\u662fLog Service SDK for Python\u7684\u5f00\u6e90\u7248\u672c\u3002Log Service SDK for\nPython\u662f\u963f\u91cc\u4e91\u65e5\u5fd7\u670d\u52a1 \uff08Log Service\uff09API\u7684Python\u7f16\u7a0b\u63a5\u53e3\uff0c\u63d0\u4f9b\u4e86\u5bf9\u4e8eLog\nService Rest API\u6240\u6709\u63a5\u53e3\u7684\u5c01\u88c5\n\u548c\u652f\u6301\uff0c\u5e2e\u52a9Python\u5f00\u53d1\u4eba\u5458\u66f4\u5feb\u7f16\u7a0b\u4f7f\u7528\u963f\u91cc\u4e91Log Service\u670d\u52a1\u3002\n\n\u5177\u4f53\u529f\u80fd\n~~~~~~~~\n\n1. \u5c01\u88c5Rest API\u3002\n2. \u5b9e\u73b0API\u8bf7\u6c42\u7684\u6570\u5b57\u7b7e\u540d\n3. \u5b9e\u73b0API\u7684Protocol Buffer\u683c\u5f0f\u53d1\u9001\u65e5\u5fd7\n4. \u652f\u6301API\u5b9a\u4e49\u7684\u6570\u636e\u538b\u7f29\u65b9\u5f0f\n5. \u5b9e\u73b0API\u67e5\u8be2\u6570\u636e\u548c\u6279\u91cf\u6d88\u8d39\u6570\u636e\n6. \u4f7f\u7528\u5f02\u5e38\u7edf\u4e00\u5904\u7406\u9519\u8bef\n7. \u63d0\u4f9b\u6d88\u8d39\u7ec4\u9ad8\u7ea7API\n\n\u652f\u6301Python\u7248\u672c\n~~~~~~~~~~~~~~\n\n1. Python 2.6\n2. Python 2.7\n3. Python 3.3\n4. Python 3.4\n5. Python 3.5\n6. Python 3.6\n7. Pypy2\n8. Pypy3\n\n\u652f\u6301API\u7248\u672c\n~~~~~~~~~~~\n\n1. Log Service API 0.6\n\n\u5b89\u88c5\n----\n\n.. code:: shell\n\n    pip install -U aliyun-log-python-sdk\n\n\u4ee3\u7801\u793a\u4f8b\n--------\n\n-  `\u4ee3\u7801\u793a\u4f8b <https://github.com/aliyun/aliyun-log-python-sdk/tree/master/tests>`__\n\n\u914d\u7f6eSDK\n-------\n\n\u53c2\u8003\\ `SDK\u914d\u7f6e <https://help.aliyun.com/document_detail/29064.html?spm=5176.doc29068.2.8.SWJhYZ>`__\n\u83b7\u5f97\u8bbf\u95ee\u79d8\u94a5\u7684ID\u548cKey\u4ee5\u53ca\u8bbf\u95ee\u5165\u53e3Endpoint, \u6784\u5efa\u4e00\u4e2aLogClient\u7684\u5ba2\u6237\u7aef.\n\n.. code:: python\n\n    from aliyun.log import LogClient\n\n    # \u201c\u534e\u4e1c 1 (\u676d\u5dde)\u201d Region \u7684\u65e5\u5fd7\u670d\u52a1\u5165\u53e3\u3002\n    endpoint = 'cn-hangzhou.sls.aliyuncs.com'\n    # \u7528\u6237\u8bbf\u95ee\u79d8\u94a5\u5bf9\u4e2d\u7684 AccessKeyId\u3002\n    accessKeyId = 'ABCDEFGHIJKLJMN'\n    # \u7528\u6237\u8bbf\u95ee\u79d8\u94a5\u5bf9\u4e2d\u7684 AccessKeySecret\u3002\n    accessKey = 'OPQRSTUVWXYZ'\n\n    client = LogClient(endpoint, accessKeyId, accessKey)\n    # \u4f7f\u7528client\u7684\u65b9\u6cd5\u6765\u64cd\u4f5c\u65e5\u5fd7\u670d\u52a1\n\n\u6570\u636e\u91c7\u96c6\u914d\u7f6e\n------------\n\n\u7ba1\u7406\u65e5\u5fd7\u9879\u76ee\n~~~~~~~~~~~~\n\n-  \u83b7\u53d6\u5217\u8868\n\n   \u5217\u51fa\u672cregion\u4e0b\u9762\u7684\u6240\u6709\u53ef\u89c1\u9879\u76ee:\n\n   .. code:: python\n\n       res = client.list_project()\n       res.log_print()\n\n   **\u6ce8\u610f\uff1a**\n   \u9ed8\u8ba4\u83b7\u53d6100\u4e2a\u9879\u76ee\uff0c\u901a\u8fc7\u4f20\u5165\u53c2\u6570\\ ``offset``\\ \u548c\\ ``size``\\ \u6765\u83b7\u53d6\u66f4\u591a\n\n-  \u83b7\u53d6\u4fe1\u606f \u83b7\u53d6\u5355\u4e2a\u9879\u76ee\u7684\u8f83\u4e3a\u8be6\u7ec6\u7684\u4fe1\u606f.\n\n   .. code:: python\n\n       res = client.get_project('project1')\n       res.log_print()\n\n-  \u521b\u5efa\n\n   .. code:: python\n\n       res = client.create_project(\"new_project\", \"a simple project\"\")\n       res.log_print()\n\n-  \u5220\u9664\n\n   .. code:: python\n\n       res = client.delete_project(\"project1\")\n       res.log_print()\n\n   **\u6ce8\u610f\uff1a** \u53ea\u80fd\u5220\u9664\u7a7a\u7684\u9879\u76ee.\n\n-  \u590d\u5236 \u590d\u5236\u4e00\u4e2a\u9879\u76ee\u7684\u6240\u6709\u65e5\u5fd7\u5e93\u548c\u76f8\u5e94\u7684\u914d\u7f6e(\u5305\u62ec\u673a\u5668\u7ec4\u5408\u7d22\u5f15\u7b49),\n   \u8981\u6c42\u76ee\u6807\u9879\u76ee\u4e0d\u5b58\u5728.\n\n   .. code:: python\n\n       res = client.copy_project(\"project1\", \"project2\")\n       res.log_print()\n\n\u7ba1\u7406\u65e5\u5fd7\u5e93(logstore)\n~~~~~~~~~~~~~~~~~~~~\n\n\u65e5\u5fd7\u5e93\u5c5e\u4e8e\u67d0\u4e00\u4e2a\u9879\u76ee, \u6240\u6709\u7684\u64cd\u4f5c\u90fd\u9700\u8981\u4f20\u5165\u9879\u76ee\u540d\u79f0.\n\n-  \u83b7\u53d6\u5217\u8868 \u83b7\u53d6\u4e00\u4e2a\u9879\u76ee\u4e0b\u7684\u6240\u6709\u65e5\u5fd7\u5e93\uff1a\n\n   .. code:: python\n\n       from aliyun.log import ListLogstoresRequest\n       request = ListLogstoresRequest('project1')\n       res = client.list_logstores(request)\n       res.log_print()\n\n-  \u521b\u5efa \u521b\u5efa\u4e00\u4e2a\u65e5\u5fd7\u5e93\uff1a\n\n   .. code:: python\n\n       res = client.create_logstore('project1', 'logstore1', ttl=30, shard_count=3)\n       res.log_print()\n\n   **\u6ce8\u610f\uff1a**\n   \u53c2\u6570\\ ``ttl``\\ \u548c\\ ``shard_count``\\ \u8868\u793a\u65e5\u5fd7\u5b58\u50a8\u65e5\u671f\u548c\u5206\u533a\u6570\u91cf.\n\n-  \u83b7\u53d6\u4fe1\u606f \u83b7\u53d6\u5355\u4e2a\u65e5\u5fd7\u5e93\u8f83\u4e3a\u8be6\u7ec6\u7684\u4fe1\u606f.\n\n   .. code:: python\n\n       res = client.get_logstore('project1', 'logstore1')\n       res.log_print()\n\n-  \u5220\u9664 \u901a\u8fc7\\ ``delete_logstore``\\ \u5220\u9664\u65e5\u5fd7\u5e93\n\n-  \u66f4\u65b0 \u901a\u8fc7\\ ``update_logstore``\\ \u5220\u9664\u65e5\u5fd7\u5e93\n\n\u7ba1\u7406\u65e5\u5fd7\u5e93\u5206\u533a(shard)\n~~~~~~~~~~~~~~~~~~~~~\n\n\u5206\u533a\u5c5e\u4e8e\u67d0\u4e00\u4e2a\u65e5\u5fd7\u5e93, \u6240\u6709\u7684\u64cd\u4f5c\u90fd\u9700\u8981\u4f20\u5165\u9879\u76ee\u540d\u79f0\u548c\u65e5\u5fd7\u5e93\u540d\u79f0.\n\n-  \u83b7\u53d6\u5217\u8868 \u901a\u8fc7\\ ``list_shards``\\ \u83b7\u53d6\u5217\u8868\n\n-  \u5206\u88c2 \u901a\u8fc7\\ ``split_shard``\\ \u5206\u88c2\u5206\u533a\n\n-  \u5408\u5e76 \u901a\u8fc7\\ ``merge_shard``\\ \u5408\u5e76\u5206\u533a\n\n\u7ba1\u7406\u65e5\u5fd7\u5e93Logtail\u914d\u7f6e\n~~~~~~~~~~~~~~~~~~~~~\n\nLogtail\u7684\u914d\u7f6e\u62e5\u6709\u72ec\u7acb\u7684\u540d\u5b57, \u4f46\u5176\u4e0e\u65e5\u5fd7\u5e93(logstore)\u4e00\u822c\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u5173\u7cfb.\n\n-  \u83b7\u53d6\u5217\u8868 \u5217\u51fa\u672c\u9879\u76ee\u4e0b\u6240\u6709Logtail\u7684\u914d\u7f6e\u540d\u5355:\n\n   .. code:: python\n\n       res = client.list_logtail_config('project1')\n       res.log_print()\n\n   **\u6ce8\u610f\uff1a**\n   \u9ed8\u8ba4\u83b7\u53d6100\u4e2a\u914d\u7f6e\u9879\uff0c\u901a\u8fc7\u4f20\u5165\u53c2\u6570\\ ``offset``\\ \u548c\\ ``size``\\ \u6765\u83b7\u53d6\u66f4\u591a\n\n   **\u8f93\u51fa\uff1a**\n\n   .. code:: json\n\n       {\"count\": 2, \"configs\": [\"config_name1\", \"config_name2\"], \"total\": 2}\n\n-  \u521b\u5efa \u521b\u5efa\u4e00\u4e2aLogtail\u914d\u7f6e, \u5e76\u5173\u8054\u5230\u65e5\u5fd7\u5e93\u4e0a:\n\n   .. code:: python\n\n       from aliyun.log import LogtailConfigHelper as helper\n       config_detail_json = {\n             \"config_name\": \"config_name1\",\n             \"logstore_name\": \"logstore1\",\n             \"file_pattern\": \"file_pattern\",\n             \"time_format\": \"time_format\",\n             \"log_path\": \"/log_path\",\n             \"endpoint\": \"endpoint\",\n             \"log_parse_regex\": \"xxx ([\\\\w\\\\-]+\\\\s[\\\\d\\\\:]+)\\\\s+(.*)\",\n             \"log_begin_regex\": \"xxx.*\",\n             \"reg_keys\": [\n               \"time\",\n               \"value\"\n             ],\n             \"topic_format\": \"none\",\n             \"filter_keys\": [\n               \"time\",\n               \"value\"\n             ],\n             \"filter_keys_reg\": [\n               \"time\",\n               \"value\"\n             ],\n             \"logSample\": \"xxx 2017-11-11 11:11:11 hello alicloud.\"\n           }\n       request = helper.generate_common_reg_log_config(config_detail)\n       res = client.create_logtail_config('project1', request)\n       res.log_print()\n\n   **\u6ce8\u610f\uff1a**\n\n   -  \u521b\u5efa\u7684\u914d\u7f6e\u7684\u540d\u5b57\\ ``config_name``\\ \u548c\u5173\u8054\u7684\u65e5\u5fd7\u5e93\u540d\u5b57\\ ``logstore_name``\\ \u90fd\u662f\u653e\u5728\u4f20\u5165\u7684\\ ``request``\\ \u4e2d.\n   -  \u521b\u5efa\u7684Logtail\u7684\u914d\u7f6e\u8fd8\u6ca1\u6709\u5e94\u7528\u5230\u4efb\u4f55\u4e00\u4e2a\u673a\u5668\u7ec4,\n      \u9700\u8981\u8c03\u7528\u540e\u9762\u7684API\\ ``apply_config_to_machine_group``\\ \u6765\u8fdb\u884c\u914d\u7f6e.\n\n-  \u83b7\u53d6\u4fe1\u606f \u83b7\u53d6Logtail\u914d\u7f6e\u7684\u5177\u4f53\u4fe1\u606f:\n\n   .. code:: python\n\n       res = client.get_logtail_config('project1', 'config1')\n       res.log_print()\n\n-  \u4fee\u6539 \u901a\u8fc7\\ ``update_logtail_config``\\ \u6765\u4fee\u6539Logtail\u914d\u7f6e.\n\n-  \u5220\u9664 \u901a\u8fc7\\ ``delete_logtail_config``\\ \u6765\u5220\u9664Logtail\u914d\u7f6e.\n\n\u7ba1\u7406\u673a\u5668\u7ec4\n~~~~~~~~~~\n\n\u673a\u5668\u7ec4(MachineGroup)\u4e3b\u8981\u662f\u7528\u4e8e\u5e94\u7528Logtail\u914d\u7f6e\u7684.\n\u5176\u4e0eLogtail\u914d\u7f6e\u7684\u5173\u7cfb\u662f\u591a\u5bf9\u591a\u7684\u5173\u7cfb.\n\u4e00\u4e2aLogtail\u914d\u7f6e\u53ef\u4ee5\u5e94\u7528\u5230\u591a\u4e2a\u673a\u5668\u7ec4\u4e0a,\n\u653e\u7f6e\u4e00\u4e2a\u673a\u5668\u7ec4\u4e5f\u53ef\u4ee5\u5e94\u7528\u591a\u4e2aLogtail\u914d\u7f6e.\n\n-  \u83b7\u53d6\u5217\u8868 \u5217\u51fa\u672c\u9879\u76ee\u4e0b\u6240\u6709\u673a\u5668\u7ec4\u7684\u540d\u5355:\n\n   .. code:: python\n\n       res = client.list_machine_group('project1')\n       res.log_print()\n\n   **\u6ce8\u610f\uff1a**\n   \u9ed8\u8ba4\u83b7\u53d6100\u4e2a\u673a\u5668\u7ec4\uff0c\u901a\u8fc7\u4f20\u5165\u53c2\u6570\\ ``offset``\\ \u548c\\ ``size``\\ \u6765\u83b7\u53d6\u66f4\u591a\n\n   **\u8f93\u51fa\uff1a**\n\n   .. code:: json\n\n       {\"count\": 2, \"machinegroups\": [\"group_name1\", \"group_name2\"], \"total\": 2}\n\n-  \u521b\u5efa \u521b\u5efa\u4e00\u4e2a\u673a\u5668\u7ec4:\n\n   .. code:: python\n\n       from aliyun.log import MachineGroupDetail\n       config_detail_json = {\n           \"group_name\": \"group_name1\",\n           \"machine_list\": [\n             \"machine1\",\n             \"machine2\"\n           ],\n           \"machine_type\": \"userdefined\",\n           \"group_type\": \"Armory\",\n           \"group_attribute\": {\n             \"externalName\": \"ex name\",\n             \"groupTopic\": \"topic x\"\n           }\n         }\n\n       request = MachineGroupDetail()\n       request.from_json(config_detail_json)\n       res = client.create_machine_group('project1', request)\n       res.log_print()\n\n   **\u6ce8\u610f\uff1a**\n\n   -  \u521b\u5efa\u7684\u673a\u5668\u7ec4\u7684\u540d\u5b57\\ ``group_name``\\ \u662f\u653e\u5728\u4f20\u5165\u7684\\ ``request``\\ \u4e2d.\n   -  \u521b\u5efa\u7684\u673a\u5668\u7ec4\u8fd8\u6ca1\u6709\u5e94\u7528\u5230\u4efb\u4f55\u4e00\u4e2aLogtail\u914d\u7f6e,\n      \u9700\u8981\u8c03\u7528\u540e\u9762\u7684API\\ ``apply_config_to_machine_group``\\ \u6765\u8fdb\u884c\u914d\u7f6e.\n\n-  \u83b7\u53d6\u4fe1\u606f \u83b7\u53d6\u673a\u5668\u7ec4\u7684\u5177\u4f53\u4fe1\u606f:\n\n   .. code:: python\n\n       res = client.get_machine_group('project1', 'group1')\n       res.log_print()\n\n-  \u4fee\u6539 \u901a\u8fc7\\ ``update_logtail_config``\\ \u6765\u4fee\u6539Logtail\u914d\u7f6e.\n\n-  \u5220\u9664 \u901a\u8fc7\\ ``delete_logtail_config``\\ \u6765\u5220\u9664Logtail\u914d\u7f6e.\n\n\u5173\u8054Logtail\u914d\u7f6e\u5230\u673a\u5668\u7ec4\n~~~~~~~~~~~~~~~~~~~~~~~\n\n\u673a\u5668\u7ec4\u4e0eLogtail\u914d\u7f6e\u7684\u5173\u7cfb\u662f\u591a\u5bf9\u591a\u7684\u5173\u7cfb.\n\u4e00\u4e2aLogtail\u914d\u7f6e\u53ef\u4ee5\u5e94\u7528\u5230\u591a\u4e2a\u673a\u5668\u7ec4\u4e0a,\n\u53cd\u4e4b\u4e00\u4e2a\u673a\u5668\u7ec4\u4e5f\u53ef\u4ee5\u5e94\u7528\u591a\u4e2aLogtail\u914d\u7f6e.\n\n-  \u5e94\u7528Logtail\u914d\u7f6e\u5230\u7279\u5b9a\u673a\u5668\u7ec4\n\n   .. code:: python\n\n       res = client.apply_config_to_machine_group('project1', 'config1', 'group1')\n       res.log_print()\n\n-  \u53bb\u9664\u673a\u5668\u7ec4\u7684Logtail\u914d\u7f6e\n\n   .. code:: python\n\n       res = client.remove_config_to_machine_group('project1', 'config1', 'group1')\n       res.log_print()\n\n-  \u83b7\u53d6Logtail\u914d\u7f6e\u5e94\u7528\u5230\u7684\u673a\u5668\u7ec4\u540d\u5355\n\n   .. code:: python\n\n       res = client.get_config_applied_machine_groups('project1', 'config1')\n       res.log_print()\n\n   **\u8f93\u51fa\uff1a**\n\n   .. code:: json\n\n       {\"count\": 2, \"machinegroups\": [\"group1\", \"group2\"]}\n\n-  \u83b7\u53d6\u673a\u5668\u7ec4\u5e94\u7528\u7684Logtail\u914d\u7f6e\u540d\u5355\n\n   .. code:: python\n\n       res = client.get_machine_group_applied_configs('project1', 'group1')\n       res.log_print()\n\n   **\u8f93\u51fa\uff1a**\n\n   .. code:: json\n\n       {\"count\": 2, \"configs\": [\"config1\", \"config2\"]}\n\n\u65e5\u5fd7\u5e93\u7d22\u5f15\u7ba1\u7406\n~~~~~~~~~~~~~~\n\n\u53ea\u6709\u914d\u7f6e\u4e86\u7d22\u5f15\u7684\u65e5\u5fd7\u5e93\u624d\u80fd\u4f7f\u7528SQL\u67e5\u8be2\u65e5\u5fd7.\n\n-  \u521b\u5efa \u7ed9\u4e00\u4e2a\u65e5\u5fd7\u5e93\u521b\u5efa\u7d22\u5f15\n   ``python   from aliyun.log import IndexConfig   request_json = {        \"keys\": {          \"f1\": {            \"caseSensitive\": false,            \"token\": [              \",\", \" \", \"\\\"\", \"\\\"\", \";\", \"=\",  \"(\", \")\", \"[\", \"]\",              \"{\", \"}\", \"?\", \"@\", \"&\", \"<\", \">\", \"/\", \":\", \"\\n\", \"\\t\"            ],            \"type\": \"text\",            \"doc_value\": true          },          \"f2\": {            \"doc_value\": true,            \"type\": \"long\"          }        },        \"storage\": \"pg\",        \"ttl\": 2,        \"index_mode\": \"v2\",        \"line\": {          \"caseSensitive\": false,          \"token\": [            \",\", \" \", \"\\\"\", \"\\\"\", \";\", \"=\", \"(\", \")\", \"[\", \"]\", \"{\",            \"}\", \"?\", \"@\", \"&\", \"<\", \">\", \"/\", \":\", \"\\n\", \"\\t\"          ]        }      }   request = IndexConfig()   request.from_json(request_json)   res = client.create_index('project1', 'logstore1', request)   res.log_print()``\n\n-  \u4fee\u6539 \u901a\u8fc7\\ ``update_index``\\ \u4fee\u6539\u65e5\u5fd7\u5e93\u7684\u7d22\u5f15\n\n-  \u83b7\u53d6 \u901a\u8fc7\\ ``get_index_config``\\ \u83b7\u5f97\u65e5\u5fd7\u5e93\u7684\u7d22\u5f15\u914d\u7f6e\n\n-  \u5220\u9664 \u901a\u8fc7\\ ``delete_index``\\ \u5220\u9664\u65e5\u5fd7\u5e93\u7684\u7d22\u5f15\n\n\u5176\u4ed6\u64cd\u4f5c\n~~~~~~~~\n\n-  \u83b7\u53d6\u65e5\u5fd7\u5e93\u4e3b\u9898\u5217\u8868\n\n   .. code:: python\n\n       from aliyun.log import ListTopicsRequest\n       request = ListTopicsRequest('project1', 'logstore1')\n       res = client.list_topic(request)\n       res.log_print()\n\n\u65e5\u5fd7\u6d88\u8d39\n--------\n\n\u6709\u4e09\u79cd\u65b9\u5f0f\u6d88\u8d39\u65e5\u5fd7: 1. \u62c9\u53d6\u6570\u636e(PullLog): \u6839\u636e\u5206\u533a\u6e38\u6807\u6765\u6d88\u8d39\u65e5\u5fd7:\n\u9700\u8981\u6307\u5b9a\u5206\u533a(Shard)\u4ee5\u53ca\u6e38\u6807. 2. \u67e5\u8be2\u6570\u636e(GetLog):\n\u901a\u8fc7\u7d22\u5f15\u67e5\u8be2\u6765\u6d88\u8d39\u65e5\u5fd7: \u9700\u8981\u6307\u5b9a\u65e5\u5fd7\u65f6\u95f4\u4ee5\u53ca(\u6216)\u67e5\u8be2\u6761\u4ef6. 3.\n\u5b9e\u65f6\u6d88\u8d39(Consumer Group): \u7b2c\u4e00\u79cd\u7684\u9ad8\u7ea7\u65b9\u5f0f, \u901a\u8fc7\u670d\u52a1\u5668\u652f\u6301\u7684\u6d88\u8d39\u7ec4,\n\u6765\u5e76\u53d1\u53ef\u9760\u7684\u5feb\u901f\u62c9\u53d6\u65e5\u5fd7.\n\n\u6e38\u6807\u64cd\u4f5c\n~~~~~~~~\n\n\u62c9\u53d6\u6570\u636e\u9700\u8981\u4f20\u5165\u6e38\u6807\u548c\u5206\u533a,\n\u83b7\u53d6\u5206\u533a\u53ef\u4ee5\u53c2\u8003\u524d\u9762\u7684\\ ``\u7ba1\u7406\u65e5\u5fd7\u5e93\u5206\u533a(shard)``, \u8fd9\u91cc\u4ecb\u7ecd\u6e38\u6807\u64cd\u4f5c.\n\n-  \u83b7\u53d6\u5f00\u5934\u6e38\u6807 \u83b7\u53d6\u65e5\u5fd7\u5e93\u7279\u5b9a\u5206\u533a\u7684\u6700\u5f00\u5934\u7684\u6e38\u6807.\n\n   .. code:: python\n\n       res = client.get_begin_cursor('project1', 'logstore1', shard_id=0)\n       print(res.get_cursor())\n\n-  \u83b7\u53d6\u7ed3\u5c3e\u6e38\u6807 \u83b7\u53d6\u65e5\u5fd7\u5e93\u7279\u5b9a\u5206\u533a\u7684\u7ed3\u5c3e\u7684\u6e38\u6807.\n\n   .. code:: python\n\n       res = client.get_end_cursor('project1', 'logstore1', shard_id=0)\n       print(res.get_cursor())\n\n-  \u83b7\u53d6\u7279\u5b9a\u65f6\u95f4\u7684\u6e38\u6807 \u53ef\u4ee5\u7279\u5b9a\u65e5\u5fd7\u5e93\u5206\u533a\u7684\u7279\u5b9a\u63a5\u53d7\u65f6\u95f4\u6700\u63a5\u8fd1\u7684\u4e00\u4e2a\u6e38\u6807.\n\n   .. code:: python\n\n       res = client.get_cursor('project1', 'logstore1', shard_id=0, start_time=1510837205)\n       print(res.get_cursor())\n\n-  \u83b7\u53d6\u6e38\u6807\u65f6\u95f4 \u83b7\u5f97\u7279\u5b9a\u65e5\u5fd7\u5e93\u5206\u533a\u7684\u67d0\u4e2a\u6e38\u6807\u8bf4\u5bf9\u5e94\u7684\u670d\u52a1\u5668\u65f6\u95f4,\n   \u5982\u679c\u662f\u7ed3\u5c3e\u6e38\u6807, \u4e00\u822c\u5bf9\u5e94\u4e8e\u670d\u52a1\u5668\u7684\u7684\u5f53\u524d\u65f6\u95f4.\n\n   .. code:: python\n\n       res = client.get_begin_cursor('project1', 'logstore1', shard_id=0)\n       res = client.get_cursor_time('project1', 'logstore1', shard_id=0, cursor=res.get_cursor())\n       print(res.get_cursor_time())\n\n-  \u83b7\u53d6\u6e38\u6807\u65f6\u95f4\n   \u83b7\u5f97\u7279\u5b9a\u65e5\u5fd7\u5e93\u5206\u533a\u7684\u67d0\u4e2a\u6e38\u6807\u7684\u4e0a\u4e00\u4e2a\u6e38\u6807\u6240\u5bf9\u5e94\u7684\u670d\u52a1\u5668\u65f6\u95f4,\n   \u5982\u679c\u662f\u5f00\u5934\u6e38\u6807, \u5219\u5bf9\u5e94\u4e8e\u670d\u52a1\u5668\u7684\u7684\u5f00\u5934\u6e38\u6807\u7684\u65f6\u95f4.\n\n   .. code:: python\n\n       res = client.get_end_cursor('project1', 'logstore1', shard_id=0)\n       res = client.get_previous_cursor_time('project1', 'logstore1', shard_id=0, cursor=res.get_cursor())\n       print(res.get_cursor_time())\n\n\u62c9\u53d6(Pull)\u6570\u636e\n~~~~~~~~~~~~~~\n\n\u6839\u636e\u6e38\u6807\u83b7\u53d6\u6570\u636e, \u9700\u8981\u4f20\u5165\u5206\u533a.\n\u4e0b\u9762\u4f8b\u5b50\u6d88\u8d39\u5206\u533a\\ ``0``\\ \u4e00\u4e2a\u5c0f\u65f6\u524d\u6536\u96c6\u5230\u7684\u6570\u636e.\n\n.. code:: python\n\n    from time import time\n    res = client.get_cursor('project1', 'logstore1', shard_id=0, start_time=int(time())-3600)\n    res = client.pull_logs('project1', 'logstore1', shard_id=0, cursor=res.get_cursor())\n    res.log_print()\n\n**\u6ce8\u610f\uff1a** \u9ed8\u8ba4\u83b7\u53d61000\u6761, \u53ef\u4ee5\u901a\u8fc7\u53c2\u6570\\ ``count``\\ \u6765\u8c03\u8282.\n\u4e5f\u53ef\u4ee5\u901a\u8fc7\u53c2\u6570\\ ``end_cursor``\\ \u6765\u8bbe\u5b9a\u8bbe\u5b9a\u4e00\u4e2a\u7ed3\u675f\u7684\u6e38\u6807.\n\n\u83b7\u53d6(Get)\u6570\u636e\n~~~~~~~~~~~~~\n\n\u6839\u636e\u7d22\u5f15\u83b7\u53d6\u6570\u636e, \u9700\u8981\u4f20\u5165\u65f6\u95f4\u8303\u56f4, \u4e5f\u53ef\u4ee5\u4f20\u5165\u67e5\u8be2\u8bed\u53e5.\n\u4e0b\u9762\u7684\u4f8b\u5b50\u67e5\u8be2\u65f6\u95f4\u662f\u8fc7\u53bb\u4e00\u5c0f\u65f6\u7684\u65e5\u5fd7.\n\n.. code:: python\n\n    from time import time\n    from aliyun.log import GetLogsRequest\n    request_json = {\n      \"project\": \"project1\",\n      \"logstore\": \"logstore1\",\n      \"topic\": \"\",\n      \"toTime\": str(int(time())),\n      \"offset\": \"0\",\n      \"query\": \"*\",\n      \"line\": \"100\",\n      \"fromTime\": str(int(time()-3600)),\n      \"reverse\": \"false\"\n    }\n    request = GetLogsRequest(\"project1\", \"logstore1\", fromTime=int(time()-3600), toTime=int(time()), topic='', query=\"*\", line=1000, offset=0, reverse=False)\n    res = client.get_logs(request)\n    res.log_print()\n\n\u83b7\u53d6\u6570\u636e\u5206\u5e03\u56fe\n~~~~~~~~~~~~~~\n\n\u901a\u8fc7\\ ``get_histograms``\\ \u6765\u6839\u636e\u7d22\u5f15\u83b7\u53d6\u6570\u636e\u7279\u5b9a\u65e5\u5fd7\u65f6\u95f4\u8303\u56f4\u5185\u7684\u5206\u5e03\u56fe.\n\n\u5b9e\u65f6\u6d88\u8d39\n--------\n\n\u901a\u8fc7\u6d88\u8d39\u7ec4(Consumer Group)\u53ef\u4ee5\u83b7\u5f97\u53ef\u4fdd\u969c\u7684\u81ea\u52a8\u6269\u5c55\u7684\u65e5\u5fd7\u6d88\u8d39\u670d\u52a1.\n\n\u9ad8\u7ea7\u63a5\u53e3\n~~~~~~~~\n\n1. \u6784\u5efa\u6d88\u8d39\u903b\u8f91\n\n   \u7ee7\u627f\u7c7b\\ ``ConsumerProcessorBase``\\ \u91cd\u5199\u65b9\u6cd5\\ ``initialize``,\n   ``process``\\ \u548c\\ ``shutdown``\\ \u5b9a\u4e49\u7279\u5b9a\u903b\u8f91.\n\n   \\```python from aliyun.log.consumer import ConsumerProcessorBase\n\n   class SampleConsumer(ConsumerProcessorBase): def initialize(self,\n   shard): pass\n\n   ::\n\n        def process(self, log_groups, check_point_tracker):\n            for log_group in log_groups.LogGroups:\n                items = []\n                for log in log_group.Logs:\n                    item = dict()\n                    item['time'] = log.Time\n                    for content in log.Contents:\n                        item[content.Key] = content.Value\n                    items.append(item)\n                log_items = dict()\n                log_items['topic'] = log_group.Topic\n                log_items['source'] = log_group.Source\n                log_items['logs'] = items\n\n                # \u6253\u5370\u65e5\u5fd7\n                print(log_items)\n\n            check_point_tracker.save_check_point(True)\n\n\n        def shutdown(self, check_point_tracker):\n            check_point_tracker.save_check_point(True)\n\n   \\``\\`\n\n2. \u6784\u5efa\u6d88\u8d39\u5de5\u4f5c\u8005\n\n   \u8fd9\u91cc\u5728\u540c\u4e00\u6d88\u8d39\u7ec4\u4e0b\u51c6\u59072\u4e2a\u6d88\u8d39\u8005\u7684\u914d\u7f6e\u9879:\n\n   \\```python from aliyun.log.consumer import LogHubConfig,\n   CursorPosition\n\n   # \u51c6\u5907\u914d\u7f6e\u9879 option1 = LogHubConfig(endpoint, access_id, access_key,\n   \u201cproject1\u201d, \u201clogstore1\u201d, \u201cconsume_group1\u201d, \u201cconsumer A\u201d,\n   CursorPosition.BEGIN_CURSOR) option2 = LogHubConfig(endpoint,\n   access_id, access_key, \u201cproject1\u201d, \u201clogstore1\u201d, \u201cconsume_group1\u201d,\n   \u201cconsumer B\u201d, CursorPosition.BEGIN_CURSOR) \\``\\`\n\n   \u6784\u5efa\u4e24\u4e2a\u5de5\u4f5c\u8005:\n\n   ``python  worker1 = ConsumerWorker(SampleConsumer, option1)  worker2 = ConsumerWorker(SampleConsumer, option2)``\n\n3. \u542f\u52a8\u5173\u95ed\u5de5\u4f5c\u8005\n\n   \\```python # \u542f\u52a8 worker1.start() worker2.start()\n\n   time.sleep(60)\n\n   # \u5173\u95ed worker1.shutdown() worker2.shutdown() \\``\\`\n\n\u57fa\u7840\u63a5\u53e3\n~~~~~~~~\n\n\u9ad8\u7ea7\u63a5\u53e3\u5df2\u7ecf\u5bf9\u57fa\u7840\u63a5\u53e3\u8fdb\u884c\u4e86\u5c01\u88c5.\n\u4e2a\u522b\u60c5\u51b5\u4e0b\u4e5f\u53ef\u4ee5\u901a\u8fc7\u57fa\u7840\u63a5\u53e3\u8fdb\u884c\u4e00\u4e9b\u7279\u5b9a\u7684\u64cd\u4f5c.\n\n-  \u83b7\u53d6\u5217\u8868 \u901a\u8fc7\\ ``list_consumer_group``\\ h\u83b7\u5f97\u5f53\u524d\u6d88\u8d39\u7ec4\u5217\u8868.\n\n-  \u521b\u5efa \u901a\u8fc7\\ ``create_consumer_group``\\ \u521b\u5efa\u4e00\u4e2a\u6d88\u8d39\u7ec4.\n\n-  \u66f4\u65b0 \u901a\u8fc7\\ ``update_consumer_group``\\ \u66f4\u65b0\u4e00\u4e2a\u6d88\u8d39\u7ec4,\n   \u4f8b\u5982\u5ef6\u8fdf\u548c\u6d88\u8d39\u987a\u5e8f\u7b49.\n\n-  \u5220\u9664 \u901a\u8fc7\\ ``delete_consumer_group``\\ \u5220\u9664\u4e00\u4e2a\u6d88\u8d39\u7ec4.\n\n-  \u83b7\u53d6\u6d88\u8d39\u8fdb\u5ea6\n   \u53ef\u4ee5\u901a\u8fc7\\ ``get_check_point``\\ \u83b7\u5f97\u6d88\u8d39\u7ec4\u7684\u6d88\u8d39\u68c0\u67e5\u70b9(Checkpoint),\n   \u6765\u4e86\u89e3\u6d88\u8d39\u8fdb\u5ea6\u4fe1\u606f\n\n-  \u66f4\u65b0\u6d88\u8d39\u8fdb\u5ea6\n   \u6d88\u8d39\u8005\u9700\u8981\u901a\u8fc7\\ ``update_check_point``\\ \u6765\u5b58\u50a8\u548c\u66f4\u65b0\u6d88\u8d39\u68c0\u67e5\u70b9(Checkpoint)\n\n\u6295\u9012\u7ba1\u7406\n--------\n\n\u6295\u9012\u7684\u914d\u7f6e\u4e00\u822c\u79f0\u4e3aJob, \u5305\u542b\u4e86\u6295\u9012\u7684\u5177\u4f53\u914d\u7f6e\u4ee5\u53ca\u8c03\u5ea6\u65e5\u7a0b\u5b89\u6392.\n\u800c\u67d0\u4e00\u4e2a\u5177\u4f53\u65f6\u95f4\u7684\u8fd0\u884c\u5b9e\u4f8b\u79f0\u4e3aTask.\n\n-  \u83b7\u53d6\u914d\u7f6e\u5217\u8868 \u901a\u8fc7\\ ``list_shipper``\\ \u83b7\u53d6\u6295\u9012\u914d\u7f6e\u7684\u5217\u8868\n\n-  \u521b\u5efa\u914d\u7f6e \u901a\u8fc7\\ ``create_shipper``\\ \u521b\u5efa\u4e00\u4e2a\u6295\u9012\u914d\u7f6e.\n\n-  \u83b7\u53d6\u914d\u7f6e \u901a\u8fc7\\ ``get_shipper_config``\\ \u83b7\u53d6\u4e00\u4e2a\u6295\u9012\u914d\u7f6e\u7684\u5177\u4f53\u4fe1\u606f.\n\n-  \u66f4\u65b0\u914d\u7f6e \u901a\u8fc7\\ ``update_shipper``\\ \u66f4\u65b0\u4e00\u4e2a\u6295\u9012\u914d\u7f6e.\n\n-  \u5220\u9664\u914d\u7f6e \u901a\u8fc7\\ ``delete_shipper``\\ \u5220\u9664\u4e00\u4e2a\u6295\u9012\u914d\u7f6e.\n\n-  \u83b7\u53d6\u8fd0\u884c\u5b9e\u4f8b\u5217\u8868 \u901a\u8fc7\\ ``get_shipper_tasks``\\ \u83b7\u53d6\u6295\u9012\u8fd0\u884c\u5b9e\u4f8b.\n\n-  \u91cd\u8bd5\u8fd0\u884c\u5b9e\u4f8b \u901a\u8fc7\\ ``retry_shipper_tasks``\\ \u91cd\u8bd5\u67d0\u4e00\u4e2a\u8fd0\u884c\u5b9e\u4f8b.\n\n\u5176\u4ed6\u8d44\u6e90\uff1a\n----------\n\n1. \u65e5\u5fd7\u670d\u52a1\u4ea7\u54c1\u4ecb\u7ecd\uff1ahttp://www.aliyun.com/product/sls/\n2. \u65e5\u5fd7\u670d\u52a1\u4ea7\u54c1\u6587\u6863\uff1ahttps://help.aliyun.com/product/28958.html\n3. \u5176\u4ed6\u95ee\u9898\u8bf7\u63d0\u5de5\u5355\n\n.. |Documentation Status| image:: https://readthedocs.org/projects/aliyun-log-python-sdk/badge/?version=latest\n   :target: http://aliyun-log-python-sdk.readthedocs.io/?badge=latest\n.. |Pypi Version| image:: https://badge.fury.io/py/aliyun-log-python-sdk.svg\n   :target: https://badge.fury.io/py/aliyun-log-python-sdk\n.. |Travis CI| image:: https://travis-ci.org/aliyun/aliyun-log-python-sdk.svg?branch=master\n   :target: https://travis-ci.org/aliyun/aliyun-log-python-sdk\n.. |Development Status| image:: https://img.shields.io/pypi/status/aliyun-log-python-sdk.svg\n   :target: https://pypi.python.org/pypi/aliyun-log-python-sdk/\n.. |Python version| image:: https://img.shields.io/pypi/pyversions/aliyun-log-python-sdk.svg\n   :target: https://pypi.python.org/pypi/aliyun-log-python-sdk/\n.. |License| image:: https://img.shields.io/badge/license-MIT-blue.svg\n   :target: https://github.com/aliyun/aliyun-log-python-sdk/blob/master/LICENSE",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/aliyun/aliyun-log-python-sdk",
    "keywords": "",
    "license": "",
    "maintainer": "",
    "maintainer_email": "",
    "name": "aliyun-log-python-sdk",
    "platform": "",
    "project_url": "https://pypi.org/project/aliyun-log-python-sdk/",
    "release_url": "https://pypi.org/project/aliyun-log-python-sdk/0.6.10/",
    "requires_dist": [],
    "requires_python": "",
    "summary": "Aliyun log service Python client SDK",
    "version": "0.6.10"
  },
  "releases": {
    "0.6.10": [
      {
        "comment_text": "",
        "digests": {
          "md5": "d95884c71bc9af10b1aae9ef98116dbc",
          "sha256": "aad3716f67071393327bdea1930ca7f3a955d89caa96efc928607d5ea912ced0"
        },
        "downloads": -1,
        "filename": "aliyun-log-python-sdk-0.6.10.tar.gz",
        "has_sig": false,
        "md5_digest": "d95884c71bc9af10b1aae9ef98116dbc",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 42287,
        "upload_time": "2017-11-20T07:35:38",
        "url": "https://files.pythonhosted.org/packages/9d/9b/7428a77a0a9709fbecd120ef05fb9466d8aac82ca747aa9ad27a39c08ec1/aliyun-log-python-sdk-0.6.10.tar.gz"
      }
    ],
    "0.6.4": [
      {
        "comment_text": "",
        "digests": {
          "md5": "1e90ce04b021019427534be4490a38b6",
          "sha256": "e5cbaec243718553bde082f6c00bc0821aacf6ef5b2335f6a8e0508ae0d54b72"
        },
        "downloads": -1,
        "filename": "aliyun-log-python-sdk-0.6.4.tar.gz",
        "has_sig": false,
        "md5_digest": "1e90ce04b021019427534be4490a38b6",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 23359,
        "upload_time": "2017-10-25T03:52:53",
        "url": "https://files.pythonhosted.org/packages/7b/37/3b02594152c549339e2d519e5bb7be134c0bdfcb9690b854736134739ac5/aliyun-log-python-sdk-0.6.4.tar.gz"
      }
    ],
    "0.6.5": [
      {
        "comment_text": "",
        "digests": {
          "md5": "f43eaa73f8bda30bea0de8bcab789a63",
          "sha256": "1e7e3f8d68ddc51351cc03eb0a2899ff2d6919cffa8a98c4c7793fea3196e461"
        },
        "downloads": -1,
        "filename": "aliyun-log-python-sdk-0.6.5.tar.gz",
        "has_sig": false,
        "md5_digest": "f43eaa73f8bda30bea0de8bcab789a63",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 24077,
        "upload_time": "2017-10-30T09:02:28",
        "url": "https://files.pythonhosted.org/packages/82/78/d830aaa01b76b09f6560cea6a9e5e436d06a48ec4e05da9a0fa191fe8ac4/aliyun-log-python-sdk-0.6.5.tar.gz"
      }
    ],
    "0.6.6": [
      {
        "comment_text": "",
        "digests": {
          "md5": "fc9a67852f603933d15f10fd04bd7770",
          "sha256": "90db6b5fedb4890284d6d6fa1f5ceadd0d9795dff971c568b8e4593f15de4403"
        },
        "downloads": -1,
        "filename": "aliyun-log-python-sdk-0.6.6.tar.gz",
        "has_sig": false,
        "md5_digest": "fc9a67852f603933d15f10fd04bd7770",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 32677,
        "upload_time": "2017-11-08T05:16:40",
        "url": "https://files.pythonhosted.org/packages/8e/1b/4d12d911db8addb588743c3dcc7a711830bc11df2a82e72ed07836656e57/aliyun-log-python-sdk-0.6.6.tar.gz"
      }
    ],
    "0.6.7": [
      {
        "comment_text": "",
        "digests": {
          "md5": "6301eaa6f44f3711010951acb5fdb028",
          "sha256": "8b3cf3d4226d095f16c4e41de3e0b04751c1b3e13b79c83d82dcd072fa47128c"
        },
        "downloads": -1,
        "filename": "aliyun-log-python-sdk-0.6.7.tar.gz",
        "has_sig": false,
        "md5_digest": "6301eaa6f44f3711010951acb5fdb028",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 34093,
        "upload_time": "2017-11-15T07:18:51",
        "url": "https://files.pythonhosted.org/packages/08/d1/e0142036eaec1b569640a8aa76476f53872cfca3b54bf57dbe8bf4e46193/aliyun-log-python-sdk-0.6.7.tar.gz"
      }
    ],
    "0.6.8": [
      {
        "comment_text": "",
        "digests": {
          "md5": "3ba28590f788fd2913ab553ff11deb0c",
          "sha256": "ae0430d7da7d0a549ec8a19017f5938fc7b6b6277716a0b7bbf0c31c47f9cb07"
        },
        "downloads": -1,
        "filename": "aliyun-log-python-sdk-0.6.8.tar.gz",
        "has_sig": false,
        "md5_digest": "3ba28590f788fd2913ab553ff11deb0c",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 34664,
        "upload_time": "2017-11-16T09:31:35",
        "url": "https://files.pythonhosted.org/packages/7d/bc/8b1a467480903b8bdfdcd7b3149d54073d23da98751956273942d8f79420/aliyun-log-python-sdk-0.6.8.tar.gz"
      }
    ],
    "0.6.9": [
      {
        "comment_text": "",
        "digests": {
          "md5": "98029607b03ca4374b245a1e25eb88ed",
          "sha256": "83982e81fb6e133c27b8e61fbbcd3bc33ef424d3c9bbd34a0e00594b563b1d4f"
        },
        "downloads": -1,
        "filename": "aliyun-log-python-sdk-0.6.9.tar.gz",
        "has_sig": false,
        "md5_digest": "98029607b03ca4374b245a1e25eb88ed",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 42159,
        "upload_time": "2017-11-17T18:56:33",
        "url": "https://files.pythonhosted.org/packages/81/1e/659cf085d1df405053a50407d12752a1de9ebe84443a2860d07187a1e434/aliyun-log-python-sdk-0.6.9.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "d95884c71bc9af10b1aae9ef98116dbc",
        "sha256": "aad3716f67071393327bdea1930ca7f3a955d89caa96efc928607d5ea912ced0"
      },
      "downloads": -1,
      "filename": "aliyun-log-python-sdk-0.6.10.tar.gz",
      "has_sig": false,
      "md5_digest": "d95884c71bc9af10b1aae9ef98116dbc",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 42287,
      "upload_time": "2017-11-20T07:35:38",
      "url": "https://files.pythonhosted.org/packages/9d/9b/7428a77a0a9709fbecd120ef05fb9466d8aac82ca747aa9ad27a39c08ec1/aliyun-log-python-sdk-0.6.10.tar.gz"
    }
  ]
}
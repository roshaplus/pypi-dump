{
  "info": {
    "author": "Cornelius Grotjahn",
    "author_email": "s1@tempaddr.uk",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "License :: OSI Approved :: MIT License",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: 3 :: Only",
      "Topic :: System :: Archiving :: Backup"
    ],
    "description": "ABuS is a script for backing up (and restoring) your files to a local disk.\n\nThe backups are encrypted, compressed, and deduplicated.\nIt is assumed that another program (e.g. rsync) is used to make off-site\ncopies of the backups (see below).\n\nABuS only backs up file content at the moment. In particular the backups do not\ninclude permissions, symbolic links, hard links, or special files.\n\n| Content of this document:\n|  `Missing Features`_\n|  Installation_\n|  Documentation_\n|   Purging_\n|   `Off-site copies`_\n|   `Configuration file`_\n|   `Command line switches`_\n|  `History`_\n\n\n================\nMissing Features\n================\n\n- Off-site purging\n- Retry if file changes while reading\n- Purging subject to backup archive size\n- Index database outside archive dir\n- \"Flattening\" of restores\n- Restore target directory other than \".\"\n\n\n============\nInstallation\n============\n\n1. Install Python 3.6 from python.org\n\n   - include pip\n   - it helps to add python to path\n\n2. From the command line, \"as administrator\" if python has been\n   installed \"for all users\"::\n\n    c:\\path\\to\\python36\\scripts\\pip install abus\n\n3. Create minimal config file, e.g.::\n\n    logfile c:/my/home/abus.log\n    archive e:/backups\n    password password1234 just kidding!\n    [include]\n    c:/my/home\n\n4. Initialise the backup directory and the index database with::\n\n    c:\\path\\to\\python36\\scripts\\abus.exe -f c:/my/home/abus.cfg --init\n\n5. Add to Task Scheduler::\n\n    c:\\path\\to\\python36\\scripts\\abus.exe -f c:/my/home/abus.cfg --backup\n\n   If there are any problems that prevent abus from getting as far as opening\n   the log file (and Windows permissions can cause many such problems), then\n   use cmd.exe to allow redirection::\n\n    cmd /c\n      c:\\path\\to\\python36\\scripts\\abus.exe -f c:/my/home/abus.cfg --backup\n      >c:\\abus.err 2>&1\n\n\n=============\nDocumentation\n=============\n\nOverview\n++++++++\n\nABuS is a single script for handling backups. Its command line parameters\ndetermine whether the backups are to be created, listed, or restored. The\nbackups are stored in subdirectories of the *backup directory* which must be on\na local filesystem. For off-site copies another program is to be used, for\nexample rsync.\n\n.. note:: Off-site copies must be made correctly to minimise the\n          risk of propagating any local corruption (see below).\n\nA configuration file is used to point to the backup directory, define the backup\nset, and some options. ABuS finds the configuration file either via a command\nline parameter or an environment variable.\n\n\nPurging\n+++++++\n\nOld backup files are deleted after every backup.\nIn order to determine which backups are deleted, time is divided into slots and\nall the latest version of a file in each slot is retained while the others are\nsubject to purging. As slots get old they are combined into bigger slots.\n\nThe configuration file defines the slot sizes using *freq*/*age* pairs of\nnumbers, which define that 1 version in *freq* days is to be retained for\nbackups up to *age* days old.\n\nFor example, the default value defines these pairs as 1/7, 7/30, 28/150. This\nmeans that for each file one version a day is kept from the versions that are up\nto 7 days old, one a week is kept for versions up to 30 days old, and one every\nfour weeks is kept up to 150 days.\n\nThe is also a single slot older than the highest *age* defined, so in the example\nabove one file older than 150 days will be kept as well.\n\n\nOff-site copies\n+++++++++++++++\n\nABuS only backs up to local filesystems. This means that the backups themselves\nare subject to corruption, for example from ramsomware. It is important that\nanother copy of the backup is made and that it fulfills these criteria:\n\n* It must not be on a locally accessible filesystem or network share, so that\n  the machine being backed up cannot corrupt it.\n* Files must never be overwritten, once created, so that any local corruption\n  does not propagate.\n* As a consequence, partially transferred files must be removed at the\n  destination.\n\nRsync example\n-------------\n::\n\n rsync --recursive --ignore-existing            \\\n       --exclude index.sl3 --exclude '*.part'   \\\n       /my/local/backups/  me@offsite:/backups/\n\n``index.sl3`` need not be transferred because it changes and it can be rebuilt\nfrom the static files. Files with ``.part`` extension are backup files that are\ncurrently being written and will be renamed once complete. Excluding them\nensures that incomplete backup files are not transferred.\n\nOff-site purging\n----------------\n\nSince it is not advisable to propagate changed files - and therefor deletions -\nto the off-site copy of the backup files, these must be purged independently.\n\nA mechanism to purge old off-site copies has not been devised yet.\n\n\nConfiguration file\n++++++++++++++++++\n\nThe file has three sections\n\n* parameters at the beginning\n* inclusions\n* exclusions\n\nABuS uses slashes as path separators internally. All filenames given in the\nconfig file or on the command line may use backslashes or slashes; all\nbackslashes are converted to slashes.\n\nParameters\n----------\nThe first word of each line is a parameter name, the following words for the\nvalue. Leading and trailing spaces are trimmed while spaces within the value are\npreserved.\n\n``logfile``\n   Specifies the path of a file to which all log entries are made. The parameter\n   should be given first so that any subsequent errors in the configuration can\n   be reported to the log.\n\n``archive``\n   Specifies the path to the root backup directory containing all backup files\n   and the index database.\n\n``password``\n   Specifies the encryption password to be used for all backup files. The\n   encryption allows copying the backup archive to an off-site location.\n\n``retain``\n   Specifies how old backups are pruned. The keyword is followed by a space-separated list of numbers\n   forming *freq* and *age* pairs, meaning: \"keep one backup per *freq* days for files up to *age* days\n   old\". See Purging_ above.\n\n   The *age* values must not repeat and the *freq* values must be multiples of\n   each other. *freq* can be a float, e.g. ``0.25`` for six hours.\n\n   The rentention values default to::\n\n    retain  1 7  56 150\n\nInclusions\n----------\nA line containing the header ``[include]`` starts the inclusion section,\neach line of which is a directory path which will be backed up recursively.\nThere must be at least one inclusion.\n\nExclusions\n----------\nA line containing the header ``[exclude]`` starts the exclusion section,\neach line of which is a shell global pattern. All file paths that would be\nbacked up (or directory paths that would be searched for files) are skipped if\nthey match any of the patterns.\n\nA * in the patterns also matches the directory separators.\n``*.bak`` ignores any file with the extension .bak;\n``*/~*`` ignores any file or directory starting with a tilde.\n\n\nCommand line switches\n+++++++++++++++++++++\n\nRun ``abus --help`` for details command line switch help.\n\n\n=======\nHistory\n=======\n\nv4 (alpha) 2017-10-22\n\n- feature: purging of old backups\n- fix: -a and -d options didn't work with --list\n- fix: timestamp rounding error at index reconstruction\n- fix: --init could not create backup directory\n\nv3 (alpha) 2017-10-15\n\n- feature: reconstruction of index database from backup meta data\n\nv2 (alpha) 2017-10-07\n\n- not excruciatingly slow any more\n\nv1 (alpha) 2017-10-04\n\n- first version\n\n.. vim:tw=80:ft=rst\n",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "",
    "keywords": "",
    "license": "MIT",
    "maintainer": "",
    "maintainer_email": "",
    "name": "abus",
    "platform": "",
    "project_url": "https://pypi.org/project/abus/",
    "release_url": "https://pypi.org/project/abus/4/",
    "requires_dist": [],
    "requires_python": "",
    "summary": "Abingdon Backup Script",
    "version": "4"
  },
  "releases": {
    "1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "b0966c3a779be5d4bdfe5983c3c16f92",
          "sha256": "99ea0289a5c91f1975b88bc0a1335fe3a338d51fa816896344ddd0a2fa474c84"
        },
        "downloads": -1,
        "filename": "abus-1.tar.gz",
        "has_sig": false,
        "md5_digest": "b0966c3a779be5d4bdfe5983c3c16f92",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 14528,
        "upload_time": "2017-10-04T18:33:33",
        "url": "https://files.pythonhosted.org/packages/a7/28/139344975445be83ff5efdd581bbfcda46bda25aa8e1117edf5904f8cf3a/abus-1.tar.gz"
      }
    ],
    "2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "3c4cb685b33965fb2d823f1c1681960e",
          "sha256": "2fc9e5f4230eb6b628498162016083d1b03be387e7e982187feb3f04664efe0e"
        },
        "downloads": -1,
        "filename": "abus-2.tar.gz",
        "has_sig": false,
        "md5_digest": "3c4cb685b33965fb2d823f1c1681960e",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 16014,
        "upload_time": "2017-10-06T23:22:01",
        "url": "https://files.pythonhosted.org/packages/ef/fc/d2c007ad13efc9b893e766d7d4cfb5f2b00717db4d1a0ce101dc6cc11d77/abus-2.tar.gz"
      }
    ],
    "3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "c788b9eca8a2015c0b3680d1ada0a86f",
          "sha256": "828af29f5bc92e357c5f60b1b2274ca61998d852d1d14ac6681d66f4bf48cc30"
        },
        "downloads": -1,
        "filename": "abus-3.tar.gz",
        "has_sig": false,
        "md5_digest": "c788b9eca8a2015c0b3680d1ada0a86f",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 20828,
        "upload_time": "2017-10-15T22:44:29",
        "url": "https://files.pythonhosted.org/packages/f8/97/b8c4c9576c16bed3c78cc2775ed500daf5ca019c2a0be92c14852ceace76/abus-3.tar.gz"
      }
    ],
    "4": [
      {
        "comment_text": "",
        "digests": {
          "md5": "ac0c826551ad7de9e959a5dc8f34dd92",
          "sha256": "b0b50df31c70b3db7a54e9f9316a2349169475d260060c9e72b6908b6692338a"
        },
        "downloads": -1,
        "filename": "abus-4.tar.gz",
        "has_sig": false,
        "md5_digest": "ac0c826551ad7de9e959a5dc8f34dd92",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 25293,
        "upload_time": "2017-10-22T17:34:56",
        "url": "https://files.pythonhosted.org/packages/f3/9e/92c52d838167a2892eefb4b63b4c8d6b6bc642642f5c43c377d93a482fd6/abus-4.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "ac0c826551ad7de9e959a5dc8f34dd92",
        "sha256": "b0b50df31c70b3db7a54e9f9316a2349169475d260060c9e72b6908b6692338a"
      },
      "downloads": -1,
      "filename": "abus-4.tar.gz",
      "has_sig": false,
      "md5_digest": "ac0c826551ad7de9e959a5dc8f34dd92",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 25293,
      "upload_time": "2017-10-22T17:34:56",
      "url": "https://files.pythonhosted.org/packages/f3/9e/92c52d838167a2892eefb4b63b4c8d6b6bc642642f5c43c377d93a482fd6/abus-4.tar.gz"
    }
  ]
}
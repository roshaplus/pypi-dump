{
  "info": {
    "author": "Mateusz Bysiek",
    "author_email": "mb@mbdev.pl",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 1 - Planning",
      "Environment :: Console",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: Apache Software License",
      "Natural Language :: English",
      "Operating System :: MacOS :: MacOS X",
      "Operating System :: Microsoft :: Windows",
      "Operating System :: POSIX :: Linux",
      "Programming Language :: Python :: 3.4",
      "Programming Language :: Python :: 3.5",
      "Programming Language :: Python :: 3.6",
      "Programming Language :: Python :: 3 :: Only",
      "Topic :: Utilities"
    ],
    "description": ".. role:: bash(code)\n    :language: bash\n\n.. role:: python(code)\n    :language: python\n\n\nPackage version query toolkit for Python\n========================================\n\n.. image:: https://img.shields.io/pypi/v/version-query.svg\n    :target: https://pypi.python.org/pypi/version-query\n    :alt: package version from PyPI\n\n.. image:: https://travis-ci.org/mbdevpl/version-query.svg?branch=master\n    :target: https://travis-ci.org/mbdevpl/version-query\n    :alt: build status from Travis CI\n\n.. image:: https://ci.appveyor.com/api/projects/status/github/mbdevpl/version-query?branch=master&svg=true\n    :target: https://ci.appveyor.com/project/mbdevpl/version-query\n    :alt: build status from AppVeyor\n\n.. image:: https://api.codacy.com/project/badge/Grade/437ab82bd6324530847fe8ed833f8d78\n    :target: https://www.codacy.com/app/mbdevpl/version-query\n    :alt: grade from Codacy\n\n.. image:: https://codecov.io/gh/mbdevpl/version-query/branch/master/graph/badge.svg\n    :target: https://codecov.io/gh/mbdevpl/version-query\n    :alt: test coverage from Codecov\n\n.. image:: https://img.shields.io/pypi/l/version-query.svg\n    :target: https://github.com/mbdevpl/version-query/blob/master/NOTICE\n    :alt: license\n\nThis script is motivated by wish to avoid hardcoding the version number when maintaining\na Python package.\n\nInstead of hardcoding:\n\n.. code:: python\n\n    __version__ = '1.5.0.dev2'\n\nYou can instead:\n\n.. code:: python\n\n    from version_query import generate_version_str\n\n    __version__ = generate_version_str()\n\n\nhow does it work\n----------------\n\nAt development time, this will automatically infer the current version number based on:\n\n*   tags\n*   current commit SHA\n*   index status\n\nin your git repository. Therefore the package can be built and shipped to PyPI based only on status\nof the git repository.\n\nIf there is no git repository (this might be the case at installation time or at runtime)\nthe script relies on package metadata from its ``PKG-INFO`` or ``metadata.json`` file.\n\nOne of ``PKG-INFO`` or ``metadata.json`` files is automatically-generated when building packages.\nWhich one depends on your method of building, but in any case, one of them is packaged into source\nas well as binary distributions. One of them should be present for every Python 3 package.\n\n\nhow version is determined from git repository\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nFirst of all, a most recent (based on version precedence) version tag is found. Version tag\nis a git tag that starts with ``v`` or ``ver``, followed by a valid version identifier.\n\nExamples of valid version tags:\n\n*   ``v1.0``\n*   ``v0.16.0``\n*   ``v1.0.dev3``\n\nThe validity of the version identifier is determined by PEP 440.\n\nIf there are no version tags in the repo, the script simply assumes that initial commit\nhas tag ``v0.1.0.dev0``, and proceeds.\n\n\nhow version is incremented for a git repository\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nIf current commit is not the one with the latest version tag, a suffix ``.dev#`` is appended\nto the version identifier, where ``#`` is the distance (number of commits) between\nthe current commit and the latest version tag.\n\nAdditionally, the release number is incremented by 1. Release number here is defined\nas in ``major.minor.release``, e.g. for version ``1.2.3`` release number is ``3`` and it would be\nassumed equal to ``0`` if not present.\n\nAdditionally, a plus (``+``) character and the first 8 characters of SHA of the latest commit\nare appended to version identifier, e.g. ``+a3014fe0``.\n\nAdditionally, if there are any uncommitted changes in the repository (i.e. the repo is *dirty*),\nthe suffix ``.dirty`` followed by current date and time in format ``YYYYMMDDhhmmss`` are appended\nto the identifier.\n\nExample of how the final version identifier looks like, depending on various conditions\nof the repository:\n\n*   Most recent version tag is ``v0.4.5``, there were 2 commits since,\n    latest having SHA starting with ``812f12ea``.\n    Version identifier will be ``0.4.6.dev2+812f12ea``.\n\n*   Most recent version tag is ``ver6.0``, and there was 1 commit since\n    having SHA starting with ``e10ac365``.\n    Version identifier will be ``6.0.1.dev1+e10ac365``.\n\n*   Most recent version tag is ``v9``, there were 40 commit since,\n    latest having SHA starting with ``1ad22355``, the repository has uncommitted changes and\n    version was queried at 19:52.20, 8th June 2017.\n    the result is ``9.0.1.dev40+1ad22355.dirty20170608195220``.\n\n\nhow version is determined from ``PKG-INFO`` file\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nThe version identifier is simply read from the package metadata file\n(i.e. the file named ``PKG-INFO``) which should be present for any:\n\n*   installed package\n*   source distribution\n*   binary distribution\n*   source code folder of any package using setuptools, in which ``setup.py <build>`` was executed\n\n\nlimitations\n-----------\n\nEither git repository or ``PKG-INFO`` file must be present for the script to work.\n\nThe current implementation aims at, but is not yet fully compatible with:\n\n*   `PEP 440 -- Version Identification and Dependency Specification <https://www.python.org/dev/peps/pep-0440/>`_;\n\n*   `PEP 508 -- Dependency specification for Python Software Packages <https://www.python.org/dev/peps/pep-0508/>`_;\n\n*   `PEP 345 -- Metadata for Python Software Packages 1.2 <https://www.python.org/dev/peps/pep-0345/>`_,\n    which replaced `PEP 314 -- Metadata for Python Software Packages v1.1 <https://www.python.org/dev/peps/pep-0314/>`_,\n    which in turn replaced `PEP 241 -- Metadata for Python Software Packages <https://www.python.org/dev/peps/pep-0241/>`_;\n\n*   PEP 345 might be at some point in time replaced by\n    `PEP 426 -- Metadata for Python Software Packages 2.0 <https://www.python.org/dev/peps/pep-0426/>`_,\n    but for now PEP 345 is the current standard.\n\nEspecially, in current implementation at most one of:\nalpha ``a`` / beta ``b`` / release candidate ``rc`` / development ``dev`` suffixes\ncan be used in a version identifier.\n\nAnd the format in which\nalpha ``a``, beta ``b`` and release candidate ``rc`` suffixes\nare to be used does not match exactly the conditions defined in PEP.\n\n\nrequirements\n------------\n\nPython version >= 3.4.\n\nPython libraries as specified in `<requirements.txt>`_.\n\nBuilding and running tests additionally requires packages listed in `<test_requirements.txt>`_.\n\nTested on Linux, OS X and Windows.\n\n\n",
    "docs_url": null,
    "download_url": "https://github.com/mbdevpl/version-query",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://mbdevpl.github.io/",
    "keywords": "abstract syntax tree,ast,parser,xml",
    "license": "Apache License 2.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "version-query",
    "platform": "",
    "project_url": "https://pypi.org/project/version-query/",
    "release_url": "https://pypi.org/project/version-query/0.3.0/",
    "requires_dist": [
      "typing (>=3.5); python_version < \"3.5\"",
      "semver",
      "packaging",
      "GitPython"
    ],
    "requires_python": ">=3.4",
    "summary": "Package version query toolkit for Python",
    "version": "0.3.0"
  },
  "releases": {
    "0.0.1.dev1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "7a6755739133706e14217e16d3d02272",
          "sha256": "21e06eef9d5162c9e9fdc22127542f006d2c50eceeb55eba397118d3b3f1dec5"
        },
        "downloads": -1,
        "filename": "version_query-0.0.1.dev1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "7a6755739133706e14217e16d3d02272",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 10914,
        "upload_time": "2017-07-11T06:28:28",
        "url": "https://files.pythonhosted.org/packages/2a/d2/264f196401d532b4c818754773a247fc03a01fb7c356316ce0a67da84ecd/version_query-0.0.1.dev1-py3-none-any.whl"
      }
    ],
    "0.0.1.dev2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "6661acf3f88b20de6a35943717e4c583",
          "sha256": "f8132ef991a299510c53d02664041dfcc5c432402bd632a6038c1f1b4248c9e3"
        },
        "downloads": -1,
        "filename": "version_query-0.0.1.dev2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "6661acf3f88b20de6a35943717e4c583",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 13800,
        "upload_time": "2017-09-04T05:18:29",
        "url": "https://files.pythonhosted.org/packages/ad/2a/97b5d52aaa8c092d293bf35910edb5339e26e35f16bf0f06576d7704ca5a/version_query-0.0.1.dev2-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "12650b405527a285f99e1f050efde9e7",
          "sha256": "ae119494cb40acb81917731a2fbc165f69be71bf27925ae2869f8e8b4f7104ca"
        },
        "downloads": -1,
        "filename": "version-query-0.0.1.dev2.tar.gz",
        "has_sig": false,
        "md5_digest": "12650b405527a285f99e1f050efde9e7",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 20585,
        "upload_time": "2017-09-04T05:19:00",
        "url": "https://files.pythonhosted.org/packages/ff/18/d9d396f5bec17320aae764eb34508871b7d6a0e889d6282a1d4eb6f084a4/version-query-0.0.1.dev2.tar.gz"
      }
    ],
    "0.0.1.dev3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "b1f06a2e62d2e50fcf1bdc1b74fad165",
          "sha256": "cf8ad8f5c49edbfe6da1dc0ba1aa2f4b3f471e877f5376fc6beb41fa9bec71fa"
        },
        "downloads": -1,
        "filename": "version_query-0.0.1.dev3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "b1f06a2e62d2e50fcf1bdc1b74fad165",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 13916,
        "upload_time": "2017-09-04T06:46:00",
        "url": "https://files.pythonhosted.org/packages/67/c4/19dbfb46d9f8d68b56c97ca6528c2f75c06ce34f022e1a7e5c918597454b/version_query-0.0.1.dev3-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "68c397a69aef765aae652b57d5fa631a",
          "sha256": "617b5133323dca272c686d5df01ea4ab249caeb3037a1b9c7c7c8b39b90d2f8c"
        },
        "downloads": -1,
        "filename": "version-query-0.0.1.dev3.tar.gz",
        "has_sig": false,
        "md5_digest": "68c397a69aef765aae652b57d5fa631a",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 18847,
        "upload_time": "2017-09-04T06:46:27",
        "url": "https://files.pythonhosted.org/packages/ad/1b/6383e44a9a48341b5c359cb5a1047acb960b44e18a16968f5901ff5cd6ea/version-query-0.0.1.dev3.tar.gz"
      }
    ],
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "4dfa5851ec7619ddf57a309db6b20d96",
          "sha256": "10e8eb9fcce36077d2171821f64c31c036d35c0f74834c3b942ea66074a61167"
        },
        "downloads": -1,
        "filename": "version_query-0.1.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "4dfa5851ec7619ddf57a309db6b20d96",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 22089,
        "upload_time": "2017-10-04T02:10:33",
        "url": "https://files.pythonhosted.org/packages/ff/bd/09d55c44faee6593059fcd5d908a5568c8f088a081fbe45cc8f58addaef3/version_query-0.1.0-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "94c70b937136aa7bc45a187f202c6f1c",
          "sha256": "9dbc5478e390da5f0b7c72edfca9b33e4b47a25e5131c134c1f325e5490e57ab"
        },
        "downloads": -1,
        "filename": "version-query-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "94c70b937136aa7bc45a187f202c6f1c",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 26960,
        "upload_time": "2017-10-04T02:10:37",
        "url": "https://files.pythonhosted.org/packages/cb/e0/41dc6f45e6003edef6895672705e10921a7de340c1d98e8d30a4a1bdf7d4/version-query-0.1.0.tar.gz"
      }
    ],
    "0.3.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "f31974a7e4c7e42c1c1bc578abbebb7a",
          "sha256": "1b141390a28ce0cb0bdb91b77e0891e65df693633b4f9ba99be4cf92c7b6d698"
        },
        "downloads": -1,
        "filename": "version_query-0.3.0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "f31974a7e4c7e42c1c1bc578abbebb7a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 24456,
        "upload_time": "2017-10-11T08:05:52",
        "url": "https://files.pythonhosted.org/packages/52/89/3577ed30a28af6bc232c854944cdb2502cbcddd113b0b731dd571e91cc4d/version_query-0.3.0-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "b63c287d7130e1d73312293be64b3a71",
          "sha256": "65dd2482bda305e8261c1d4fd87f1adac0b1107d9ee28dbf591aad6a1cd3ed65"
        },
        "downloads": -1,
        "filename": "version-query-0.3.0.tar.gz",
        "has_sig": false,
        "md5_digest": "b63c287d7130e1d73312293be64b3a71",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 27144,
        "upload_time": "2017-10-11T08:05:55",
        "url": "https://files.pythonhosted.org/packages/4d/51/9db40479585b71dd5ca76070d1588916089f53fcc82001a5b5619b2c18e0/version-query-0.3.0.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "f31974a7e4c7e42c1c1bc578abbebb7a",
        "sha256": "1b141390a28ce0cb0bdb91b77e0891e65df693633b4f9ba99be4cf92c7b6d698"
      },
      "downloads": -1,
      "filename": "version_query-0.3.0-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "f31974a7e4c7e42c1c1bc578abbebb7a",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "size": 24456,
      "upload_time": "2017-10-11T08:05:52",
      "url": "https://files.pythonhosted.org/packages/52/89/3577ed30a28af6bc232c854944cdb2502cbcddd113b0b731dd571e91cc4d/version_query-0.3.0-py3-none-any.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "b63c287d7130e1d73312293be64b3a71",
        "sha256": "65dd2482bda305e8261c1d4fd87f1adac0b1107d9ee28dbf591aad6a1cd3ed65"
      },
      "downloads": -1,
      "filename": "version-query-0.3.0.tar.gz",
      "has_sig": false,
      "md5_digest": "b63c287d7130e1d73312293be64b3a71",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 27144,
      "upload_time": "2017-10-11T08:05:55",
      "url": "https://files.pythonhosted.org/packages/4d/51/9db40479585b71dd5ca76070d1588916089f53fcc82001a5b5619b2c18e0/version-query-0.3.0.tar.gz"
    }
  ]
}
{
  "info": {
    "author": "Christian Theune <ct@flyingcircus.io>, Christian Kauhaus <kc@flyingcircus.io>, Daniel Kraft <daniel.kraft@d9t.de>",
    "author_email": "mail@flyingcircus.io",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Environment :: Console",
      "Intended Audience :: System Administrators",
      "License :: OSI Approved :: GNU General Public License v3 (GPLv3)",
      "Operating System :: POSIX",
      "Programming Language :: Python",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.4",
      "Topic :: System :: Archiving :: Backup"
    ],
    "description": "========\nOverview\n========\n\nBacky is a block-based backup and restore utility for virtual machine images.\n\nBacky is intended to be:\n\n* space-, time-, and network-efficient\n* trivial to restore\n* reliable.\n\nTo achieve this, we rely on:\n\n* using a copy-on-write filesystem (btrfs, ZFS) as the target filesystem to\n  achieve space-efficiency,\n* using a snapshot-capable main storage for our volumes (e.g.\n  Ceph, LVM, ...) that allows easy extraction of changes between snapshots,\n* leverage proven, existing low-level tools,\n* keep the code-base small, simple, and well-tested.\n\n\nOperations\n==========\n\nFull restore\n------------\n\nThe most important question is: I screwed up -- how do I get my data back?\n\nHere's the fast answer to make a full restore of the most recent backup::\n\n   $ cd /srv/backy/my-virtual-machine\n   $ dd if=last of=/srv/kvm/my-virtual-machine.img bs=4096k\n\nIn case Ceph is used for image storage, just import the image directly::\n\n   $ rbd import last rbd/my-volume\n\nIf you like to pick a specific version, it's only a little more effort::\n\n   $ backy status\n   +---------------------+------------+------------+---------+--------------+\n   | Date                | ID         |       Size |   Durat | Tags         |\n   +---------------------+------------+------------+---------+--------------+\n   | 2015-11-04 11:09:26 | UT7PkENubw |  60.00 GiB | 845.0 s | weekly,daily |\n   | 2015-11-05 10:32:03 | fPnbSvEHHy | 264.85 MiB |  88.1 s | daily        |\n   | 2015-11-06 10:32:03 | cErS5GJ5sL | 172.34 MiB |  84.5 s | daily        |\n   +---------------------+------------+------------+---------+--------------+\n   3 revisions containing 60.43 GiB data (estimated)\n   $ dd if=fPnbSvEHHymfztN9FuegLQ of=/srv/kvm/my-virtual-machine bs=4096k\n\nOr try `backy find` to locate the latest backup for a specific tag::\n\n   $ rbd import $(backy find -r weekly) rbd/my-volume\n\n\nRestoring individual files\n--------------------------\n\nThe image files are exact copies of the data from the virtual disks. You can use\nregular Linux tools to interact with them::\n\n    $ kpartx -av last\n    add map loop0p1 (253:9): 0 41934815 linear /dev/loop0 8192\n    $ mkdir /mnt/restore\n    $ mount -o ro /dev/mapper/loop0p1 /mnt/restore\n    $ cd /mnt/restore\n    $ ls\n    bin  boot  dev  etc  home  lib  lost+found  media  mnt  opt  proc  root  run\n    sbin  srv  sys  tmp  usr  var\n\nTo clean up::\n\n    $ umount /mnt/restore\n    $ kpartx -d last\n\n\nSetting up backy\n----------------\n\n#. Create a sufficiently large backup partition using a COW-capable filesystem\n   like btrfs and mount it under `/srv/backy`.\n\n#. Create a configuration file at `/etc/backy.conf`. See man page for details.\n\n#. Start the scheduler with your favourite init system::\n\n      backy -l /var/log/backy.log scheduler -c /path/to/backy.conf\n\n   The scheduler runs in the foreground until it is shot by SIGTERM.\n\n#. Set up monitoring using `backy check`.\n\n#. Set up log rotation for `/var/log/backy.conf` and `/srv/backy/*/backy.log`.\n\nThe file paths given above match the built-in defaults, but paths are fully\nconfigurable.\n\n\nFeatures\n========\n\nTelnet shell\n------------\n\nTelnet into localhost port 6023 to get an interactive console. The console can\ncurrently be used to inspect the scheduler's live status.\n\n\nSelf-check\n----------\n\nBacky includes a self-checking facility. Invoke `backy check` to see if there is\na recent revision present for all configured backup jobs::\n\n   $ backy check\n   OK: 9 jobs within SLA\n\nBoth output and exit code are suited for processing with Nagios-compatible\nmonitoring systems.\n\n\nPluggable backup sources\n------------------------\n\nBacky comes with a number of plug-ins which define block-file like sources:\n\n- **file** extracts data from simple image files living on a regular file\n  system.\n- **ceph-rbd** pulls data from RBD images using Ceph features like snapshots.\n- **flyingcircus** is an extension to the `ceph-rbd` source which we use\n  internally on the `Flying Circus`_ hosting platform. It uses advanced features\n  like Consul integration.\n\n.. _Flying Circus: http://flyingcircus.io/\n\nIt should be easy to write plug-ins for additional sources.\n\n\nAdaptive verification\n---------------------\n\nBacky always verifies freshly created backups. Verification scale depends on\nthe source type: file-based sources get fully verified. Ceph-based sources are\nverified based on random samples for runtime reasons.\n\nZero-configuration scheduling\n-----------------------------\n\nThe backy scheduler is intended to run continuously. It will spread jobs\naccording to the configured run intervals over the day. After resuming from an\ninterruption, it will reschedule missed jobs so that SLAs are still kept if\npossible.\n\nBackup jobs can be triggered at specific times as well: just invoke `backy\nbackup` manually.\n\n\nAuthors\n=======\n\n* Christian Theune <ct@flyingcircus.io>\n* Christian Kauhaus <kc@flyingcircus.io>\n* Daniel Kraft <daniel.kraft@d9t.de>\n\n\nLicense\n=======\n\nGPLv3\n\n\nLinks\n=====\n\n* `Bitbucket repository <https://bitbucket.org/flyingcircus/backy>`_\n* `PyPI page <https://pypi.python.org/pypi/backy>`_\n* `Online docs <http://pythonhosted.org/backy/>`_\n* `Build server <https://builds.flyingcircus.io/job/backy/>`_\n\n.. vim: set ft=rst spell spelllang=en sw=3:\n\n=========\nChangelog\n=========\n\n2.1.5 (2016-07-01)\n==================\n\n- Bugfix release: fix data corruption bug in the new full-always mode. (FC\n  #21963)\n\n\n2.1.4 (2016-06-20)\n==================\n\n- Add \"full-always\" flag to Ceph and Flyingcircus sources. (FC #21960)\n\n- Rewrite full backup code to make use of shallow copies to conserve disk space.\n  (FC #21960)\n\n\n2.1.3 (2016-06-09)\n==================\n\n- Fix new timeout to be 5 minutes by default, not 5 days.\n\n- Do not sort blocks any longer: we do not win much from seeking\n  over volumes with random blocks anyway and this helps for a more\n  even distribution with the new timeout over multiple runs.\n\n\n2.1.2 (2016-06-09)\n==================\n\n- Fix backup of images containing holes (#33).\n\n- Introduce a (short) timeout for partial image verification. Especially\n  very large images and images that are backed up frequently do not profit\n  from running for hours to verify them, blocking further backups.\n  (FC #21879)\n\n2.1.1 (2016-01-15)\n==================\n\n- Fix logging bugs.\n\n- Shut down daemon loop cleanly on signal reception.\n\n\n2.1 (2016-01-08)\n================\n\n- Add optional regex filter to the `jobs` command in the telnet shell.\n\n- Provide list of failed jobs in check output, not only the total number.\n\n- Add `status-interval`, `telnet-addrs`, and `telnet-port` configuration\n  options.\n\n- Automatically recover from missing/damaged last or last.rev symlinks (#19532).\n\n- Use `{BASE_DIR}/.lock` as daemon lock file instead of the status file.\n\n- Usability improvements: count jobs, more informative log output.\n\n- Support restoring to block special files like LVM volumes (#31).\n\n\n2.0 (2015-11-06)\n================\n\n- backy now accepts a `-l` option to specify a log file. If no such option is\n  given, it logs to stdout.\n\n- Add `backy find -r REVISION` subcommand to query image paths from shell scripts.\n\n- Fix monitoring bug where partially written images made the check go green\n  (#30).\n\n- Greatly improve error handling and detection of failed jobs.\n\n- Performance improvement: turn off line buffering in bulk file operations\n  (#20).\n\n- The scheduler reports child failures (exit status > 0) now in the main log.\n\n- Fix fallocate() behaviour on 32 bit systems.\n\n- The `flyingcircus` source type now requires 3 arguments: vm, pool, image.\n\n\n2.0b3 (2015-10-02)\n==================\n\n- Improve telnet console.\n\n- Provide Nix build script.\n\n- Generate `requirements.txt` automatically from buildout's `versions.cfg`.\n\n\n2.0b2 (2015-09-15)\n==================\n\n- Introduce scheduler and rework the main backup command. The backy\n  command is now only responsible for dealing with individual backups.\n\n  It does no longer care about scheduling.\n\n  A new daemon and a central configuration file is responsible for that\n  now. However, it simply calls out to the existing backy command\n  so we can still manually interact with the system even if we do not\n  use the daemon.\n\n- Add consul integration for backing up Flying Circus root disk images\n  with clean snapshots (by asking fc.qemu to use fs-freeze before preparing\n  a Ceph snapshot).\n\n- Switch to shorter UUIDs. Existing files with old UUIDs are compatible.\n\n- Turn the configuration format into YAML. Old files are still compatible.\n  New configs will be generated as YAML.\n\n- Performance: defrag all new files automatically to avoid btrfs degrading\n  extent performance. It appears this doesn't completely duplicate all CoW\n  data. Will have to monitor this in the future.\n\n2.0b1 (2014-07-07)\n==================\n\n- Clean up docs.\n\n- Add classifiers in setup.py.\n\n- More or less complete rewrite expecting a copy-on-write filesystem as the\n  target.\n\n- Flexible backup scheduling using free-form tags.\n\n- Compatible with Python 3.2-3.4.\n\n- Initial open source import as provided by Daniel Kraft (D9T).\n\n.. vim: set ft=rst spell spelllang=en:",
    "docs_url": "https://pythonhosted.org/backy/",
    "download_url": "UNKNOWN",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://bitbucket.org/flyingcircus/backy",
    "keywords": "backup",
    "license": "GPL-3",
    "maintainer": null,
    "maintainer_email": null,
    "name": "backy",
    "platform": "UNKNOWN",
    "project_url": "https://pypi.org/project/backy/",
    "release_url": "https://pypi.org/project/backy/2.1.5/",
    "requires_python": null,
    "summary": "Block-based backup and restore utility for virtual machine images",
    "version": "2.1.5"
  },
  "releases": {
    "2.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "583d1f1e33bf755c22d23683cbb1af50",
          "sha256": "4678790f851b855c0c11f917a953162b1a8fb745836cb11c6c459771bab51d20"
        },
        "downloads": 635,
        "filename": "backy-2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "583d1f1e33bf755c22d23683cbb1af50",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 43182,
        "upload_time": "2015-11-06T16:47:04",
        "url": "https://files.pythonhosted.org/packages/e1/62/e7ce9f2b0285923522ead31e3d28abda206d17ba1bae9026b6c1c7e623ff/backy-2.0.tar.gz"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "0cce73b0cb84b6ff9b15b56ccf96956d",
          "sha256": "b81ef10d48dc6b65a10cda1bb89df20d0f84e649e01b555db2fd88336b0dc713"
        },
        "downloads": 618,
        "filename": "backy-2.0.zip",
        "has_sig": false,
        "md5_digest": "0cce73b0cb84b6ff9b15b56ccf96956d",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 64708,
        "upload_time": "2015-11-06T16:45:28",
        "url": "https://files.pythonhosted.org/packages/2d/1f/204dd0c850deb35033daabfc5d4210bf99cdfccdc68d4be0da7d1628f329/backy-2.0.zip"
      }
    ],
    "2.0a1dev": [],
    "2.0b1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "f9d46260af796d26209c3f24da2f195f",
          "sha256": "4d9f060f06548e4a877ee488faec9820f7a9880fa3dcbe67e5bde5f3c76cedfc"
        },
        "downloads": 1888,
        "filename": "backy-2.0b1.zip",
        "has_sig": false,
        "md5_digest": "f9d46260af796d26209c3f24da2f195f",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 51980,
        "upload_time": "2014-07-07T13:02:29",
        "url": "https://files.pythonhosted.org/packages/90/bb/fb7b38800899f2b4b195350457641ce603e951adbe72e7f134c3f923987f/backy-2.0b1.zip"
      }
    ],
    "2.0b2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "4b5cff9d6373e544ebc52771d5f431a5",
          "sha256": "492f4ee7df4d4580a751a72c7877d8f44c496a4e974399bf16fb43240c4c3a59"
        },
        "downloads": 801,
        "filename": "backy-2.0b2.tar.gz",
        "has_sig": false,
        "md5_digest": "4b5cff9d6373e544ebc52771d5f431a5",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 49985,
        "upload_time": "2015-09-15T05:58:37",
        "url": "https://files.pythonhosted.org/packages/36/61/841a97a055eca6f1d027db6b810d96328937560025972e10dc60c24bbadc/backy-2.0b2.tar.gz"
      }
    ],
    "2.0b3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "53b5c11ce6cc71c394d68352d95bba3a",
          "sha256": "3ac02ed14a1194482458d55d3130d05c7c776ff502ee3defaca7d0bb5162eb52"
        },
        "downloads": 820,
        "filename": "backy-2.0b3.zip",
        "has_sig": false,
        "md5_digest": "53b5c11ce6cc71c394d68352d95bba3a",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 59808,
        "upload_time": "2015-10-02T13:10:28",
        "url": "https://files.pythonhosted.org/packages/36/d9/bc217036ed8a7765728309cce2342dfbc6596eafc5736b250e6371a3bfde/backy-2.0b3.zip"
      }
    ],
    "2.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "e0b6605083c91b5f19b07ddd348ba847",
          "sha256": "ec98af17a5934e543190f162232c599cbf194480d569bf6d1c833e68e31d7381"
        },
        "downloads": 388,
        "filename": "backy-2.1.tar.gz",
        "has_sig": false,
        "md5_digest": "e0b6605083c91b5f19b07ddd348ba847",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 48124,
        "upload_time": "2016-01-08T19:38:42",
        "url": "https://files.pythonhosted.org/packages/a9/81/20fed9fc7d2e29302eb39ae3da2bf929837871d7a73ad5bf858dfabde17f/backy-2.1.tar.gz"
      }
    ],
    "2.1.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "585fd05cad3c06a74264fc3746d1adb7",
          "sha256": "844d4e267ed3c2e3904f72e90f61f4740641ef44b76b91f848cc757a2446ccc2"
        },
        "downloads": 732,
        "filename": "backy-2.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "585fd05cad3c06a74264fc3746d1adb7",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 45825,
        "upload_time": "2016-01-15T09:20:34",
        "url": "https://files.pythonhosted.org/packages/be/a3/6bdeacd1b000bb0745da2cce112b9417361605a9cb19d1509ea43be2ca04/backy-2.1.1.tar.gz"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "9653b71652adf78a8d14c89cb183519d",
          "sha256": "708be1c470ce6d282b7c374ee9feb7311f19cc382542dfc254ee016f414bba24"
        },
        "downloads": 372,
        "filename": "backy-2.1.1.zip",
        "has_sig": false,
        "md5_digest": "9653b71652adf78a8d14c89cb183519d",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 68766,
        "upload_time": "2016-01-15T09:18:42",
        "url": "https://files.pythonhosted.org/packages/7a/f5/386737c2aad718d67120f21729794bc951c90ac3593f434b9bf63306338c/backy-2.1.1.zip"
      }
    ],
    "2.1.2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "afc7a800c9a72743bc8983268f4c6da4",
          "sha256": "59ed060dd9a301f9edfb496b8c747d7a65be58fa9ade10ac72b90389b6c72824"
        },
        "downloads": 166,
        "filename": "backy-2.1.2.tar.gz",
        "has_sig": false,
        "md5_digest": "afc7a800c9a72743bc8983268f4c6da4",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 49431,
        "upload_time": "2016-06-09T06:45:05",
        "url": "https://files.pythonhosted.org/packages/b8/a9/fe75b6ec975819b17282973aa729224165073c8b80ecf1694cdd8f012def/backy-2.1.2.tar.gz"
      }
    ],
    "2.1.3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "b7bcb743c424cfc331535e6a39b570f2",
          "sha256": "d30b221a3ee8d963a5eb8f97e86b13f6d01875bfcbdecd80f2fbb095a2f43b8a"
        },
        "downloads": 163,
        "filename": "backy-2.1.3.tar.gz",
        "has_sig": false,
        "md5_digest": "b7bcb743c424cfc331535e6a39b570f2",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 49755,
        "upload_time": "2016-06-09T13:03:56",
        "url": "https://files.pythonhosted.org/packages/05/b1/a76f4e4d5c7860c7ca18fa6f8c663c2f2595328782b01d86c205ffc2f746/backy-2.1.3.tar.gz"
      }
    ],
    "2.1.4": [
      {
        "comment_text": "",
        "digests": {
          "md5": "55b96b40f03bde128e6cad20dda12fd6",
          "sha256": "6610aecb8e77997a10ad909989d7dbdd930cb31484a963cb54d545de1e3bfc51"
        },
        "downloads": 374,
        "filename": "backy-2.1.4.tar.gz",
        "has_sig": false,
        "md5_digest": "55b96b40f03bde128e6cad20dda12fd6",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 50660,
        "upload_time": "2016-06-20T08:54:54",
        "url": "https://files.pythonhosted.org/packages/fd/9f/8165bdaaffe049fb2a303d57cb9a47cdfb6261c7e874aa9e51c7e5e88823/backy-2.1.4.tar.gz"
      }
    ],
    "2.1.5": [
      {
        "comment_text": "",
        "digests": {
          "md5": "cc61fe2f53890c496a1deb0b61ddbd3c",
          "sha256": "4c9b5c8402ad5615f4ed64f74994dbe67c9851db6a5c2dbb7f9c4b0a4dcc07bf"
        },
        "downloads": 188,
        "filename": "backy-2.1.5.tar.gz",
        "has_sig": false,
        "md5_digest": "cc61fe2f53890c496a1deb0b61ddbd3c",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 50809,
        "upload_time": "2016-07-01T09:18:20",
        "url": "https://files.pythonhosted.org/packages/03/a6/c8e32ce50405bfd188ec522d202f7214321d2f7ba0e2333633d0645f1225/backy-2.1.5.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "cc61fe2f53890c496a1deb0b61ddbd3c",
        "sha256": "4c9b5c8402ad5615f4ed64f74994dbe67c9851db6a5c2dbb7f9c4b0a4dcc07bf"
      },
      "downloads": 188,
      "filename": "backy-2.1.5.tar.gz",
      "has_sig": false,
      "md5_digest": "cc61fe2f53890c496a1deb0b61ddbd3c",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 50809,
      "upload_time": "2016-07-01T09:18:20",
      "url": "https://files.pythonhosted.org/packages/03/a6/c8e32ce50405bfd188ec522d202f7214321d2f7ba0e2333633d0645f1225/backy-2.1.5.tar.gz"
    }
  ]
}
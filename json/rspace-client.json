{
  "info": {
    "author": "Research Innovations Ltd",
    "author_email": "s1310787@sms.ed.ac.uk",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: Apache Software License",
      "Programming Language :: Python :: 2",
      "Programming Language :: Python :: 2.6",
      "Programming Language :: Python :: 2.7",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.3",
      "Programming Language :: Python :: 3.4",
      "Programming Language :: Python :: 3.5",
      "Programming Language :: Python :: 3.6",
      "Topic :: Software Development :: Libraries"
    ],
    "description": "# rspace-client-python\n\nThis project contains a client which helps calling RSpace APIs. There are some example Python scripts.\n\nTo begin with you'll need an account on an RSpace server and an API key which you can get from your profile page.\n\nIn these examples we'll be using the rspace_client package (code is in rspace_client folder) which provides an abstraction over lower-level libraries. It's compatible with both Python 2 and Python 3.\n\nAll the code listed here is in the project.\n\nFor full details of our API spec please see https://your.rspace.com/public/apiDocs\n\nTo install rspace-client and its dependencies, run\n```bash\npip3 install rspace-client\n```\n\nTo run the example scripts in the examples folder, cd to that folder, then run\n\n```bash\npython3 ExampleScript.py https://your.rspace.com MyAPIKey\n```\n\nreplacing MyAPIKey with your key, and ExampleScript.py with the name of the script you want to run.\n\n### A basic query to list documents\n\nFirst of all we'll get our URL and key from a command-line parameters.\n\n```python\nparser = argparse.ArgumentParser()\nparser.add_argument(\"server\", help=\"RSpace server URL (for example, https://community.researchspace.com)\", type=str)\nparser.add_argument(\"apiKey\", help=\"RSpace API key can be found on 'My Profile'\", type=str)\nargs = parser.parse_args()\n\nclient = rspace_client.Client(args.server, args.apiKey)\ndocuments = client.get_documents()\n```\n\nIn the above example, the 'documents' variable is a dictionary that can easily be accessed for data:\n\n```python\nprint(document['name'], document['id'], document['lastModified'])\n```\n\n#### Iterating over pages of results\n\nThe JSON response also contains a `_links` field that uses HATEOAS conventions to provide links to related content. For document listings and searches, links to `previous`, `next`, `first` and `last` pages are provided when needed.\n\nUsing this approach we can iterate through pages of results, getting summary information for each document.\n\n```python\nwhile client.link_exists(response, 'next'):\n    print('Retrieving next page...')\n    response = client.get_link_contents(response, 'next')\n```\n\nA complete example of this is `examples/paging_through_results.py`.\n\n### Searching\n\nRSpace API provides  two sorts of search - a basic search that searches all searchable fields, and an advanced search where more fine-grained queries can be made and combined with boolean operators.\n\nA simple search can be run by calling get_documents with a query parameter:\n\n```python\n  response = client.get_documents(query='query_text')\n\n```\n\nHere are some examples of advanced search constructs:\n\n```python   \n    // search by tag:\n    search = json.dumps([terms:[[query:\"ATag\", queryType:\"tag\"]]])\n    \n    // by name\n    search = json.dumps([terms:[[query:\"AName\", queryType:\"name\"]]])\n    \n    // for items created on a given date using IS0-8601 or yyyy-MM-dd format\n    search = json.dumps([terms:[[query:\"2016-07-23\", queryType:\"created\"]]])\n    \n    // for items modified between 2  dates using IS0-8601 or yyyy-MM-dd format\n    search = json.dumps([terms:[[query:\"2016-07-23;2016-08-23 \", queryType:\"lastModified\"]]])\n    \n    // for items last modified on either of 2  dates:\n    search = json.dumps([operator:\"or\",terms:[[query:\"2015-07-06\", queryType:\"lastModified\"],\n                                    [query:\"2015-07-07\", queryType:\"lastModified\"] ])\n\n    // search for documents created from a given form:\n    search = json.dumps([terms:[[query:\"Basic Document\", queryType:\"form\"]]])\n    \n    // search for documents created from a given form and a specific tag:\n    search = json.dumps([operator:\"and\", terms:[[query:\"Basic Document\", queryType:\"form\"], [query:\"ATag\", queryType:\"tag\"]]])        \n```\n\nor by using AdvancedQueryBuilder\n\n```python\n# Creation date (documents created between 2017-01-01 and 2017-12-01\nadvanced_query = rspace_client.AdvancedQueryBuilder().\\\n    add_term('2017-01-01;2017-12-01', rspace_client.AdvancedQueryBuilder.QueryType.CREATED).\\\n    get_advanced_query()\n```\n\nTo submit these queries pass them as a parameter to `get_get_documents_advanced_query`:\n\n```python\n    response = client.get_documents_advanced_query(advanced_query)\n    for document in response['documents']:\n        print(document['name'], document['id'], document['lastModified'])\n\n```\n\n### Retrieving document content\n\nContent can be retrieved from the endpoint `/documents/{id}` where {id} is a documentID.\n\nHere is an example retrieving a document in CSV format taken from `forms.py` script:\n\n```python\nadvanced_query = rspace_client.AdvancedQueryBuilder(operator='and').\\\n    add_term(form_id, rspace_client.AdvancedQueryBuilder.QueryType.FORM).\\\n    get_advanced_query()\n\nresponse = client.get_documents_advanced_query(advanced_query)\n\nprint('Found answers:')\nfor document in response['documents']:\n    print('Answer name:', document['name'])\n    document_response = client.get_document_csv(document['id'])\n    print(document_response)\n\n```\n\n### Getting attached files\n\nHere's an example where we download file attachments associated with some documents. The code is in `download_attachments.py`. \n\n```python\ntry:\n    response = client.get_document(doc_id=document_id)\n    for field in response['fields']:\n        for file in field['files']:\n            download_metadata_link = client.get_link_contents(file, 'self')\n            filename = '/tmp/' + download_metadata_link['name']\n            print('Downloading to file', filename)\n            client.download_link_to_file(client.get_link(download_metadata_link, 'enclosure'), filename)\nexcept ValueError:\n    print('Document with id %s not found' % str(document_id))\n```",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/rspace-os/rspace-client-python",
    "keywords": "rspace api client research space",
    "license": "Apache Software License",
    "maintainer": "",
    "maintainer_email": "",
    "name": "rspace-client",
    "platform": "",
    "project_url": "https://pypi.org/project/rspace-client/",
    "release_url": "https://pypi.org/project/rspace-client/1.2.0/",
    "requires_dist": [],
    "requires_python": "",
    "summary": "A client which helps calling RSpace APIs",
    "version": "1.2.0"
  },
  "releases": {
    "0.0.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "f3d283fec81c21093d8b19943c25da48",
          "sha256": "383a18e7078dae4d872002d76386459f47e3661e1204a431bff8aba6b1f0fb68"
        },
        "downloads": 7,
        "filename": "rspace_client-0.0.1-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "f3d283fec81c21093d8b19943c25da48",
        "packagetype": "bdist_wheel",
        "python_version": "py2.py3",
        "size": 18527,
        "upload_time": "2017-02-10T04:47:31",
        "url": "https://files.pythonhosted.org/packages/a1/3b/1b0d4f72e460fb32934800ebf917f340623b71485c3f1926850e532573ff/rspace_client-0.0.1-py2.py3-none-any.whl"
      }
    ],
    "0.0.2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "432f2a8981b149c1375b8f9c111a335b",
          "sha256": "619cd359466dbee7d08bf66158b7595c4fda5049d779f8406c1e8b5e59e073fa"
        },
        "downloads": 9,
        "filename": "rspace_client-0.0.2-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "432f2a8981b149c1375b8f9c111a335b",
        "packagetype": "bdist_wheel",
        "python_version": "py2.py3",
        "size": 28297,
        "upload_time": "2017-02-10T05:20:23",
        "url": "https://files.pythonhosted.org/packages/3b/21/f7b8df006fafacd4d001af9240a12298ce48396e02713a39f8f8cf0d2c9b/rspace_client-0.0.2-py2.py3-none-any.whl"
      }
    ],
    "1.2.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "d6757a87e42a62441c1b14b1d1fdd1d7",
          "sha256": "13fc300a5f8983cd1661de4af78a828a1ba521a1be700ffc9cf27d7f6adbbdec"
        },
        "downloads": 0,
        "filename": "rspace_client-1.2.0-py2.7.egg",
        "has_sig": false,
        "md5_digest": "d6757a87e42a62441c1b14b1d1fdd1d7",
        "packagetype": "bdist_egg",
        "python_version": "2.7",
        "size": 15703,
        "upload_time": "2017-09-26T22:12:37",
        "url": "https://files.pythonhosted.org/packages/12/88/a6159a4d09bd67c4e7f6f71050fd1e75dd78f41bf22b8dc9f102a9f2666a/rspace_client-1.2.0-py2.7.egg"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "3ce564f2210fa2f3eac602bd495b4143",
          "sha256": "e1419605c8c4c571ab65e7c1b55a5f97b3b08cbac4b826c9b0ba343be96f2a1b"
        },
        "downloads": 0,
        "filename": "rspace_client-1.2.0-py3.5.egg",
        "has_sig": false,
        "md5_digest": "3ce564f2210fa2f3eac602bd495b4143",
        "packagetype": "bdist_egg",
        "python_version": "3.5",
        "size": 16048,
        "upload_time": "2017-09-26T22:12:45",
        "url": "https://files.pythonhosted.org/packages/fe/5b/1ba699586c80217edcad8a6f9321a11bfc1c988e936b30c3d90958da6df0/rspace_client-1.2.0-py3.5.egg"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "aac7861c703a82280ce75a759d7587eb",
          "sha256": "c4d3f764307079813b9b6e48b24120e029a95c49cc980c824b81ba6a64523bf1"
        },
        "downloads": 0,
        "filename": "rspace-client-1.2.0.tar.gz",
        "has_sig": false,
        "md5_digest": "aac7861c703a82280ce75a759d7587eb",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 7952,
        "upload_time": "2017-09-26T22:12:52",
        "url": "https://files.pythonhosted.org/packages/a6/39/72115224743e1b77ec0d996090714b2ab1dc9cb8990425c41900331bd256/rspace-client-1.2.0.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "d6757a87e42a62441c1b14b1d1fdd1d7",
        "sha256": "13fc300a5f8983cd1661de4af78a828a1ba521a1be700ffc9cf27d7f6adbbdec"
      },
      "downloads": 0,
      "filename": "rspace_client-1.2.0-py2.7.egg",
      "has_sig": false,
      "md5_digest": "d6757a87e42a62441c1b14b1d1fdd1d7",
      "packagetype": "bdist_egg",
      "python_version": "2.7",
      "size": 15703,
      "upload_time": "2017-09-26T22:12:37",
      "url": "https://files.pythonhosted.org/packages/12/88/a6159a4d09bd67c4e7f6f71050fd1e75dd78f41bf22b8dc9f102a9f2666a/rspace_client-1.2.0-py2.7.egg"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "3ce564f2210fa2f3eac602bd495b4143",
        "sha256": "e1419605c8c4c571ab65e7c1b55a5f97b3b08cbac4b826c9b0ba343be96f2a1b"
      },
      "downloads": 0,
      "filename": "rspace_client-1.2.0-py3.5.egg",
      "has_sig": false,
      "md5_digest": "3ce564f2210fa2f3eac602bd495b4143",
      "packagetype": "bdist_egg",
      "python_version": "3.5",
      "size": 16048,
      "upload_time": "2017-09-26T22:12:45",
      "url": "https://files.pythonhosted.org/packages/fe/5b/1ba699586c80217edcad8a6f9321a11bfc1c988e936b30c3d90958da6df0/rspace_client-1.2.0-py3.5.egg"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "aac7861c703a82280ce75a759d7587eb",
        "sha256": "c4d3f764307079813b9b6e48b24120e029a95c49cc980c824b81ba6a64523bf1"
      },
      "downloads": 0,
      "filename": "rspace-client-1.2.0.tar.gz",
      "has_sig": false,
      "md5_digest": "aac7861c703a82280ce75a759d7587eb",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 7952,
      "upload_time": "2017-09-26T22:12:52",
      "url": "https://files.pythonhosted.org/packages/a6/39/72115224743e1b77ec0d996090714b2ab1dc9cb8990425c41900331bd256/rspace-client-1.2.0.tar.gz"
    }
  ]
}
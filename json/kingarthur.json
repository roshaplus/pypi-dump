{
  "info": {
    "author": "Bitergia",
    "author_email": "sduenas@bitergia.com",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)",
      "Programming Language :: Python :: 3",
      "Topic :: Software Development"
    ],
    "description": "Arthur |Build Status|\\ |Coverage Status|\n========================================\n\nKing Arthur commands his loyal knight Perceval on the quest to fetch\ndata from software repositories.\n\nArthur is a distributed job queue platform that schedules and executes\nPerceval. The platform is composed by two components: ``arthurd``, the\nserver that schedules the jobs and one or more instances of ``arthurw``,\nthe work horses that will run each Perceval job.\n\nThe repositories whose data will be fetched are added to the platform\nusing a REST API. Then, the server transforms these repositories into\nPerceval jobs and schedules them between its job queues.\n\nWorkers are waiting for new jobs checking these queues. Workers only\nexecute a job at a time. When a new job arrives, an idle worker will\ntake and run it. Once a job is finished, if the result is successful,\nthe server will re-schedule it to retrieve new data.\n\nBy default, items fetched by each job will be published using a Redis\nqueue. Additionally, they can be written to an Elastic Search index.\n\nUsage\n-----\n\narthurd\n~~~~~~~\n\n::\n\n    usage: arthurd [-c <file>] [-g] [-h <host>] [-p <port>] [-d <database>]\n                   [--es-index <index>] [--log-path <path>] [--cache-path <cpath>]\n                   [--no-cache] [--no-daemon] | --help\n\n    King Arthur commands his loyal knight Perceval on the quest\n    to retrieve data from software repositories.\n\n    This command runs an Arthur daemon that waits for HTTP requests\n    on port 8080. Repositories to analyze are added using an REST API.\n    Repositories are transformed into Perceval jobs that will be\n    scheduled and run using a distributed job queue platform.\n\n    optional arguments:\n      -?, --help            show this help message and exit\n      -c FILE, --config FILE\n                            set configuration file\n      -g, --debug           set debug mode on\n      -h, --host            set the host name or IP address on which to listen for connections\n      -p, --port            set listening TCP port (default: 8080)\n      -d, --database        URL database connection (default: 'redis://localhost/8')\n      -s, --sync            work in synchronous mode (without workers)\n      --es-index            output ElasticSearch server index\n      --log-path            path where logs are stored\n      --cache-path          path to cache directory\n      --no-cache            do not cache fetched raw data\n      --no-daemon           do not run arthur in daemon mode\n\narthurw\n~~~~~~~\n\n::\n\n    usage: arthurw [-g] [-d <database>] [--burst] [<queue1>...<queueN>] | --help\n\n    King Arthur's worker. It will run Perceval jobs on the quest\n    to retrieve data from software repositories.\n\n    positional arguments:\n       queues               list of queues this worker will listen for\n                            ('create' and 'update', by default)\n\n    optional arguments:\n      -?, --help            show this help message and exit\n      -g, --debug           set debug mode on\n      -d, --database        URL database connection (default: 'redis://localhost/8')\n      -b, --burst           Run in burst mode (quit after all work is done)\n\nRequirements\n------------\n\n-  Python >= 3.4\n-  Redis >= 2.3\n-  python3-dateutil >= 2.6\n-  python3-redis >= 2.10\n-  python3-rq >= 0.6\n-  python3-cherrypy >= 8.1.0\n-  grimoirelab-toolkit >= 0.1.0\n-  perceval >= 0.8\n\nInstallation\n------------\n\n::\n\n    $ pip3 install -r requirements.txt\n    $ python3 setup.py install\n\nHow to run it\n-------------\n\nThe first step is to run a Redis server that will be used for\ncommunicating Arthur's components. Moreover, an Elastic Search server\ncan be used to store the items generated by jobs. Please refer to their\ndocumentation to know how to install and run them both.\n\nTo run Arthur server:\n\n::\n\n    $ arthurd -g -d redis://localhost/8 --es-index http://localhost:9200/items --log-path /tmp/logs/arthud --no-cache\n\nTo run a worker:\n\n::\n\n    $ arthurw -d redis://localhost/8\n\nAdding tasks\n------------\n\nTo add tasks to Arthur, create a JSON object containing the tasks needed\nto fetch data from a set of repositories. Each task will run a Perceval\nbackend, thus, backend parameters will also needed for each task.\n\n::\n\n    $ cat tasks.json\n    {\n        \"tasks\": [\n            {\n                \"task_id\": \"arthur.git\",\n                \"backend\": \"git\",\n                \"backend_args\": {\n                    \"gitpath\": \"/tmp/git/arthur.git/\",\n                    \"uri\": \"https://github.com/grimoirelab/arthur.git\",\n                    \"from_date\": \"2015-03-01\"\n                },\n                \"cache\": {\n                    \"cache\": true,\n                    \"fetch_from_cache\": false\n                },\n                \"scheduler\": {\n                    \"delay\": 10\n                }\n            },\n            {\n                \"task_id\": \"bugzilla_redhat\",\n                \"backend\": \"bugzilla\",\n                \"backend_args\": {\n                    \"url\": \"https://bugzilla.redhat.com/\",\n                    \"from_date\": \"2016-09-19\"\n                },\n                \"cache\": {\n                    \"cache\": true,\n                    \"fetch_from_cache\": false\n                },\n                \"scheduler\": {\n                    \"delay\": 60\n                }\n            }\n        ]\n    }\n\nThen, send this JSON stream to the server calling ``add`` method.\n\n::\n\n    $ curl -H \"Content-Type: application/json\" --data @tasks.json http://127.0.0.1:8080/add\n\nFor this example, items will be stored in the ``items`` index on the\nElastic Search server (http://localhost:9200/items).\n\nListing tasks\n-------------\n\nThe list of tasks currently scheduled can be obtained using the method\n``tasks``.\n\n::\n\n    $ curl http://127.0.0.1:8080/tasks\n\n    {\n        \"tasks\": [\n            {\n                \"backend_args\": {\n                    \"from_date\": \"2015-03-01T00:00:00+00:00\",\n                    \"uri\": \"https://github.com/grimoirelab/arthur.git\",\n                    \"gitpath\": \"/tmp/santi/\"\n                },\n                \"backend\": \"git\",\n                \"created_on\": 1480531707.810326,\n                \"task_id\": \"arthur.git\",\n                \"cache\": {\n                    \"cache_path\": null,\n                    \"fetch_from_cache\": false,\n                    \"cache\": true\n                },\n                \"scheduler\": {\n                    \"max_retries_job\": 3,\n                    \"delay\": 10\n                }\n            }\n        ]\n    }\n\nRemoving tasks\n--------------\n\nScheduled tasks can also be removed calling to the server using the\n``remove`` method. A JSON stream must be provided setting the\nidentifiers of the tasks to be removed.\n\n::\n\n    $ cat tasks_to_remove.json\n\n    {\n        \"tasks\": [\n            {\n                \"task_id\": \"bugzilla_redhat\"\n            },\n            {\n                \"task_id\": \"arthur.git\"\n            }\n        ]\n    }\n\n    $ curl -H \"Content-Type: application/json\" --data @tasks_to_remove.json http://127.0.0.1:8080/remove\n\nLicense\n-------\n\nLicensed under GNU General Public License (GPL), version 3 or later.\n\n.. |Build Status| image:: https://travis-ci.org/grimoirelab/arthur.svg?branch=master\n   :target: https://travis-ci.org/grimoirelab/arthur\n.. |Coverage Status| image:: https://img.shields.io/coveralls/grimoirelab/arthur.svg\n   :target: https://coveralls.io/r/grimoirelab/arthur?branch=master\n\n\n",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/grimoirelab/arthur",
    "keywords": "development repositories analytics perceval rq",
    "license": "GPLv3",
    "maintainer": "",
    "maintainer_email": "",
    "name": "kingarthur",
    "platform": "",
    "project_url": "https://pypi.org/project/kingarthur/",
    "release_url": "https://pypi.org/project/kingarthur/0.1.3/",
    "requires_dist": [
      "grimoirelab-toolkit (>=0.1.0)",
      "perceval (>=0.8.0)",
      "cherrypy (<=11.0.0,>=8.1)",
      "cheroot (==5.8.3)",
      "rq (>=0.6.0)",
      "redis (>=2.10.0)",
      "python-dateutil (>=2.6.0)"
    ],
    "requires_python": ">=3.4",
    "summary": "Distributed job queue platform for scheduling Perceval jobs",
    "version": "0.1.3"
  },
  "releases": {
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "6775317999c018ffcca1f9745df13972",
          "sha256": "7e2f4be68acd06aac290c56f9fe824f39e2e1a4a266d433c615145a61f1a5799"
        },
        "downloads": -1,
        "filename": "kingarthur-0.1.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "6775317999c018ffcca1f9745df13972",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 34454,
        "upload_time": "2017-11-14T19:09:08",
        "url": "https://files.pythonhosted.org/packages/da/63/a2a44d77a8890e2dbf53cddc5b2f815bb4299c813a31e0958bdba9607caa/kingarthur-0.1.1-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "8a8ee6d7b395a5836d708e6433eb50e0",
          "sha256": "6512be8f276426e109ab2ea0da2063b2b68dea2702bd0ae40ceb06cf569c3a46"
        },
        "downloads": -1,
        "filename": "kingarthur-0.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "8a8ee6d7b395a5836d708e6433eb50e0",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 21451,
        "upload_time": "2017-11-14T19:09:10",
        "url": "https://files.pythonhosted.org/packages/a0/23/6b61835d94e54a950eca5b9347222b03757294650b1c27b9e9d9856ff3d1/kingarthur-0.1.1.tar.gz"
      }
    ],
    "0.1.3": [
      {
        "comment_text": "",
        "digests": {
          "md5": "97e3115830316f8cc843bfef90b437f8",
          "sha256": "4da016c14dafeb157405f6aa837dd271a11ff43f620bf4f43280881a6b6246d6"
        },
        "downloads": -1,
        "filename": "kingarthur-0.1.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "97e3115830316f8cc843bfef90b437f8",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "size": 34876,
        "upload_time": "2018-01-23T15:52:26",
        "url": "https://files.pythonhosted.org/packages/11/53/c8beee281de784574e971fb972ff4201e18d3a02cdd4cdc4b4ab7b47add0/kingarthur-0.1.3-py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "691d175cdf9f5f4f731d7559cfaf71c1",
          "sha256": "541cd5f90c1b5a86dd47d5285931b351f1a10f709e76d203fcb943dba3379a9e"
        },
        "downloads": -1,
        "filename": "kingarthur-0.1.3.tar.gz",
        "has_sig": false,
        "md5_digest": "691d175cdf9f5f4f731d7559cfaf71c1",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 21926,
        "upload_time": "2018-01-23T15:52:45",
        "url": "https://files.pythonhosted.org/packages/e4/2c/c5fcbc51b27ca23b1c08ccf7d584a720a02d5ee6a6806e726d66efeece89/kingarthur-0.1.3.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "97e3115830316f8cc843bfef90b437f8",
        "sha256": "4da016c14dafeb157405f6aa837dd271a11ff43f620bf4f43280881a6b6246d6"
      },
      "downloads": -1,
      "filename": "kingarthur-0.1.3-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "97e3115830316f8cc843bfef90b437f8",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "size": 34876,
      "upload_time": "2018-01-23T15:52:26",
      "url": "https://files.pythonhosted.org/packages/11/53/c8beee281de784574e971fb972ff4201e18d3a02cdd4cdc4b4ab7b47add0/kingarthur-0.1.3-py3-none-any.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "691d175cdf9f5f4f731d7559cfaf71c1",
        "sha256": "541cd5f90c1b5a86dd47d5285931b351f1a10f709e76d203fcb943dba3379a9e"
      },
      "downloads": -1,
      "filename": "kingarthur-0.1.3.tar.gz",
      "has_sig": false,
      "md5_digest": "691d175cdf9f5f4f731d7559cfaf71c1",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 21926,
      "upload_time": "2018-01-23T15:52:45",
      "url": "https://files.pythonhosted.org/packages/e4/2c/c5fcbc51b27ca23b1c08ccf7d584a720a02d5ee6a6806e726d66efeece89/kingarthur-0.1.3.tar.gz"
    }
  ]
}
{
  "info": {
    "author": "Giuseppe Chiesa",
    "author_email": "mail@giuseppechiesa.it",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 4 - Beta",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: BSD License",
      "Natural Language :: English",
      "Programming Language :: Python :: 2",
      "Programming Language :: Python :: 2.6",
      "Programming Language :: Python :: 2.7",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.3",
      "Programming Language :: Python :: 3.4",
      "Programming Language :: Python :: 3.5"
    ],
    "description": "===============\nS3Vault Library\n===============\n\n\n.. image:: https://img.shields.io/pypi/v/s3vaultlib.svg\n        :target: https://pypi.python.org/pypi/s3vaultlib\n\n.. image:: https://api.travis-ci.org/gchiesa/s3vaultlib.svg\n        :target: https://travis-ci.org/gchiesa/s3vaultlib\n\n.. image:: https://readthedocs.org/projects/s3vaultlib/badge/?version=latest\n        :target: https://s3vaultlib.readthedocs.io/en/latest/?badge=latest\n        :alt: Documentation Status\n\n.. image:: https://pyup.io/repos/github/gchiesa/s3vaultlib/shield.svg\n     :target: https://pyup.io/repos/github/gchiesa/s3vaultlib/\n     :alt: Updates\n\n\nPython library to expose S3 as vault to store encrypted data\n\nGoal\n----\nWhen you need to deploy some server you always want to have a vault where to store the keymaterials used by the server.\n\nUsually this means you need to deploy a sort of vault server to manage access control and encryption (like Vault from\nHashicorp). But also this service need some secret to be stored.\n\nWith AWS you can leverage on KMS + Policies and Roles to setup the access control and the permission to use encryption\nkey. Then part of the job is already done and can be automatised with cloudformation.\n\nFor the remaining part (provisioning the keymaterials and the retrieval from within the instance) you can use S3Vaultlib\n\nFeatures\n--------\nThe library let you store in an encrypted way, keymaterials into S3, by using server side encryption and different\nkeys per role.\n\nThe main feature of the library though, is the capability to abstract S3 in a way you can use it as key/value store or\nblob store in jinja templates while you are provisioning your instance.\n\nS3Vaultlib comes also with a simple cli, s3vaultcli that help to automate some simple tasks.\n\n\nExample Use Case\n----------------\nWe need to deploy a nginx instance, we need to provision a server name and a port dynamically and the htpasswd file\nfor basic authentication.\n\nFirst of all we will have a KMS key with the name (nginx-key) for the role associated to the instance (nginx-role)\n\nNow we provision the secrets in the vault with the cli:\n\n* nginx configuration::\n\n    s3vaultcli -b <bucket> -p vault/nginx configset -c nginx -K server_name -V www.example.com\n    s3vaultcli -b <bucket> -p vault/nginx configset -c nginx -K server_port -V 8443\n\n* htpasswd upload::\n\n    s3vaultcli -b <bucket> -p vault/nginx push -s htpasswd -d htpasswd\n\n*NOTE:* the library will try to detect the role and use a KMS key with the same alias of the role name. If we are in another\nmachine (or from our local machine we need to have access to the KMS key and specify the alias with the -k key_alias option)\n\nIn S3 now, we will have a structure like this::\n\n    $ aws s3 ls s3://<bucket>/vault/nginx/\n    2017-08-20 18:02:10          5 htpasswd\n    2017-08-20 18:00:39         57 nginx\n\nNow inside the instance we can prepare the templates to expand, for nginx.conf.j2 ::\n\n    $ cat nginx.conf.j2\n    server {\n                    listen       {{ nginx.server_port }};\n                    server_name  {{ nginx.server_name }};\n                    access_log  logs/localhost.access.log  main;\n                    location / {\n                        root   html;\n                        index  index.html index.htm;\n                    }\n            include /etc/nginx/sites-enabled/*;\n            }\n    }\n\nAnd the htpasswd.j2::\n\n    $ cat htpasswd.j2\n    {{ htpasswd }}\n\nWhen the instance starts in the userdata you can use the s3vaultcli tool to render the templates, in this way::\n\n    s3vaultcli -b <bucket> -p vault/nginx template -t nginx.conf.j2 -d nginx.conf\n    s3vaultcli -b <bucket> -p vault/nginx template -t htpasswd -d htpasswd\n\n\nLicense\n-------\n\n* Free software: BSD license\n* Documentation: https://s3vaultlib.readthedocs.io.\n\n\nCredits\n---------\n\nThis package was created with Cookiecutter_ and the `audreyr/cookiecutter-pypackage`_ project template.\n\n.. _Cookiecutter: https://github.com/audreyr/cookiecutter\n.. _`audreyr/cookiecutter-pypackage`: https://github.com/audreyr/cookiecutter-pypackage\n\n\n\n=======\nHistory\n=======\n\n0.1.0 (2017-08-19)\n------------------\n\n* First release on PyPI.",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/gchiesa/s3vaultlib",
    "keywords": "s3vaultlib",
    "license": "BSD license",
    "maintainer": "",
    "maintainer_email": "",
    "name": "s3vaultlib",
    "platform": "",
    "project_url": "https://pypi.org/project/s3vaultlib/",
    "release_url": "https://pypi.org/project/s3vaultlib/0.1.2/",
    "requires_dist": [],
    "requires_python": "",
    "summary": "Python library to expose S3 as vault to store encrypted data",
    "version": "0.1.2"
  },
  "releases": {
    "0.1.0": [
      {
        "comment_text": "",
        "digests": {
          "md5": "c7f429651730f213f0edd03722bf7173",
          "sha256": "2bb4a33d23d4f46f0a5e454738aca069b5023fbab7d55c7ded6460779bafed65"
        },
        "downloads": 0,
        "filename": "s3vaultlib-0.1.0.tar.gz",
        "has_sig": false,
        "md5_digest": "c7f429651730f213f0edd03722bf7173",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 16230,
        "upload_time": "2017-08-20T14:08:49",
        "url": "https://files.pythonhosted.org/packages/fb/a9/1401e3a54091f10b72583ba8e0616ae94f39a39d4dba720aa058f026c583/s3vaultlib-0.1.0.tar.gz"
      }
    ],
    "0.1.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "408fe0d1e096c9246e4449682bdb5d1c",
          "sha256": "7161fc383629b25522d0d341f51eca305fa8987756a43754a5d6b13549a0611e"
        },
        "downloads": 0,
        "filename": "s3vaultlib-0.1.1-py2.py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "408fe0d1e096c9246e4449682bdb5d1c",
        "packagetype": "bdist_wheel",
        "python_version": "2.7",
        "size": 14436,
        "upload_time": "2017-09-29T16:49:08",
        "url": "https://files.pythonhosted.org/packages/4c/e1/519829c79102cc050dbf610fe0e426880d13b32ab58f9a5a256fba6b9dbf/s3vaultlib-0.1.1-py2.py3-none-any.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "96e0cd20b6a195d0911ff88628cc7362",
          "sha256": "a3522697c5007e66688a232e3549f3eb90cceeceb57f435419cda723a2bd4979"
        },
        "downloads": 0,
        "filename": "s3vaultlib-0.1.1.tar.gz",
        "has_sig": false,
        "md5_digest": "96e0cd20b6a195d0911ff88628cc7362",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 20215,
        "upload_time": "2017-09-29T16:49:06",
        "url": "https://files.pythonhosted.org/packages/18/92/b33f18808f12e32704622af1b974c890ba25788d3387fee334c81b6bf55f/s3vaultlib-0.1.1.tar.gz"
      }
    ],
    "0.1.2": [
      {
        "comment_text": "",
        "digests": {
          "md5": "d419d539c87420fe39737e2dcd938be2",
          "sha256": "e2b87bf78b43f240bcba9ef78d613952d23b2adbb6ed2200e269c1059fe19985"
        },
        "downloads": 0,
        "filename": "s3vaultlib-0.1.2.macosx-10.12-x86_64.tar.gz",
        "has_sig": false,
        "md5_digest": "d419d539c87420fe39737e2dcd938be2",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 16539,
        "upload_time": "2017-09-29T19:28:57",
        "url": "https://files.pythonhosted.org/packages/53/22/066593168721e6dda3f7e250f38774c22811c7ce49b12610b5e3cf755728/s3vaultlib-0.1.2.macosx-10.12-x86_64.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "d419d539c87420fe39737e2dcd938be2",
        "sha256": "e2b87bf78b43f240bcba9ef78d613952d23b2adbb6ed2200e269c1059fe19985"
      },
      "downloads": 0,
      "filename": "s3vaultlib-0.1.2.macosx-10.12-x86_64.tar.gz",
      "has_sig": false,
      "md5_digest": "d419d539c87420fe39737e2dcd938be2",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 16539,
      "upload_time": "2017-09-29T19:28:57",
      "url": "https://files.pythonhosted.org/packages/53/22/066593168721e6dda3f7e250f38774c22811c7ce49b12610b5e3cf755728/s3vaultlib-0.1.2.macosx-10.12-x86_64.tar.gz"
    }
  ]
}
{
  "info": {
    "author": "Stefan Behnel",
    "author_email": "stefan_ml@behnel.de",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 5 - Production/Stable",
      "Intended Audience :: Developers",
      "Intended Audience :: Information Technology",
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Cython",
      "Programming Language :: Python :: 2",
      "Programming Language :: Python :: 3",
      "Topic :: Software Development"
    ],
    "description": "FastRLock\n---------\n\nThis is a C-level implementation of a fast, re-entrant, optimistic lock for CPython.\nIt is written in Cython.  Under normal conditions, it is about 10x faster than\nthreading.RLock because it avoids all locking unless two or more threads try\nto acquire it at the same time.  Under congestion, it is still about 10% faster\nthan RLock due to being implemented in Cython.\n\nThis is mostly equivalent to the revised RLock implementation in Python 3.2,\nbut still faster due to being implemented in Cython.\n\nIt was initially published as a code recipe here:\nhttps://code.activestate.com/recipes/577336-fast-re-entrant-optimistic-lock-implemented-in-cyt/\n\n\nHow does it work?\n-----------------\n\nThe FastRLock implementation optimises for the non-congested case.  It works by\nexploiting the availability of the GIL.  Since it knows that it holds the GIL when\nthe acquire()/release() methods are called, it can safely check the lock for being\nheld by other threads and just count any re-entries as long as it is always the\nsame thread that acquires it.  This is a lot faster than actually acquiring the\nunderlying lock.\n\nWhen a second thread wants to acquire the lock as well, it first checks the lock\ncount and finds out that the lock is already owned.  If the underlying lock is also\nheld by another thread already, it then just frees the GIL and asks for acquiring\nthe lock, just like RLock does.  If the underlying lock is not held, however, it\nacquires it immediately and basically hands over the ownership by telling the\ncurrent owner to free it when it's done.  Then, it falls back to the normal\nnon-owner behaviour that asks for the lock and will eventually acquire it when it\ngets released.  This makes sure that the real lock is only acquired when at least\ntwo threads want it.\n\nAll of these operations are basically atomic because any thread that modifies the\nlock state always holds the GIL.  Note that the implementation must not call any\nPython code while handling the lock, as calling into Python may lead to a context\nswitch which hands over the GIL to another thread and thus breaks atomicity.\nTherefore, the code misuses Cython's 'nogil' annotation to make sure that no Python\ncode slips in accidentally.\n\n\nHow fast is it?\n---------------\n\nHere are some timings for Python 2.7:\n\n1) five acquire-release cycles ('lock_unlock'),\n2) five acquire calls followed by five release calls (nested locking, 'reentrant_lock_unlock'),\n3) a mixed and partly nested sequence of acquire and release calls ('mixed_lock_unlock') and\n4) five acquire-release cycles that do not block.\n\nAll four are benchmarked for the single threaded case and the multi threaded case\nwith 10 threads.  I also tested it with 20 threads only to see that it then takes\nabout twice the time.  Note also that the congested case is substantially slower\nfor both locks, so I only looped 1000x here to get useful timings instead of\n100000x for the single threaded case.\n\n::\n\n    Testing threading.RLock\n\n    sequential (x100000):\n    lock_unlock              : 1.408 sec\n    reentrant_lock_unlock    : 1.089 sec\n    mixed_lock_unlock        : 1.212 sec\n    lock_unlock_nonblocking  : 1.415 sec\n\n    threaded 10T (x1000):\n    lock_unlock              : 1.188 sec\n    reentrant_lock_unlock    : 1.039 sec\n    mixed_lock_unlock        : 1.068 sec\n    lock_unlock_nonblocking  : 1.199 sec\n\n    Testing FastRLock\n\n    sequential (x100000):\n    lock_unlock              : 0.122 sec\n    reentrant_lock_unlock    : 0.124 sec\n    mixed_lock_unlock        : 0.137 sec\n    lock_unlock_nonblocking  : 0.156 sec\n\n    threaded 10T (x1000):\n    lock_unlock              : 0.911 sec\n    reentrant_lock_unlock    : 0.938 sec\n    mixed_lock_unlock        : 0.953 sec\n    lock_unlock_nonblocking  : 0.916 sec\n\n\nHow does it compare to Python 3.2 and later?\n--------------------------------------------\n\nHere is the same benchmark run with Py3.2::\n\n    Testing threading.RLock\n\n    sequential (x100000):\n    lock_unlock              : 0.134 sec\n    reentrant_lock_unlock    : 0.120 sec\n    mixed_lock_unlock        : 0.151 sec\n    lock_unlock_nonblocking  : 0.177 sec\n\n    threaded 10T (x1000):\n    lock_unlock              : 0.885 sec\n    reentrant_lock_unlock    : 0.972 sec\n    mixed_lock_unlock        : 0.883 sec\n    lock_unlock_nonblocking  : 0.911 sec\n\n    Testing FastRLock\n\n    sequential (x100000):\n    lock_unlock              : 0.093 sec\n    reentrant_lock_unlock    : 0.093 sec\n    mixed_lock_unlock        : 0.104 sec\n    lock_unlock_nonblocking  : 0.112 sec\n\n    threaded 10T (x1000):\n    lock_unlock              : 0.943 sec\n    reentrant_lock_unlock    : 0.871 sec\n    mixed_lock_unlock        : 0.920 sec\n    lock_unlock_nonblocking  : 0.908 sec\n\nSo, in the single-threaded case, the C implementation in Py3.2 is only\nabout 20-50% slower than the Cython implementation here, whereas it is\nmore or less as fast in the congested case.\n\n\n===================\nfastrlock changelog\n===================\n\n0.1 (2017-06-04)\n================\n\n* initial release",
    "docs_url": null,
    "download_url": "UNKNOWN",
    "downloads": {
      "last_day": 0,
      "last_month": 0,
      "last_week": 0
    },
    "home_page": "https://github.com/scoder/fastrlock",
    "keywords": null,
    "license": "MIT style",
    "maintainer": null,
    "maintainer_email": null,
    "name": "fastrlock",
    "platform": "UNKNOWN",
    "project_url": "https://pypi.org/project/fastrlock/",
    "release_url": "https://pypi.org/project/fastrlock/0.1/",
    "requires_python": null,
    "summary": "Fast, re-entrant optimistic lock implemented in Cython",
    "version": "0.1"
  },
  "releases": {
    "0.1": [
      {
        "comment_text": "",
        "digests": {
          "md5": "6e32f77f36e72c294f0eb94a2c69b155",
          "sha256": "e9a7a5260a54a9f8f26ebb8b8c9bd7c76332149d481d0f5bb1c2833572e56ffb"
        },
        "downloads": 0,
        "filename": "fastrlock-0.1-cp27-cp27m-manylinux1_x86_64.whl",
        "has_sig": false,
        "md5_digest": "6e32f77f36e72c294f0eb94a2c69b155",
        "packagetype": "bdist_wheel",
        "python_version": "cp27",
        "size": 63700,
        "upload_time": "2017-06-04T20:42:07",
        "url": "https://files.pythonhosted.org/packages/b5/1a/55daec029243494ce12de8fa75014fd37f168f5bd0d1f77738df52f4bdb7/fastrlock-0.1-cp27-cp27m-manylinux1_x86_64.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "8bd35c25d82fcad7e02107c0cceff168",
          "sha256": "f8909354c952c90ecab88f1cd06541a28d9e886b21b439a866bc81ae1322d8de"
        },
        "downloads": 0,
        "filename": "fastrlock-0.1-cp27-cp27mu-manylinux1_x86_64.whl",
        "has_sig": false,
        "md5_digest": "8bd35c25d82fcad7e02107c0cceff168",
        "packagetype": "bdist_wheel",
        "python_version": "cp27",
        "size": 63684,
        "upload_time": "2017-06-04T20:42:09",
        "url": "https://files.pythonhosted.org/packages/af/4c/8f380ba848a9be13c129046af76229f917451f2670496e7132003fe7063e/fastrlock-0.1-cp27-cp27mu-manylinux1_x86_64.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "7ba8b707609aaf530f35bf7e47062065",
          "sha256": "547dd178d4e3b3bc326ccb83688ffaa6313286b1010683bc6824e486121e305e"
        },
        "downloads": 0,
        "filename": "fastrlock-0.1-cp33-cp33m-manylinux1_x86_64.whl",
        "has_sig": false,
        "md5_digest": "7ba8b707609aaf530f35bf7e47062065",
        "packagetype": "bdist_wheel",
        "python_version": "cp33",
        "size": 64807,
        "upload_time": "2017-06-04T20:42:12",
        "url": "https://files.pythonhosted.org/packages/60/98/8e37aa1517a269a52332ce46a5fde86ea65fdcc544414cf18c08a09aa3c6/fastrlock-0.1-cp33-cp33m-manylinux1_x86_64.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "49b7ae1a2c8e543976d6a4fea4528cf8",
          "sha256": "3558adb47a0829773404b5632e89a08d7f1d4af6c004317a54ee02ca3561359a"
        },
        "downloads": 0,
        "filename": "fastrlock-0.1-cp34-cp34m-manylinux1_x86_64.whl",
        "has_sig": false,
        "md5_digest": "49b7ae1a2c8e543976d6a4fea4528cf8",
        "packagetype": "bdist_wheel",
        "python_version": "cp34",
        "size": 67313,
        "upload_time": "2017-06-04T20:42:16",
        "url": "https://files.pythonhosted.org/packages/b2/0a/ea044cbdba6e3fd7e7d630d91078bffaa6bad3205adaedb40f36a73203ab/fastrlock-0.1-cp34-cp34m-manylinux1_x86_64.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "01027cae7b25fc89654feac9bf8bbc63",
          "sha256": "4a02626874581090d18a58fa8cf84b1974890179d9da4463e1e12855d2faf529"
        },
        "downloads": 0,
        "filename": "fastrlock-0.1-cp35-cp35m-manylinux1_x86_64.whl",
        "has_sig": false,
        "md5_digest": "01027cae7b25fc89654feac9bf8bbc63",
        "packagetype": "bdist_wheel",
        "python_version": "cp35",
        "size": 66568,
        "upload_time": "2017-06-04T20:42:19",
        "url": "https://files.pythonhosted.org/packages/1a/5c/37311e3ee883695b6c315a76b8b7bcc86ab2da85c21b103607715884737e/fastrlock-0.1-cp35-cp35m-manylinux1_x86_64.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "b55ebb639e704b2e6c40e373600207d9",
          "sha256": "8025d177f1c427e6655c42a45b273c91d925f845f46196f5e5e6bbd2fb0f2520"
        },
        "downloads": 0,
        "filename": "fastrlock-0.1-cp36-cp36m-manylinux1_x86_64.whl",
        "has_sig": false,
        "md5_digest": "b55ebb639e704b2e6c40e373600207d9",
        "packagetype": "bdist_wheel",
        "python_version": "cp36",
        "size": 66764,
        "upload_time": "2017-06-04T20:42:21",
        "url": "https://files.pythonhosted.org/packages/43/bf/20b430784acf71623e1aa41ab1543f41840aab195e999fefe25df6dea62a/fastrlock-0.1-cp36-cp36m-manylinux1_x86_64.whl"
      },
      {
        "comment_text": "",
        "digests": {
          "md5": "6076db7b1561ad6c404592ba0fc8cbc5",
          "sha256": "549b8e687600e9481e2e0043eb99af380e30dd7f561cd7bd39d97bc1ce9297c0"
        },
        "downloads": 0,
        "filename": "fastrlock-0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "6076db7b1561ad6c404592ba0fc8cbc5",
        "packagetype": "sdist",
        "python_version": "source",
        "size": 37452,
        "upload_time": "2017-06-04T20:16:52",
        "url": "https://files.pythonhosted.org/packages/25/07/20e36384c749af052b57f6179745aa006b44b28657b884af8542f4f10572/fastrlock-0.1.tar.gz"
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "md5": "6e32f77f36e72c294f0eb94a2c69b155",
        "sha256": "e9a7a5260a54a9f8f26ebb8b8c9bd7c76332149d481d0f5bb1c2833572e56ffb"
      },
      "downloads": 0,
      "filename": "fastrlock-0.1-cp27-cp27m-manylinux1_x86_64.whl",
      "has_sig": false,
      "md5_digest": "6e32f77f36e72c294f0eb94a2c69b155",
      "packagetype": "bdist_wheel",
      "python_version": "cp27",
      "size": 63700,
      "upload_time": "2017-06-04T20:42:07",
      "url": "https://files.pythonhosted.org/packages/b5/1a/55daec029243494ce12de8fa75014fd37f168f5bd0d1f77738df52f4bdb7/fastrlock-0.1-cp27-cp27m-manylinux1_x86_64.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "8bd35c25d82fcad7e02107c0cceff168",
        "sha256": "f8909354c952c90ecab88f1cd06541a28d9e886b21b439a866bc81ae1322d8de"
      },
      "downloads": 0,
      "filename": "fastrlock-0.1-cp27-cp27mu-manylinux1_x86_64.whl",
      "has_sig": false,
      "md5_digest": "8bd35c25d82fcad7e02107c0cceff168",
      "packagetype": "bdist_wheel",
      "python_version": "cp27",
      "size": 63684,
      "upload_time": "2017-06-04T20:42:09",
      "url": "https://files.pythonhosted.org/packages/af/4c/8f380ba848a9be13c129046af76229f917451f2670496e7132003fe7063e/fastrlock-0.1-cp27-cp27mu-manylinux1_x86_64.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "7ba8b707609aaf530f35bf7e47062065",
        "sha256": "547dd178d4e3b3bc326ccb83688ffaa6313286b1010683bc6824e486121e305e"
      },
      "downloads": 0,
      "filename": "fastrlock-0.1-cp33-cp33m-manylinux1_x86_64.whl",
      "has_sig": false,
      "md5_digest": "7ba8b707609aaf530f35bf7e47062065",
      "packagetype": "bdist_wheel",
      "python_version": "cp33",
      "size": 64807,
      "upload_time": "2017-06-04T20:42:12",
      "url": "https://files.pythonhosted.org/packages/60/98/8e37aa1517a269a52332ce46a5fde86ea65fdcc544414cf18c08a09aa3c6/fastrlock-0.1-cp33-cp33m-manylinux1_x86_64.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "49b7ae1a2c8e543976d6a4fea4528cf8",
        "sha256": "3558adb47a0829773404b5632e89a08d7f1d4af6c004317a54ee02ca3561359a"
      },
      "downloads": 0,
      "filename": "fastrlock-0.1-cp34-cp34m-manylinux1_x86_64.whl",
      "has_sig": false,
      "md5_digest": "49b7ae1a2c8e543976d6a4fea4528cf8",
      "packagetype": "bdist_wheel",
      "python_version": "cp34",
      "size": 67313,
      "upload_time": "2017-06-04T20:42:16",
      "url": "https://files.pythonhosted.org/packages/b2/0a/ea044cbdba6e3fd7e7d630d91078bffaa6bad3205adaedb40f36a73203ab/fastrlock-0.1-cp34-cp34m-manylinux1_x86_64.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "01027cae7b25fc89654feac9bf8bbc63",
        "sha256": "4a02626874581090d18a58fa8cf84b1974890179d9da4463e1e12855d2faf529"
      },
      "downloads": 0,
      "filename": "fastrlock-0.1-cp35-cp35m-manylinux1_x86_64.whl",
      "has_sig": false,
      "md5_digest": "01027cae7b25fc89654feac9bf8bbc63",
      "packagetype": "bdist_wheel",
      "python_version": "cp35",
      "size": 66568,
      "upload_time": "2017-06-04T20:42:19",
      "url": "https://files.pythonhosted.org/packages/1a/5c/37311e3ee883695b6c315a76b8b7bcc86ab2da85c21b103607715884737e/fastrlock-0.1-cp35-cp35m-manylinux1_x86_64.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "b55ebb639e704b2e6c40e373600207d9",
        "sha256": "8025d177f1c427e6655c42a45b273c91d925f845f46196f5e5e6bbd2fb0f2520"
      },
      "downloads": 0,
      "filename": "fastrlock-0.1-cp36-cp36m-manylinux1_x86_64.whl",
      "has_sig": false,
      "md5_digest": "b55ebb639e704b2e6c40e373600207d9",
      "packagetype": "bdist_wheel",
      "python_version": "cp36",
      "size": 66764,
      "upload_time": "2017-06-04T20:42:21",
      "url": "https://files.pythonhosted.org/packages/43/bf/20b430784acf71623e1aa41ab1543f41840aab195e999fefe25df6dea62a/fastrlock-0.1-cp36-cp36m-manylinux1_x86_64.whl"
    },
    {
      "comment_text": "",
      "digests": {
        "md5": "6076db7b1561ad6c404592ba0fc8cbc5",
        "sha256": "549b8e687600e9481e2e0043eb99af380e30dd7f561cd7bd39d97bc1ce9297c0"
      },
      "downloads": 0,
      "filename": "fastrlock-0.1.tar.gz",
      "has_sig": false,
      "md5_digest": "6076db7b1561ad6c404592ba0fc8cbc5",
      "packagetype": "sdist",
      "python_version": "source",
      "size": 37452,
      "upload_time": "2017-06-04T20:16:52",
      "url": "https://files.pythonhosted.org/packages/25/07/20e36384c749af052b57f6179745aa006b44b28657b884af8542f4f10572/fastrlock-0.1.tar.gz"
    }
  ]
}